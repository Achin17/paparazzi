<!DOCTYPE module SYSTEM "module.dtd">

<module name="stereocam_range2roll" dir="stereocam">
  <doc>
    <description>Stereocam Range 2 Pitch/Roll angles</description>
  </doc>
  <header>
    <file name="stereocam_range2roll.h"/>
  </header>
  <init fun="range2roll_init()"/>
  <periodic fun="range2roll_periodic()" freq="100" autorun="TRUE"/>
  <makefile>
    <file name="stereocam_range2roll.c"/>
    <raw>
      STEREO_UART ?= UART1
      STEREO_BAUD ?= B9600
      STEREO_LED ?= 3
      STEREO_UART_LOWER=$(shell echo $(STEREO_UART) | tr A-Z a-z)
    </raw>
    <raw>
      ap.CFLAGS += -DGUIDANCE_V_MODE_MODULE_SETTING=GUIDANCE_V_MODE_HOVER
      ap.CFLAGS += -DGUIDANCE_H_MODE_MODULE_SETTING=GUIDANCE_H_MODE_MODULE
    </raw>
    <define name="USE_$(STEREO_UART)"/>
    <define name="STEREO_UART" value="$(STEREO_UART_LOWER)"/>
    <define name="$(STEREO_UART)_BAUD" value="$(STEREO_BAUD)"/>
  </makefile>
</module>

