<configuration time_of_day="1405360804.27" data_file="14_07_14__20_00_04.data">
  <conf>
    <aircraft name="Alacrity" ac_id="208" airframe="airframes/OpenUAS/openuas_alacrity.xml" radio="radios/OpenUAS/openuas_mx22_alacrity-ap.xml" telemetry="telemetry/default_fixedwing_imu_9k6.xml" flight_plan="flight_plans/versatile.xml" settings="settings/fixedwing_basic.xml settings/control/ctl_basic.xml settings/estimation/ins_neutrals.xml" gui_color="#ffffde812c2c">
      <radio SYNC_MIN="5000" SYNC_MAX="15000" PULSE_TYPE="NEGATIVE" NAME="OpenUAS MX22" DATA_MIN="1000" DATA_MAX="2000">
        <channel NEUTRAL="1110" MIN="1100" MAX="1900" FUNCTION="THROTTLE" CTL="LeftStickVertical" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="ROLL" CTL="RightStickHorizontal" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="PITCH" CTL="RightStickVertical" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="YAW" CTL="LeftStickHorizontal" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MODE" CTL="CONTROL8" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1999" FUNCTION="CAMBER" CTL="CONTROL9" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="AIRBRAKE" CTL="CONTROL10" AVERAGE="0"/>
        <channel NEUTRAL="1998" MIN="1100" MAX="1999" FUNCTION="MANUALRELEASE" CTL="SW8" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="NOTUSED" CTL="NONE" AVERAGE="0"/>
      </radio>
      <dump>
        <flight_plan security_height="25" qfu="270" name="Versatile" max_dist_from_home="1500" lon0="1.2729" lat0="43.4622" home_mode_height="50" ground_alt="185" alt="260">
          <header>#include &quot;subsystems/datalink/datalink.h&quot;</header>
          <waypoints>
            <waypoint y="0" x="0" name="HOME"/>
            <waypoint y="80" x="20" name="STDBY"/>
            <waypoint y="102.2" x="44.8" name="1"/>
            <waypoint y="122.9" x="-63.5" name="2"/>
            <waypoint y="-21.2" x="-11.5" name="MOB"/>
            <waypoint y="80.4" x="-151.6" name="S1"/>
            <waypoint y="214.9" x="180.1" name="S2"/>
            <waypoint y="-10" x="200" name="AF" alt="215.0"/>
            <waypoint y="20.0" x="80.0" name="TD" alt="185.0"/>
            <waypoint y="-23.0" x="26.9" name="BASELEG"/>
            <waypoint y="0" x="-100" name="_1"/>
            <waypoint y="200" x="-100" name="_2"/>
            <waypoint y="200" x="100" name="_3"/>
            <waypoint y="0" x="100" name="_4"/>
            <waypoint y="35.4" x="-122.5" name="CLIMB"/>
          </waypoints>
          <sectors>
            <sector name="Square">
              <corner name="_1"/>
              <corner name="_2"/>
              <corner name="_3"/>
              <corner name="_4"/>
            </sector>
          </sectors>
          <exceptions/>
          <blocks>
            <block name="Wait GPS" no="0">
              <set var="kill_throttle" value="1" no="0"/>
              <while cond="!GpsFixValid()" no="1"/>
            </block>
            <block name="Geo init" no="1">
              <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
            </block>
            <block name="Holding point" no="2">
              <set var="kill_throttle" value="1" no="0"/>
              <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff (wp CLIMB)" name="Takeoff" no="3">
              <exception deroute="Standby" cond="GetPosAlt() > GetAltRef()+25"/>
              <set var="kill_throttle" value="0" no="0"/>
              <go wp="CLIMB" no="1"/>
            </block>
            <block strip_icon="home.png" strip_button="Standby" name="Standby" no="4">
              <circle wp="STDBY" radius="nav_radius" no="0"/>
            </block>
            <block strip_icon="line.png" strip_button="Line (wp 1-2)" name="Line 1-2" group="extra_pattern" no="5">
              <call fun="nav_line_setup()" no="0"/>
              <call fun="nav_line_run(WP_1, WP_2, nav_radius)" no="1"/>
            </block>
            <block strip_icon="eight.png" strip_button="Figure 8 (wp 1-2)" name="Figure 8 around wp 1" no="6">
              <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
            </block>
            <block strip_icon="oval.png" strip_button="Oval (wp 1-2)" name="Oval 1-2" no="7">
              <oval radius="nav_radius" p2="2" p1="1" no="1"/>
            </block>
            <block strip_icon="mob.png" strip_button="Circle around here" name="MOB" no="8">
              <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
              <circle wp="MOB" radius="100" no="1"/>
            </block>
            <block name="Auto pitch (circle wp 1)" no="9">
              <circle wp="1" throttle="0.7" radius="75" pitch="auto" no="0"/>
            </block>
            <block name="Climb 75% throttle" no="10">
              <circle wp="1" vmode="throttle" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" throttle="0.75" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="10" no="0"/>
            </block>
            <block name="Climb 0m/s" no="11">
              <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="nav_radius" climb="0" no="0"/>
            </block>
            <block name="Climb 1m/s" no="12">
              <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="5" climb="1" no="0"/>
            </block>
            <block name="Climb nav_climb m/s" no="13">
              <circle wp="1" vmode="climb" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" radius="nav_radius" climb="nav_climb" no="0"/>
            </block>
            <block name="Circle 0% throttle" no="14">
              <circle wp="1" vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" no="0"/>
              <deroute block="Standby" no="1"/>
            </block>
            <block name="Oval 0% throttle" no="15">
              <oval vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" p2="2" p1="1" no="1"/>
              <deroute block="Standby" no="2"/>
            </block>
            <block name="Route 1-2" no="16">
              <go wp="2" hmode="route" from="1" approaching_time="0" no="0"/>
            </block>
            <block name="Stack wp 2" no="17">
              <circle wp="2" radius="75" no="0"/>
            </block>
            <block name="Route 2-1" no="18">
              <go wp="1" hmode="route" from="2" approaching_time="0" no="0"/>
            </block>
            <block name="Stack wp 1" no="19">
              <circle wp="1" radius="75" no="0"/>
            </block>
            <block name="Glide 1-2" no="20">
              <go wp="2" vmode="glide" hmode="route" from="1" no="0"/>
              <deroute block="Standby" no="1"/>
            </block>
            <block strip_icon="survey.png" strip_button="Survey (wp S1-S2)" name="Survey S1-S2" no="21">
              <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
            </block>
            <block strip_icon="land-right.png" strip_button="Land right (wp AF-TD)" name="Land Right AF-TD" no="22">
              <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block strip_icon="land-left.png" strip_button="Land left (wp AF-TD)" name="Land Left AF-TD" no="23">
              <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block name="land" no="24">
              <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP_BASELEG, nav_radius)" no="0"/>
              <circle wp="BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
              <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MIN_CRUISE_THROTTLE" no="2"/>
              <circle wp="BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 10 > fabs(GetPosAlt() - WaypointAlt(WP_BASELEG))" radius="nav_radius" no="3"/>
            </block>
            <block name="final" no="25">
              <exception deroute="flare" cond="GetAltRef() + 10 > GetPosAlt()"/>
              <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
            </block>
            <block name="flare" no="26">
              <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
            </block>
            <block name="Steps roll -10, +10" no="27">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
                <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
              </while>
            </block>
            <block name="Steps roll -20, +20" no="28">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
                <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
              </while>
            </block>
            <block name="Steps pitch -10, +10" no="29">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
                <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
              </while>
            </block>
            <block name="Heading 30" no="30">
              <heading until="FALSE" course="30" alt="GetAltRef()+50" no="0"/>
            </block>
            <block name="For loop (circles wp 1)" no="31">
              <for var="i" to="3" from="0" no="1">
                <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
              </for>
              <deroute block="Standby" no="4"/>
            </block>
            <block name="Test datalink (go to wp 2)" no="32">
              <exception deroute="Standby" cond="datalink_time > 22"/>
              <go wp="2" hmode="route" from="STDBY" no="0"/>
              <go wp="STDBY" hmode="route" from="2" no="1"/>
            </block>
            <block name="Fly in Square" no="33">
              <exception deroute="Come back wp 1" cond="! InsideSquare(GetPosX(), GetPosY())"/>
              <attitude vmode="alt" roll="0" alt="GetAltRef()+75" no="0"/>
            </block>
            <block name="Come back wp 1" no="34">
              <exception deroute="Fly in Square" cond="InsideSquare(GetPosX(), GetPosY())"/>
              <go wp="1" no="0"/>
              <deroute block="Fly in Square" no="1"/>
            </block>
            <block name="HOME" no="35">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="35" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="34" block_name="Come back wp 1" stage="1">
            <deroute block="Fly in Square" no="1"/>
          </stage>
          <stage block="34" block_name="Come back wp 1" stage="0">
            <go wp="1" no="0"/>
          </stage>
          <stage block="33" block_name="Fly in Square" stage="0">
            <attitude vmode="alt" roll="0" alt="GetAltRef()+75" no="0"/>
          </stage>
          <stage block="32" block_name="Test datalink (go to wp 2)" stage="1">
            <go wp="STDBY" hmode="route" from="2" no="1"/>
          </stage>
          <stage block="32" block_name="Test datalink (go to wp 2)" stage="0">
            <go wp="2" hmode="route" from="STDBY" no="0"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="4">
            <deroute block="Standby" no="4"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="2">
            <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="1">
            <for var="i" to="3" from="0" no="1">
              <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
            </for>
          </stage>
          <stage block="30" block_name="Heading 30" stage="0">
            <heading until="FALSE" course="30" alt="GetAltRef()+50" no="0"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="2">
            <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="1">
            <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
              <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="2">
            <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="1">
            <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
              <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="2">
            <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="1">
            <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
              <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="26" block_name="flare" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
          </stage>
          <stage block="26" block_name="flare" stage="0">
            <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
          </stage>
          <stage block="25" block_name="final" stage="0">
            <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
          </stage>
          <stage block="24" block_name="land" stage="3">
            <circle wp="BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 10 > fabs(GetPosAlt() - WaypointAlt(WP_BASELEG))" radius="nav_radius" no="3"/>
          </stage>
          <stage block="24" block_name="land" stage="2">
            <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MIN_CRUISE_THROTTLE" no="2"/>
          </stage>
          <stage block="24" block_name="land" stage="1">
            <circle wp="BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
          </stage>
          <stage block="24" block_name="land" stage="0">
            <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP_BASELEG, nav_radius)" no="0"/>
          </stage>
          <stage block="23" block_name="Land Left AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="23" block_name="Land Left AF-TD" stage="0">
            <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="22" block_name="Land Right AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="22" block_name="Land Right AF-TD" stage="0">
            <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="21" block_name="Survey S1-S2" stage="1">
            <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
          </stage>
          <stage block="20" block_name="Glide 1-2" stage="1">
            <deroute block="Standby" no="1"/>
          </stage>
          <stage block="20" block_name="Glide 1-2" stage="0">
            <go wp="2" vmode="glide" hmode="route" from="1" no="0"/>
          </stage>
          <stage block="19" block_name="Stack wp 1" stage="0">
            <circle wp="1" radius="75" no="0"/>
          </stage>
          <stage block="18" block_name="Route 2-1" stage="0">
            <go wp="1" hmode="route" from="2" approaching_time="0" no="0"/>
          </stage>
          <stage block="17" block_name="Stack wp 2" stage="0">
            <circle wp="2" radius="75" no="0"/>
          </stage>
          <stage block="16" block_name="Route 1-2" stage="0">
            <go wp="2" hmode="route" from="1" approaching_time="0" no="0"/>
          </stage>
          <stage block="15" block_name="Oval 0% throttle" stage="2">
            <deroute block="Standby" no="2"/>
          </stage>
          <stage block="15" block_name="Oval 0% throttle" stage="1">
            <oval vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="14" block_name="Circle 0% throttle" stage="1">
            <deroute block="Standby" no="1"/>
          </stage>
          <stage block="14" block_name="Circle 0% throttle" stage="0">
            <circle wp="1" vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" no="0"/>
          </stage>
          <stage block="13" block_name="Climb nav_climb m/s" stage="0">
            <circle wp="1" vmode="climb" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" radius="nav_radius" climb="nav_climb" no="0"/>
          </stage>
          <stage block="12" block_name="Climb 1m/s" stage="0">
            <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="5" climb="1" no="0"/>
          </stage>
          <stage block="11" block_name="Climb 0m/s" stage="0">
            <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="nav_radius" climb="0" no="0"/>
          </stage>
          <stage block="10" block_name="Climb 75% throttle" stage="0">
            <circle wp="1" vmode="throttle" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" throttle="0.75" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="10" no="0"/>
          </stage>
          <stage block="9" block_name="Auto pitch (circle wp 1)" stage="0">
            <circle wp="1" throttle="0.7" radius="75" pitch="auto" no="0"/>
          </stage>
          <stage block="8" block_name="MOB" stage="1">
            <circle wp="MOB" radius="100" no="1"/>
          </stage>
          <stage block="8" block_name="MOB" stage="0">
            <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
          </stage>
          <stage block="7" block_name="Oval 1-2" stage="1">
            <oval radius="nav_radius" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="6" block_name="Figure 8 around wp 1" stage="1">
            <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
          </stage>
          <stage block="5" block_name="Line 1-2" stage="1">
            <call fun="nav_line_run(WP_1, WP_2, nav_radius)" no="1"/>
          </stage>
          <stage block="5" block_name="Line 1-2" stage="0">
            <call fun="nav_line_setup()" no="0"/>
          </stage>
          <stage block="4" block_name="Standby" stage="0">
            <circle wp="STDBY" radius="nav_radius" no="0"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="1">
            <go wp="CLIMB" no="1"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="0">
            <set var="kill_throttle" value="0" no="0"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="1">
            <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="0">
            <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="1">
            <while cond="!GpsFixValid()" no="1"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Alacrity">
        <firmware NAME="fixedwing">
          <target NAME="ap" BOARD="twog_1.0"/>
          <target NAME="sim" BOARD="pc"/>
          <define NAME="AGR_CLIMB"/>
          <define NAME="LOITER_TRIM"/>
          <define NAME="STRONG_WIND"/>
          <define NAME="WIND_INFO"/>
          <define NAME="WIND_INFO_RET"/>
          <define NAME="ALT_KALMAN"/>
          <define NAME="USE_I2C0"/>
          <subsystem TYPE="transparent" NAME="telemetry">
            <configure VALUE="B9600" NAME="MODEM_BAUD"/>
            <configure VALUE="UART1" NAME="MODEM_PORT"/>
          </subsystem>
          <subsystem TYPE="ppm" NAME="radio_control"/>
          <subsystem TYPE="rc" NAME="settings"/>
          <subsystem NAME="control"/>
          <subsystem TYPE="infrared" NAME="ahrs"/>
          <subsystem TYPE="ublox" NAME="gps"/>
          <subsystem TYPE="extra" NAME="navigation"/>
        </firmware>
        <modules MAIN_FREQ="60">
          <load NAME="infrared_adc.xml"/>
          <load NAME="airspeed_ets.xml">
            <define NAME="SENSOR_SYNC_SEND"/>
          </load>
          <load NAME="adc_generic.xml">
            <configure VALUE="ADC_3" NAME="ADC_CHANNEL_GENERIC1"/>
            <configure VALUE="ADC_4" NAME="ADC_CHANNEL_GENERIC2"/>
            <configure VALUE="ADC_7" NAME="ADC_CHANNEL_GENERIC1"/>
          </load>
        </modules>
        <servos>
          <servo NO="0" NEUTRAL="1110" NAME="MOTOR" MIN="1100" MAX="1900"/>
          <servo NO="1" NEUTRAL="1540" NAME="LAILERON" MIN="1100" MAX="1900"/>
          <servo NO="2" NEUTRAL="1500" NAME="ELEVATOR" MIN="1100" MAX="1920"/>
          <servo NO="3" NEUTRAL="1555" NAME="RUDDER" MIN="1060" MAX="1970"/>
          <servo NO="5" NEUTRAL="1460" NAME="RAILERON" MIN="1100" MAX="1900"/>
          <servo NO="4" NEUTRAL="1800" NAME="FLAP" MIN="1500" MAX="1999"/>
          <servo NO="6" NEUTRAL="1120" NAME="TURBULATOR" MIN="1100" MAX="1950"/>
          <servo NO="7" NEUTRAL="1990" NAME="HATCH" MIN="1010" MAX="1999"/>
        </servos>
        <commands>
          <axis NAME="THROTTLE" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="0"/>
          <axis NAME="PITCH" FAILSAFE_VALUE="0"/>
          <axis NAME="YAW" FAILSAFE_VALUE="0"/>
          <axis NAME="CAMBER" FAILSAFE_VALUE="0"/>
          <axis NAME="AIRBRAKE" FAILSAFE_VALUE="0"/>
          <axis NAME="HATCH" FAILSAFE_VALUE="0"/>
        </commands>
        <rc_commands>
          <set VALUE="@THROTTLE" COMMAND="THROTTLE"/>
          <set VALUE="@ROLL" COMMAND="ROLL"/>
          <set VALUE="@PITCH" COMMAND="PITCH"/>
          <set VALUE="@YAW" COMMAND="YAW"/>
          <set VALUE="@CAMBER" COMMAND="CAMBER"/>
          <set VALUE="@AIRBRAKE" COMMAND="AIRBRAKE"/>
          <set VALUE="@MANUALRELEASE" COMMAND="HATCH"/>
        </rc_commands>
        <auto_rc_commands>
          <set VALUE="@CAMBER" COMMAND="CAMBER"/>
          <set VALUE="@AIRBRAKE" COMMAND="AIRBRAKE"/>
          <set VALUE="@MANUALRELEASE" COMMAND="HATCH"/>
        </auto_rc_commands>
        <command_laws>
          <set VALUE="@THROTTLE" SERVO="MOTOR"/>
          <set VALUE="@ROLL" SERVO="LAILERON"/>
          <set VALUE="@PITCH" SERVO="ELEVATOR"/>
          <set VALUE="@YAW" SERVO="RUDDER"/>
          <set VALUE="@ROLL" SERVO="RAILERON"/>
          <set VALUE="@CAMBER" SERVO="FLAP"/>
          <set VALUE="@AIRBRAKE" SERVO="TURBULATOR"/>
          <set VALUE="@HATCH" SERVO="HATCH"/>
        </command_laws>
        <section PREFIX="AUTO1_" NAME="AUTO1">
          <define VALUE="0.98" NAME="MAX_ROLL"/>
          <define VALUE="0.98" NAME="MAX_PITCH"/>
        </section>
        <section PREFIX="IR_" NAME="INFRARED">
          <define VALUE="512" NAME="ADC_IR1_NEUTRAL"/>
          <define VALUE="512" NAME="ADC_IR2_NEUTRAL"/>
          <define VALUE="512" NAME="ADC_TOP_NEUTRAL"/>
          <define VALUE="1.0" NAME="CORRECTION_UP"/>
          <define VALUE="1.0" NAME="CORRECTION_DOWN"/>
          <define VALUE="1.0" NAME="CORRECTION_LEFT"/>
          <define VALUE="1.0" NAME="CORRECTION_RIGHT"/>
          <define VALUE="0.7" NAME="LATERAL_CORRECTION"/>
          <define VALUE="0.7" NAME="LONGITUDINAL_CORRECTION"/>
          <define VALUE="1.0" NAME="VERTICAL_CORRECTION"/>
          <define VALUE="1" NAME="HORIZ_SENSOR_TILTED"/>
          <define VALUE="-1" NAME="IR1_SIGN"/>
          <define VALUE="-1" NAME="IR2_SIGN"/>
          <define VALUE="-1" NAME="TOP_SIGN"/>
          <define VALUE="0" UNIT="deg" NAME="ROLL_NEUTRAL_DEFAULT"/>
          <define VALUE="0" UNIT="deg" NAME="PITCH_NEUTRAL_DEFAULT"/>
        </section>
        <section NAME="BAT">
          <define VALUE="ADC_3" NAME="ADC_CHANNEL_CURRENT"/>
          <define VALUE="(adc*88)" NAME="MilliAmpereOfAdc(adc)"/>
          <define VALUE="9.3" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
          <define VALUE="9.6" UNIT="V" NAME="CRITIC_BAT_LEVEL"/>
          <define VALUE="9.8" UNIT="V" NAME="LOW_BAT_LEVEL"/>
          <define VALUE="12.4" UNIT="V" NAME="MAX_BAT_LEVEL"/>
        </section>
        <section NAME="MISC">
          <define VALUE="12.0" UNIT="m/s" NAME="MINIMUM_AIRSPEED"/>
          <define VALUE="21.0" UNIT="m/s" NAME="NOMINAL_AIRSPEED"/>
          <define VALUE="30.0" UNIT="m/s" NAME="MAXIMUM_AIRSPEED"/>
          <define VALUE="5.0" UNIT="s" NAME="CARROT"/>
          <define VALUE="(1.5*MAX_DIST_FROM_HOME)" NAME="KILL_MODE_DISTANCE"/>
          <define VALUE="60" UNIT="Hz" NAME="CONTROL_RATE"/>
          <define VALUE="TRUE" NAME="NO_XBEE_API_INIT"/>
          <define VALUE="PPRZ_MODE_AUTO1" NAME="RC_LOST_MODE"/>
          <define VALUE="TRUE" NAME="ALT_KALMAN_ENABLED"/>
          <define VALUE="1.0" NAME="TRIGGER_DELAY"/>
          <define VALUE="100.0" NAME="DEFAULT_CIRCLE_RADIUS"/>
          <define VALUE="80.0" NAME="MIN_CIRCLE_RADIUS"/>
        </section>
        <section PREFIX="V_CTL_" NAME="VERTICAL CONTROL">
          <define VALUE="11.2" UNIT="volt" NAME="POWER_CTL_BAT_NOMINAL"/>
          <define VALUE="-0.04" UNIT="(m/s)/m" NAME="ALTITUDE_PGAIN"/>
          <define VALUE="2.0" UNIT="m/s" NAME="ALTITUDE_MAX_CLIMB"/>
          <define VALUE="0.60" UNIT="%" NAME="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE"/>
          <define VALUE="0.35" UNIT="%" NAME="AUTO_THROTTLE_MIN_CRUISE_THROTTLE"/>
          <define VALUE="0.85" UNIT="%" NAME="AUTO_THROTTLE_MAX_CRUISE_THROTTLE"/>
          <define VALUE="1000" UNIT="pprz_t" NAME="AUTO_THROTTLE_LOITER_TRIM"/>
          <define VALUE="-2000" UNIT="pprz_t" NAME="AUTO_THROTTLE_DASH_TRIM"/>
          <define VALUE="0.05" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT"/>
          <define VALUE="0.007" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_PGAIN"/>
          <define VALUE="0.01" NAME="AUTO_THROTTLE_IGAIN"/>
          <define VALUE="0.0" NAME="AUTO_THROTTLE_DGAIN"/>
          <define VALUE="0.30" UNIT="rad/(m/s)" NAME="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN"/>
          <define VALUE="1" UNIT="s" NAME="THROTTLE_SLEW_LIMITER"/>
        </section>
        <section PREFIX="H_CTL_" NAME="HORIZONTAL CONTROL">
          <define VALUE="1.1" NAME="COURSE_PGAIN"/>
          <define VALUE="0.75" UNIT="radians" NAME="ROLL_MAX_SETPOINT"/>
          <define VALUE="0.6" UNIT="radians" NAME="PITCH_MAX_SETPOINT"/>
          <define VALUE="-0.5" UNIT="radians" NAME="PITCH_MIN_SETPOINT"/>
          <define VALUE="6600." NAME="ROLL_PGAIN"/>
          <define VALUE="7500." NAME="ROLL_ATTITUDE_GAIN"/>
          <define VALUE="1500" NAME="ROLL_RATE_GAIN"/>
          <define VALUE="0.0" NAME="AILERON_OF_THROTTLE"/>
          <define VALUE="5500." NAME="PITCH_PGAIN"/>
          <define VALUE="0.5" NAME="PITCH_DGAIN"/>
          <define VALUE="500" NAME="PITCH_IGAIN"/>
          <define VALUE="0." NAME="PITCH_KFFA"/>
          <define VALUE="0." NAME="PITCH_KFFD"/>
          <define VALUE="2100" NAME="ELEVATOR_OF_ROLL"/>
        </section>
        <section NAME="NAV">
          <define VALUE="0." NAME="NAV_PITCH"/>
          <define VALUE="0" NAME="NAV_GLIDE_PITCH_TRIM"/>
        </section>
        <section PREFIX="AGR_" NAME="AGGRESSIVE">
          <define VALUE="20" NAME="BLEND_START"/>
          <define VALUE="8" NAME="BLEND_END"/>
          <define VALUE="0.90" NAME="CLIMB_THROTTLE"/>
          <define VALUE="RadOfDeg(40)" NAME="CLIMB_PITCH"/>
          <define VALUE="0.4" NAME="DESCENT_THROTTLE"/>
          <define VALUE="RadOfDeg(-30)" NAME="DESCENT_PITCH"/>
          <define VALUE="0.8" NAME="CLIMB_NAV_RATIO"/>
          <define VALUE="0.99" NAME="DESCENT_NAV_RATIO"/>
        </section>
        <section PREFIX="FAILSAFE_" NAME="FAILSAFE">
          <define VALUE="3" UNIT="s" NAME="DELAY_WITHOUT_GPS"/>
          <define VALUE="0" UNIT="%" NAME="DEFAULT_THROTTLE"/>
          <define VALUE="0.30" UNIT="rad" NAME="DEFAULT_ROLL"/>
          <define VALUE="0.1" UNIT="rad" NAME="DEFAULT_PITCH"/>
          <define VALUE="50" UNIT="m" NAME="HOME_RADIUS"/>
        </section>
        <section PREFIX="DATALINK_" NAME="DATALINK">
          <define VALUE="PPRZ" NAME="DEVICE_TYPE"/>
          <define VALUE="...." NAME="DEVICE_ADDRESS"/>
        </section>
        <section NAME="SIMU">
          <define VALUE="0.5" NAME="YAW_RESPONSE_FACTOR"/>
        </section>
      </airframe>
      <telemetry>
        <process NAME="Ap">
          <mode NAME="default">
            <message PERIOD="1.4" NAME="AIRSPEED"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="0.5" NAME="GPS"/>
            <message PERIOD="1." NAME="NAVIGATION"/>
            <message PERIOD="0.7" NAME="ATTITUDE"/>
            <message PERIOD="0.6" NAME="ESTIMATOR"/>
            <message PERIOD="2.5" NAME="ENERGY"/>
            <message PERIOD="1.1" NAME="WP_MOVED"/>
            <message PERIOD="1.05" NAME="CIRCLE"/>
            <message PERIOD="1.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="1.2" NAME="SEGMENT"/>
            <message PERIOD="2.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="SETTINGS"/>
            <message PERIOD="2.2" NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.2" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="2.0" NAME="GPS_SOL"/>
            <message PERIOD=".8" NAME="IMU_ACCEL"/>
            <message PERIOD=".9" NAME="IMU_GYRO"/>
            <message PERIOD="1.9" NAME="IMU_MAG"/>
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
          </mode>
          <mode NAME="minimal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="4" NAME="ATTITUDE"/>
            <message PERIOD="1.05" NAME="GPS"/>
            <message PERIOD="1.3" NAME="ESTIMATOR"/>
            <message PERIOD="1.4" NAME="WP_MOVED"/>
            <message PERIOD="3.05" NAME="CIRCLE"/>
            <message PERIOD="4.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="3.2" NAME="SEGMENT"/>
            <message PERIOD="5.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="3." NAME="NAVIGATION"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="5.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="5.0" NAME="GPS_SOL"/>
          </mode>
          <mode NAME="extremal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="7.5" NAME="PPRZ_MODE"/>
            <message PERIOD="8." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".05" NAME="IMU_MAG_RAW"/>
            <message PERIOD="0.5" NAME="BARO_RAW"/>
          </mode>
          <mode NAME="scaled_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".075" NAME="IMU_GYRO"/>
            <message PERIOD=".075" NAME="IMU_ACCEL"/>
            <message PERIOD=".1" NAME="IMU_MAG"/>
          </mode>
          <mode NAME="debug_imu">
            <message PERIOD="0.1" NAME="ATTITUDE"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="5.5" NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
            <message PERIOD=".5" NAME="IMU_ACCEL"/>
            <message PERIOD=".5" NAME="IMU_GYRO"/>
            <message PERIOD=".5" NAME="IMU_MAG"/>
            <message PERIOD=".5" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".5" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".5" NAME="IMU_MAG_RAW"/>
          </mode>
        </process>
        <process NAME="Fbw">
          <mode NAME="default">
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
          <mode NAME="debug">
            <message PERIOD="0.5" NAME="PPM"/>
            <message PERIOD="0.5" NAME="RC"/>
            <message PERIOD="0.5" NAME="COMMANDS"/>
            <message PERIOD="1" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="flight params">
            <dl_setting VAR="flight_altitude" STEP="10" SHORTNAME="altitude" MIN="0" MAX="1000"/>
            <dl_setting VAR="nav_course" STEP="1" MIN="0" MAX="360"/>
            <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-10" MAX="10" HANDLER="IncreaseShift"/>
            <dl_setting VAR="autopilot_flight_time" STEP="1" SHORTNAME="flight time" MODULE="autopilot" MIN="0" MAX="0" HANDLER="ResetFlightTimeAndLaunch"/>
            <dl_setting VAR="nav_radius" STEP="10" MODULE="firmwares/fixedwing/nav" MIN="-200" MAX="200" HANDLER="SetNavRadius">
              <strip_button VALUE="1" NAME="Circle right" ICON="circle-right.png" GROUP="circle"/>
              <strip_button VALUE="-1" NAME="Circle left" ICON="circle-left.png" GROUP="circle"/>
              <key_press VALUE="1" KEY="greater"/>
              <key_press VALUE="-1" KEY="less"/>
            </dl_setting>
          </dl_settings>
          <dl_settings NAME="mode">
            <dl_setting VAR="pprz_mode" VALUES="MANUAL|AUTO1|AUTO2|HOME|NOGPS|FAILSAFE" STEP="1" MODULE="autopilot" MIN="0" MAX="2"/>
            <dl_setting VAR="launch" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="kill_throttle" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="gps.reset" STEP="1" SHORTNAME="GPS reset" MODULE="subsystems/gps" MIN="0" MAX="2" HANDLER="Reset"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="control">
            <dl_settings NAME="trim">
              <dl_setting VAR="ap_state->command_roll_trim" STEP="1" SHORTNAME="roll_trim" PARAM="COMMAND_ROLL_TRIM" MODULE="inter_mcu" MIN="-960" MAX="960"/>
              <dl_setting VAR="ap_state->command_pitch_trim" STEP="1" SHORTNAME="pitch_trim" PARAM="COMMAND_PITCH_TRIM" MIN="-960" MAX="960"/>
              <dl_setting VAR="ap_state->command_yaw_trim" STEP="1" SHORTNAME="yaw_trim" PARAM="COMMAND_YAW_TRIM" MIN="-9000" MAX="9000"/>
            </dl_settings>
            <dl_settings NAME="attitude">
              <dl_setting VAR="h_ctl_roll_pgain" STEP="250" SHORTNAME="roll_pgain" MODULE="stabilization/stabilization_attitude" MIN="000" MAX="25000"/>
              <dl_setting VAR="h_ctl_roll_max_setpoint" STEP="0.05" SHORTNAME="max_roll" PARAM="H_CTL_ROLL_MAX_SETPOINT" MIN="0" MAX="1"/>
              <dl_setting VAR="h_ctl_pitch_pgain" STEP="250" SHORTNAME="pitch_pgain" PARAM="H_CTL_PITCH_PGAIN" MIN="0" MAX="25000"/>
              <dl_setting VAR="h_ctl_pitch_dgain" STEP="10" SHORTNAME="pitch_dgain" PARAM="H_CTL_PITCH_DGAIN" MIN="0" MAX="50000"/>
              <dl_setting VAR="h_ctl_elevator_of_roll" STEP="100" SHORTNAME="elevator_of_roll" PARAM="H_CTL_ELEVATOR_OF_ROLL" MIN="0" MAX="5000"/>
              <dl_setting VAR="h_ctl_aileron_of_throttle" STEP="100" SHORTNAME="aileron_of_throttle" MIN="0" MAX="5000"/>
              <dl_setting VAR="h_ctl_roll_attitude_gain" STEP="250" SHORTNAME="roll attitude pgain" PARAM="H_CTL_ROLL_ATTITUDE_GAIN" MIN="0" MAX="15000"/>
              <dl_setting VAR="h_ctl_roll_rate_gain" STEP="250" SHORTNAME="roll rate gain" PARAM="H_CTL_ROLL_RATE_GAIN" MIN="0" MAX="15000"/>
            </dl_settings>
            <dl_settings NAME="alt">
              <dl_setting VAR="v_ctl_altitude_pgain" STEP="0.01" SHORTNAME="alt_pgain" PARAM="V_CTL_ALTITUDE_PGAIN" MIN="0" MAX="0.2"/>
            </dl_settings>
            <dl_settings NAME="auto_throttle">
              <dl_setting VAR="v_ctl_auto_throttle_cruise_throttle" STEP="0.05" SHORTNAME="cruise throttle" PARAM="V_CTL_AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE" MODULE="guidance/guidance_v" MIN="0.0" MAX="1" HANDLER="SetCruiseThrottle">
                <strip_button VALUE="0.1" NAME="Loiter" GROUP="dash_loiter"/>
                <strip_button VALUE="0" NAME="Cruise" GROUP="dash_loiter"/>
                <strip_button VALUE="1" NAME="Dash" GROUP="dash_loiter"/>
              </dl_setting>
              <dl_setting VAR="v_ctl_auto_throttle_pgain" STEP="0.005" SHORTNAME="throttle_pgain" PARAM="V_CTL_AUTO_THROTTLE_PGAIN" MIN="0.00" MAX="0.05"/>
              <dl_setting VAR="v_ctl_auto_throttle_igain" STEP="0.05" SHORTNAME="throttle_igain" PARAM="V_CTL_AUTO_THROTTLE_IGAIN" MIN="0.0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_dgain" STEP="0.1" SHORTNAME="throttle_dgain" MIN="0.0" MAX="2"/>
              <dl_setting VAR="v_ctl_auto_throttle_climb_throttle_increment" STEP="0.01" SHORTNAME="throttle_incr" PARAM="V_CTL_AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT" MIN="0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_pitch_of_vz_pgain" STEP="0.01" SHORTNAME="pitch_of_vz" PARAM="V_CTL_AUTO_THROTTLE_PITCH_OF_VZ_PGAIN" MIN="0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_pitch_of_vz_dgain" STEP="0.1" SHORTNAME="pitch_of_vz (d)" MIN="-10" MAX="10"/>
            </dl_settings>
            <dl_settings NAME="auto_pitch">
              <dl_setting VAR="v_ctl_auto_pitch_pgain" STEP="0.01" SHORTNAME="pgain" PARAM="V_CTL_AUTO_PITCH_PGAIN" MIN="0.01" MAX="0.1"/>
              <dl_setting VAR="v_ctl_auto_pitch_igain" STEP="0.01" SHORTNAME="igain" PARAM="V_CTL_AUTO_PITCH_IGAIN" MIN="0" MAX="1"/>
            </dl_settings>
            <dl_settings NAME="nav">
              <dl_setting VAR="h_ctl_course_pgain" STEP="0.05" SHORTNAME="course pgain" PARAM="H_CTL_COURSE_PGAIN" MIN="0.1" MAX="3"/>
              <dl_setting VAR="h_ctl_course_dgain" STEP="0.1" SHORTNAME="course dgain" PARAM="H_CTL_COURSE_DGAIN" MIN="0" MAX="2"/>
              <dl_setting VAR="h_ctl_course_pre_bank_correction" STEP="0.05" SHORTNAME="pre bank cor" PARAM="H_CTL_COURSE_PRE_BANK_CORRECTION" MIN="0.1" MAX="2"/>
              <dl_setting VAR="nav_glide_pitch_trim" STEP="0.05" SHORTNAME="glide pitch trim" PARAM="NAV_GLIDE_PITCH_TRIM" MIN="0.0" MAX="1"/>
              <dl_setting VAR="h_ctl_roll_slew" STEP="0.01" SHORTNAME="roll slew" MIN="0.02" MAX="1"/>
              <dl_setting VAR="nav_radius" STEP="5" MIN="-500" MAX="500"/>
              <dl_setting VAR="nav_course" STEP="5" MIN="0" MAX="359"/>
              <dl_setting VAR="nav_mode" STEP="1" MIN="1" MAX="2"/>
              <dl_setting VAR="nav_climb" STEP="0.5" MIN="-5" MAX="5"/>
              <dl_setting VAR="fp_pitch" STEP="1" MIN="-15" MAX="15"/>
              <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-50" MAX="50" HANDLER="IncreaseShift"/>
              <dl_setting VAR="nav_ground_speed_setpoint" STEP="0.5" SHORTNAME="ground speed" MIN="5" MAX="50"/>
              <dl_setting VAR="nav_ground_speed_pgain" STEP="0.01" SHORTNAME="ground speed pgain" MIN="0" MAX="0.2"/>
              <dl_setting VAR="nav_survey_shift" STEP="5" MIN="50" MAX="500"/>
            </dl_settings>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="ins">
            <dl_setting VAR="ins_roll_neutral" UNIT="rad" STEP="0.5" SHORTNAME="roll_neutral" PARAM="INS_ROLL_NEUTRAL_DEFAULT" MODULE="subsystems/ahrs" MIN="-15" MAX="15" ALT_UNIT="deg"/>
            <dl_setting VAR="ins_pitch_neutral" UNIT="rad" STEP="0.5" SHORTNAME="pitch_neutral" PARAM="INS_PITCH_NEUTRAL_DEFAULT" MIN="-15" MAX="15" ALT_UNIT="deg"/>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <aircraft name="Ant" ac_id="207" airframe="airframes/OpenUAS/openuas_antenna_tracker.xml" radio="radios/OpenUAS/openuas_mx22_pprz-ap.xml" telemetry="telemetry/dummy.xml" flight_plan="flight_plans/dummy.xml" settings=" settings/dummy.xml" gui_color="red">
      <radio SYNC_MIN="4000" SYNC_MAX="20000" PULSE_TYPE="NEGATIVE" NAME="MX22 PPRZ adherance" DATA_MIN="700" DATA_MAX="2300">
        <channel NEUTRAL="1500" MIN="1900" MAX="1100" FUNCTION="ROLL" CTL="A" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="PITCH" CTL="B" AVERAGE="0"/>
        <channel NEUTRAL="1100" MIN="1100" MAX="1900" FUNCTION="THROTTLE" CTL="C" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="YAW" CTL="D" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MODE" CTL="E" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="EXTRA1" CTL="F" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="FLAPS" CTL="G" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="NOTUSED1" CTL="SW1" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MANUALRELEASE" CTL="CONTROL9" AVERAGE="0"/>
      </radio>
      <dump>
        <flight_plan name="Dummy" lon0="1.27289" max_dist_from_home="1000" ground_alt="185" security_height="25" qfu="270" alt="250" lat0="43.46223">
          <waypoints>
            <waypoint name="HOME" x="0.0" y="120.0" alt="250."/>
          </waypoints>
          <blocks>
            <block name="HOME" no="0">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="0" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Plane follower Cam">
        <firmware NAME="fixedwing">
          <target NAME="ap" BOARD="twog_1.0"/>
          <target NAME="sim" BOARD="pc"/>
          <define NAME="WIND_INFO"/>
          <define NAME="WIND_INFO_RET"/>
          <define NAME="ALT_KALMAN"/>
          <define NAME="USE_I2C0"/>
          <subsystem TYPE="transparent" NAME="telemetry">
            <configure VALUE="B9600" NAME="MODEM_BAUD"/>
            <configure VALUE="UART1" NAME="MODEM_PORT"/>
          </subsystem>
          <subsystem NAME="control"/>
          <subsystem TYPE="ublox" NAME="gps"/>
        </firmware>
        <servos>
          <servo NO="0" NEUTRAL="1500" NAME="PAN" MIN="1200" MAX="1800"/>
          <servo NO="2" NEUTRAL="1520" NAME="TILT" MIN="770" MAX="2270"/>
        </servos>
        <commands>
          <axis NAME="NONE" FAILSAFE_VALUE="0"/>
          <axis NAME="PAN" FAILSAFE_VALUE="0"/>
          <axis NAME="TILT" FAILSAFE_VALUE="-6000"/>
        </commands>
        <rc_commands/>
        <section NAME="MIXER">
          <define VALUE="75" NAME="MAX_PAN_RATE"/>
          <define VALUE="100" NAME="MAX_TILT_RATE"/>
          <define VALUE="(    ((X)>(XH))   ?    (XH)    :    ( ((X)>(XL)) ? (X) : (XL) )    )" NAME="LIMIT(X,XL,XH)"/>
        </section>
        <command_laws>
          <let VAR="test;\\
   static int16_t last_pan_command = 0;\\
   last_pan_command += LIMIT(values[COMMAND_PAN]-last_pan_command,-MAX_PAN_RATE,MAX_PAN_RATE);\\
   int test2" VALUE="0"/>
          <let VAR="test3;\\
   static int16_t last_tilt_command = -6000;\\
   last_tilt_command += LIMIT(values[COMMAND_TILT]-last_tilt_command,-MAX_TILT_RATE,MAX_TILT_RATE);\\
   int test4" VALUE="0"/>
          <set VALUE="last_pan_command" SERVO="PAN"/>
          <set VALUE="last_tilt_command" SERVO="TILT"/>
        </command_laws>
        <section NAME="BAT">
          <define VALUE="((adc) * 3.3f * 9.265f / 1024.0f)" NAME="VoltageOfAdc(adc)"/>
          <define VALUE="((adc)-505) * 125.0f" NAME="MilliAmpereOfAdc(adc)"/>
        </section>
      </airframe>
      <telemetry>
        <process NAME="Main">
          <mode NAME="default"/>
        </process>
        <process NAME="Ap">
          <mode NAME="default"/>
        </process>
        <process NAME="Fbw">
          <mode NAME="default"/>
        </process>
      </telemetry>
      <settings/>
    </aircraft>
    <aircraft name="Bellicosus" ac_id="206" airframe="airframes/OpenUAS/openuas_bellicosus.xml" radio="radios/OpenUAS/openuas_mx22_bellicss-ap.xml" telemetry="telemetry/default_fixedwing_imu_9k6.xml" flight_plan="flight_plans/versatile.xml" settings="settings/fixedwing_basic.xml settings/control/ctl_basic.xml settings/estimation/ins_neutrals.xml" gui_color="#ffffde84b8a4">
      <radio SYNC_MIN="5000" SYNC_MAX="15000" PULSE_TYPE="NEGATIVE" NAME="OpenUAS MX22 Bellicss-AP" DATA_MIN="1000" DATA_MAX="2000">
        <channel NEUTRAL="1110" MIN="1100" MAX="1900" FUNCTION="THROTTLE" CTL="LeftStickVertical" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="ROLL" CTL="RightStickHorizontal" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="PITCH" CTL="RightStickVertical" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="YAW" CTL="LeftStickHorizontal" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MODE" CTL="CONTROL8" AVERAGE="1"/>
        <channel NEUTRAL="1110" MIN="1100" MAX="1900" FUNCTION="MANUALRELEASE" CTL="SW8" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="GAIN1" CTL="CONTROL5" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="CALIB" CTL="CONTROL6" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="NOTUSED" CTL="NONE" AVERAGE="0"/>
      </radio>
      <dump>
        <flight_plan security_height="25" qfu="270" name="Versatile" max_dist_from_home="1500" lon0="1.2729" lat0="43.4622" home_mode_height="50" ground_alt="185" alt="260">
          <header>#include &quot;subsystems/datalink/datalink.h&quot;</header>
          <waypoints>
            <waypoint y="0" x="0" name="HOME"/>
            <waypoint y="80" x="20" name="STDBY"/>
            <waypoint y="102.2" x="44.8" name="1"/>
            <waypoint y="122.9" x="-63.5" name="2"/>
            <waypoint y="-21.2" x="-11.5" name="MOB"/>
            <waypoint y="80.4" x="-151.6" name="S1"/>
            <waypoint y="214.9" x="180.1" name="S2"/>
            <waypoint y="-10" x="200" name="AF" alt="215.0"/>
            <waypoint y="20.0" x="80.0" name="TD" alt="185.0"/>
            <waypoint y="-23.0" x="26.9" name="BASELEG"/>
            <waypoint y="0" x="-100" name="_1"/>
            <waypoint y="200" x="-100" name="_2"/>
            <waypoint y="200" x="100" name="_3"/>
            <waypoint y="0" x="100" name="_4"/>
            <waypoint y="35.4" x="-122.5" name="CLIMB"/>
          </waypoints>
          <sectors>
            <sector name="Square">
              <corner name="_1"/>
              <corner name="_2"/>
              <corner name="_3"/>
              <corner name="_4"/>
            </sector>
          </sectors>
          <exceptions/>
          <blocks>
            <block name="Wait GPS" no="0">
              <set var="kill_throttle" value="1" no="0"/>
              <while cond="!GpsFixValid()" no="1"/>
            </block>
            <block name="Geo init" no="1">
              <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
            </block>
            <block name="Holding point" no="2">
              <set var="kill_throttle" value="1" no="0"/>
              <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff (wp CLIMB)" name="Takeoff" no="3">
              <exception deroute="Standby" cond="GetPosAlt() > GetAltRef()+25"/>
              <set var="kill_throttle" value="0" no="0"/>
              <go wp="CLIMB" no="1"/>
            </block>
            <block strip_icon="home.png" strip_button="Standby" name="Standby" no="4">
              <circle wp="STDBY" radius="nav_radius" no="0"/>
            </block>
            <block strip_icon="line.png" strip_button="Line (wp 1-2)" name="Line 1-2" group="extra_pattern" no="5">
              <call fun="nav_line_setup()" no="0"/>
              <call fun="nav_line_run(WP_1, WP_2, nav_radius)" no="1"/>
            </block>
            <block strip_icon="eight.png" strip_button="Figure 8 (wp 1-2)" name="Figure 8 around wp 1" no="6">
              <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
            </block>
            <block strip_icon="oval.png" strip_button="Oval (wp 1-2)" name="Oval 1-2" no="7">
              <oval radius="nav_radius" p2="2" p1="1" no="1"/>
            </block>
            <block strip_icon="mob.png" strip_button="Circle around here" name="MOB" no="8">
              <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
              <circle wp="MOB" radius="100" no="1"/>
            </block>
            <block name="Auto pitch (circle wp 1)" no="9">
              <circle wp="1" throttle="0.7" radius="75" pitch="auto" no="0"/>
            </block>
            <block name="Climb 75% throttle" no="10">
              <circle wp="1" vmode="throttle" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" throttle="0.75" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="10" no="0"/>
            </block>
            <block name="Climb 0m/s" no="11">
              <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="nav_radius" climb="0" no="0"/>
            </block>
            <block name="Climb 1m/s" no="12">
              <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="5" climb="1" no="0"/>
            </block>
            <block name="Climb nav_climb m/s" no="13">
              <circle wp="1" vmode="climb" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" radius="nav_radius" climb="nav_climb" no="0"/>
            </block>
            <block name="Circle 0% throttle" no="14">
              <circle wp="1" vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" no="0"/>
              <deroute block="Standby" no="1"/>
            </block>
            <block name="Oval 0% throttle" no="15">
              <oval vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" p2="2" p1="1" no="1"/>
              <deroute block="Standby" no="2"/>
            </block>
            <block name="Route 1-2" no="16">
              <go wp="2" hmode="route" from="1" approaching_time="0" no="0"/>
            </block>
            <block name="Stack wp 2" no="17">
              <circle wp="2" radius="75" no="0"/>
            </block>
            <block name="Route 2-1" no="18">
              <go wp="1" hmode="route" from="2" approaching_time="0" no="0"/>
            </block>
            <block name="Stack wp 1" no="19">
              <circle wp="1" radius="75" no="0"/>
            </block>
            <block name="Glide 1-2" no="20">
              <go wp="2" vmode="glide" hmode="route" from="1" no="0"/>
              <deroute block="Standby" no="1"/>
            </block>
            <block strip_icon="survey.png" strip_button="Survey (wp S1-S2)" name="Survey S1-S2" no="21">
              <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
            </block>
            <block strip_icon="land-right.png" strip_button="Land right (wp AF-TD)" name="Land Right AF-TD" no="22">
              <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block strip_icon="land-left.png" strip_button="Land left (wp AF-TD)" name="Land Left AF-TD" no="23">
              <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block name="land" no="24">
              <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP_BASELEG, nav_radius)" no="0"/>
              <circle wp="BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
              <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MIN_CRUISE_THROTTLE" no="2"/>
              <circle wp="BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 10 > fabs(GetPosAlt() - WaypointAlt(WP_BASELEG))" radius="nav_radius" no="3"/>
            </block>
            <block name="final" no="25">
              <exception deroute="flare" cond="GetAltRef() + 10 > GetPosAlt()"/>
              <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
            </block>
            <block name="flare" no="26">
              <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
            </block>
            <block name="Steps roll -10, +10" no="27">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
                <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
              </while>
            </block>
            <block name="Steps roll -20, +20" no="28">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
                <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
              </while>
            </block>
            <block name="Steps pitch -10, +10" no="29">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
                <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
              </while>
            </block>
            <block name="Heading 30" no="30">
              <heading until="FALSE" course="30" alt="GetAltRef()+50" no="0"/>
            </block>
            <block name="For loop (circles wp 1)" no="31">
              <for var="i" to="3" from="0" no="1">
                <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
              </for>
              <deroute block="Standby" no="4"/>
            </block>
            <block name="Test datalink (go to wp 2)" no="32">
              <exception deroute="Standby" cond="datalink_time > 22"/>
              <go wp="2" hmode="route" from="STDBY" no="0"/>
              <go wp="STDBY" hmode="route" from="2" no="1"/>
            </block>
            <block name="Fly in Square" no="33">
              <exception deroute="Come back wp 1" cond="! InsideSquare(GetPosX(), GetPosY())"/>
              <attitude vmode="alt" roll="0" alt="GetAltRef()+75" no="0"/>
            </block>
            <block name="Come back wp 1" no="34">
              <exception deroute="Fly in Square" cond="InsideSquare(GetPosX(), GetPosY())"/>
              <go wp="1" no="0"/>
              <deroute block="Fly in Square" no="1"/>
            </block>
            <block name="HOME" no="35">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="35" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="34" block_name="Come back wp 1" stage="1">
            <deroute block="Fly in Square" no="1"/>
          </stage>
          <stage block="34" block_name="Come back wp 1" stage="0">
            <go wp="1" no="0"/>
          </stage>
          <stage block="33" block_name="Fly in Square" stage="0">
            <attitude vmode="alt" roll="0" alt="GetAltRef()+75" no="0"/>
          </stage>
          <stage block="32" block_name="Test datalink (go to wp 2)" stage="1">
            <go wp="STDBY" hmode="route" from="2" no="1"/>
          </stage>
          <stage block="32" block_name="Test datalink (go to wp 2)" stage="0">
            <go wp="2" hmode="route" from="STDBY" no="0"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="4">
            <deroute block="Standby" no="4"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="2">
            <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="1">
            <for var="i" to="3" from="0" no="1">
              <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
            </for>
          </stage>
          <stage block="30" block_name="Heading 30" stage="0">
            <heading until="FALSE" course="30" alt="GetAltRef()+50" no="0"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="2">
            <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="1">
            <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
              <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="2">
            <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="1">
            <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
              <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="2">
            <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="1">
            <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
              <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="26" block_name="flare" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
          </stage>
          <stage block="26" block_name="flare" stage="0">
            <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
          </stage>
          <stage block="25" block_name="final" stage="0">
            <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
          </stage>
          <stage block="24" block_name="land" stage="3">
            <circle wp="BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 10 > fabs(GetPosAlt() - WaypointAlt(WP_BASELEG))" radius="nav_radius" no="3"/>
          </stage>
          <stage block="24" block_name="land" stage="2">
            <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MIN_CRUISE_THROTTLE" no="2"/>
          </stage>
          <stage block="24" block_name="land" stage="1">
            <circle wp="BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
          </stage>
          <stage block="24" block_name="land" stage="0">
            <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP_BASELEG, nav_radius)" no="0"/>
          </stage>
          <stage block="23" block_name="Land Left AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="23" block_name="Land Left AF-TD" stage="0">
            <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="22" block_name="Land Right AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="22" block_name="Land Right AF-TD" stage="0">
            <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="21" block_name="Survey S1-S2" stage="1">
            <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
          </stage>
          <stage block="20" block_name="Glide 1-2" stage="1">
            <deroute block="Standby" no="1"/>
          </stage>
          <stage block="20" block_name="Glide 1-2" stage="0">
            <go wp="2" vmode="glide" hmode="route" from="1" no="0"/>
          </stage>
          <stage block="19" block_name="Stack wp 1" stage="0">
            <circle wp="1" radius="75" no="0"/>
          </stage>
          <stage block="18" block_name="Route 2-1" stage="0">
            <go wp="1" hmode="route" from="2" approaching_time="0" no="0"/>
          </stage>
          <stage block="17" block_name="Stack wp 2" stage="0">
            <circle wp="2" radius="75" no="0"/>
          </stage>
          <stage block="16" block_name="Route 1-2" stage="0">
            <go wp="2" hmode="route" from="1" approaching_time="0" no="0"/>
          </stage>
          <stage block="15" block_name="Oval 0% throttle" stage="2">
            <deroute block="Standby" no="2"/>
          </stage>
          <stage block="15" block_name="Oval 0% throttle" stage="1">
            <oval vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="14" block_name="Circle 0% throttle" stage="1">
            <deroute block="Standby" no="1"/>
          </stage>
          <stage block="14" block_name="Circle 0% throttle" stage="0">
            <circle wp="1" vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" no="0"/>
          </stage>
          <stage block="13" block_name="Climb nav_climb m/s" stage="0">
            <circle wp="1" vmode="climb" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" radius="nav_radius" climb="nav_climb" no="0"/>
          </stage>
          <stage block="12" block_name="Climb 1m/s" stage="0">
            <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="5" climb="1" no="0"/>
          </stage>
          <stage block="11" block_name="Climb 0m/s" stage="0">
            <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="nav_radius" climb="0" no="0"/>
          </stage>
          <stage block="10" block_name="Climb 75% throttle" stage="0">
            <circle wp="1" vmode="throttle" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" throttle="0.75" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="10" no="0"/>
          </stage>
          <stage block="9" block_name="Auto pitch (circle wp 1)" stage="0">
            <circle wp="1" throttle="0.7" radius="75" pitch="auto" no="0"/>
          </stage>
          <stage block="8" block_name="MOB" stage="1">
            <circle wp="MOB" radius="100" no="1"/>
          </stage>
          <stage block="8" block_name="MOB" stage="0">
            <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
          </stage>
          <stage block="7" block_name="Oval 1-2" stage="1">
            <oval radius="nav_radius" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="6" block_name="Figure 8 around wp 1" stage="1">
            <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
          </stage>
          <stage block="5" block_name="Line 1-2" stage="1">
            <call fun="nav_line_run(WP_1, WP_2, nav_radius)" no="1"/>
          </stage>
          <stage block="5" block_name="Line 1-2" stage="0">
            <call fun="nav_line_setup()" no="0"/>
          </stage>
          <stage block="4" block_name="Standby" stage="0">
            <circle wp="STDBY" radius="nav_radius" no="0"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="1">
            <go wp="CLIMB" no="1"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="0">
            <set var="kill_throttle" value="0" no="0"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="1">
            <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="0">
            <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="1">
            <while cond="!GpsFixValid()" no="1"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Bellicosus">
        <firmware NAME="fixedwing">
          <target NAME="ap" BOARD="twog_1.0"/>
          <target NAME="sim" BOARD="pc"/>
          <define NAME="AGR_CLIMB"/>
          <define NAME="LOITER_TRIM"/>
          <define NAME="STRONG_WIND"/>
          <define NAME="WIND_INFO"/>
          <define NAME="ALT_KALMAN"/>
          <subsystem TYPE="transparent" NAME="telemetry">
            <configure VALUE="B9600" NAME="MODEM_BAUD"/>
            <configure VALUE="UART1" NAME="MODEM_PORT"/>
          </subsystem>
          <subsystem TYPE="ppm" NAME="radio_control"/>
          <subsystem TYPE="rc" NAME="settings"/>
          <subsystem NAME="control"/>
          <subsystem TYPE="infrared" NAME="ahrs"/>
          <subsystem TYPE="ublox" NAME="gps"/>
          <subsystem TYPE="extra" NAME="navigation"/>
        </firmware>
        <modules MAIN_FREQ="60">
          <load NAME="infrared_adc.xml"/>
        </modules>
        <servos>
          <servo NO="0" NEUTRAL="1050" NAME="MOTOR" MIN="1000" MAX="2000"/>
          <servo NO="2" NEUTRAL="1500" NAME="AILERON" MIN="1000" MAX="2000"/>
          <servo NO="3" NEUTRAL="1500" NAME="ELEVATOR" MIN="1000" MAX="2000"/>
          <servo NO="4" NEUTRAL="1500" NAME="RUDDER" MIN="1000" MAX="2000"/>
        </servos>
        <commands>
          <axis NAME="THROTTLE" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="0"/>
          <axis NAME="PITCH" FAILSAFE_VALUE="0"/>
          <axis NAME="YAW" FAILSAFE_VALUE="0"/>
        </commands>
        <rc_commands>
          <set VALUE="@THROTTLE" COMMAND="THROTTLE"/>
          <set VALUE="@ROLL" COMMAND="ROLL"/>
          <set VALUE="@PITCH" COMMAND="PITCH"/>
          <set VALUE="@YAW" COMMAND="YAW"/>
        </rc_commands>
        <section NAME="MIXER"/>
        <command_laws>
          <set VALUE="@THROTTLE" SERVO="MOTOR"/>
          <set VALUE="@ROLL" SERVO="AILERON"/>
          <set VALUE="@PITCH" SERVO="ELEVATOR"/>
          <set VALUE="@YAW" SERVO="RUDDER"/>
        </command_laws>
        <section PREFIX="AUTO1_" NAME="AUTO1">
          <define VALUE="0.85" NAME="MAX_ROLL"/>
          <define VALUE="0.95" NAME="MAX_PITCH"/>
        </section>
        <section PREFIX="IR_" NAME="INFRARED">
          <define VALUE="512" NAME="ADC_IR1_NEUTRAL"/>
          <define VALUE="512" NAME="ADC_IR2_NEUTRAL"/>
          <define VALUE="512" NAME="ADC_TOP_NEUTRAL"/>
          <define VALUE="1.0" NAME="CORRECTION_UP"/>
          <define VALUE="1.0" NAME="CORRECTION_DOWN"/>
          <define VALUE="1.0" NAME="CORRECTION_LEFT"/>
          <define VALUE="1.0" NAME="CORRECTION_RIGHT"/>
          <define VALUE="0.6" NAME="LATERAL_CORRECTION"/>
          <define VALUE="0.6" NAME="LONGITUDINAL_CORRECTION"/>
          <define VALUE="1.0" NAME="VERTICAL_CORRECTION"/>
          <define VALUE="1" NAME="HORIZ_SENSOR_TILTED"/>
          <define VALUE="1" NAME="IR1_SIGN"/>
          <define VALUE="1" NAME="IR2_SIGN"/>
          <define VALUE="-1" NAME="TOP_SIGN"/>
          <define VALUE="0" UNIT="deg" NAME="ROLL_NEUTRAL_DEFAULT"/>
          <define VALUE="0" UNIT="deg" NAME="PITCH_NEUTRAL_DEFAULT"/>
        </section>
        <section NAME="BAT">
          <define VALUE="0.86" NAME="MILLIAMP_AT_FULL_THROTTLE"/>
          <define VALUE="0.0177531" NAME="VOLTAGE_ADC_A"/>
          <define VALUE="0.173626" NAME="VOLTAGE_ADC_B"/>
          <define VALUE="6.1" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
          <define VALUE="6.3" UNIT="V" NAME="CRITIC_BAT_LEVEL"/>
          <define VALUE="6.8" UNIT="V" NAME="LOW_BAT_LEVEL"/>
          <define VALUE="8.4" UNIT="V" NAME="MAX_BAT_LEVEL"/>
        </section>
        <section NAME="MISC">
          <define VALUE="4.0" UNIT="m/s" NAME="NOMINAL_AIRSPEED"/>
          <define VALUE="4.0" UNIT="s" NAME="CARROT"/>
          <define VALUE="(1.5*MAX_DIST_FROM_HOME)" NAME="KILL_MODE_DISTANCE"/>
          <define VALUE="60" UNIT="Hz" NAME="CONTROL_RATE"/>
          <define VALUE="TRUE" NAME="NO_XBEE_API_INIT"/>
          <define VALUE="TRUE" NAME="UNLOCKED_HOME_MODE"/>
          <define VALUE="PPRZ_MODE_AUTO2" NAME="RC_LOST_MODE"/>
          <define VALUE="TRUE" NAME="ALT_KALMAN_ENABLED"/>
          <define VALUE="1.0" NAME="TRIGGER_DELAY"/>
          <define VALUE="40.0" NAME="DEFAULT_CIRCLE_RADIUS"/>
          <define VALUE="30.0" NAME="MIN_CIRCLE_RADIUS"/>
        </section>
        <section PREFIX="V_CTL_" NAME="VERTICAL CONTROL">
          <define VALUE="7.2" UNIT="volt" NAME="POWER_CTL_BAT_NOMINAL"/>
          <define VALUE="0.04" UNIT="(m/s)/m" NAME="ALTITUDE_PGAIN"/>
          <define VALUE="1.0" UNIT="m/s" NAME="ALTITUDE_MAX_CLIMB"/>
          <define VALUE="0.50" UNIT="%" NAME="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE"/>
          <define VALUE="0.35" UNIT="%" NAME="AUTO_THROTTLE_MIN_CRUISE_THROTTLE"/>
          <define VALUE="0.75" UNIT="%" NAME="AUTO_THROTTLE_MAX_CRUISE_THROTTLE"/>
          <define VALUE="1000" UNIT="pprz_t" NAME="AUTO_THROTTLE_LOITER_TRIM"/>
          <define VALUE="-2000" UNIT="pprz_t" NAME="AUTO_THROTTLE_DASH_TRIM"/>
          <define VALUE="0.05" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT"/>
          <define VALUE="0.007" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_PGAIN"/>
          <define VALUE="0.01" NAME="AUTO_THROTTLE_IGAIN"/>
          <define VALUE="0.0" NAME="AUTO_THROTTLE_DGAIN"/>
          <define VALUE="0.30" UNIT="rad/(m/s)" NAME="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN"/>
          <define VALUE="1" UNIT="s" NAME="THROTTLE_SLEW_LIMITER"/>
          <define VALUE="0.052" NAME="AUTO_PITCH_PGAIN"/>
          <define VALUE="0.065" NAME="AUTO_PITCH_IGAIN"/>
          <define VALUE="0.45" NAME="AUTO_PITCH_MAX_PITCH"/>
          <define VALUE="-0.40" NAME="AUTO_PITCH_MIN_PITCH"/>
        </section>
        <section PREFIX="H_CTL_" NAME="HORIZONTAL CONTROL">
          <define VALUE="1.1" NAME="COURSE_PGAIN"/>
          <define VALUE="0.75" UNIT="radians" NAME="ROLL_MAX_SETPOINT"/>
          <define VALUE="0.6" UNIT="radians" NAME="PITCH_MAX_SETPOINT"/>
          <define VALUE="-0.6" UNIT="radians" NAME="PITCH_MIN_SETPOINT"/>
          <define VALUE="7500." NAME="ROLL_ATTITUDE_GAIN"/>
          <define VALUE="1500" NAME="ROLL_RATE_GAIN"/>
          <define VALUE="0.4" NAME="ROLL_SLEW"/>
          <define VALUE="0.0" NAME="AILERON_OF_THROTTLE"/>
          <define VALUE="7000." NAME="PITCH_PGAIN"/>
          <define VALUE="1.3" NAME="PITCH_DGAIN"/>
          <define VALUE="500" NAME="PITCH_IGAIN"/>
          <define VALUE="0." NAME="PITCH_KFFA"/>
          <define VALUE="0." NAME="PITCH_KFFD"/>
          <define VALUE="800" NAME="ELEVATOR_OF_ROLL"/>
        </section>
        <section NAME="NAV">
          <define VALUE="0." NAME="NAV_PITCH"/>
          <define VALUE="0" NAME="NAV_GLIDE_PITCH_TRIM"/>
        </section>
        <section PREFIX="AGR_" NAME="AGGRESSIVE">
          <define VALUE="16" NAME="BLEND_START"/>
          <define VALUE="8" NAME="BLEND_END"/>
          <define VALUE="0.90" NAME="CLIMB_THROTTLE"/>
          <define VALUE="RadOfDeg(45)" NAME="CLIMB_PITCH"/>
          <define VALUE="0.4" NAME="DESCENT_THROTTLE"/>
          <define VALUE="RadOfDeg(-30)" NAME="DESCENT_PITCH"/>
          <define VALUE="0.8" NAME="CLIMB_NAV_RATIO"/>
          <define VALUE="0.99" NAME="DESCENT_NAV_RATIO"/>
        </section>
        <section PREFIX="FAILSAFE_" NAME="FAILSAFE">
          <define VALUE="3" UNIT="s" NAME="DELAY_WITHOUT_GPS"/>
          <define VALUE="15" UNIT="%" NAME="DEFAULT_THROTTLE"/>
          <define VALUE="0.15" UNIT="rad" NAME="DEFAULT_ROLL"/>
          <define VALUE="0.1" UNIT="rad" NAME="DEFAULT_PITCH"/>
          <define VALUE="50" UNIT="m" NAME="HOME_RADIUS"/>
        </section>
        <section PREFIX="DATALINK_" NAME="DATALINK">
          <define VALUE="PPRZ" NAME="DEVICE_TYPE"/>
          <define VALUE="...." NAME="DEVICE_ADDRESS"/>
        </section>
        <section NAME="SIMU">
          <define VALUE="0.5" NAME="YAW_RESPONSE_FACTOR"/>
        </section>
      </airframe>
      <telemetry>
        <process NAME="Ap">
          <mode NAME="default">
            <message PERIOD="1.4" NAME="AIRSPEED"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="0.5" NAME="GPS"/>
            <message PERIOD="1." NAME="NAVIGATION"/>
            <message PERIOD="0.7" NAME="ATTITUDE"/>
            <message PERIOD="0.6" NAME="ESTIMATOR"/>
            <message PERIOD="2.5" NAME="ENERGY"/>
            <message PERIOD="1.1" NAME="WP_MOVED"/>
            <message PERIOD="1.05" NAME="CIRCLE"/>
            <message PERIOD="1.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="1.2" NAME="SEGMENT"/>
            <message PERIOD="2.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="SETTINGS"/>
            <message PERIOD="2.2" NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.2" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="2.0" NAME="GPS_SOL"/>
            <message PERIOD=".8" NAME="IMU_ACCEL"/>
            <message PERIOD=".9" NAME="IMU_GYRO"/>
            <message PERIOD="1.9" NAME="IMU_MAG"/>
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
          </mode>
          <mode NAME="minimal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="4" NAME="ATTITUDE"/>
            <message PERIOD="1.05" NAME="GPS"/>
            <message PERIOD="1.3" NAME="ESTIMATOR"/>
            <message PERIOD="1.4" NAME="WP_MOVED"/>
            <message PERIOD="3.05" NAME="CIRCLE"/>
            <message PERIOD="4.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="3.2" NAME="SEGMENT"/>
            <message PERIOD="5.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="3." NAME="NAVIGATION"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="5.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="5.0" NAME="GPS_SOL"/>
          </mode>
          <mode NAME="extremal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="7.5" NAME="PPRZ_MODE"/>
            <message PERIOD="8." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".05" NAME="IMU_MAG_RAW"/>
            <message PERIOD="0.5" NAME="BARO_RAW"/>
          </mode>
          <mode NAME="scaled_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".075" NAME="IMU_GYRO"/>
            <message PERIOD=".075" NAME="IMU_ACCEL"/>
            <message PERIOD=".1" NAME="IMU_MAG"/>
          </mode>
          <mode NAME="debug_imu">
            <message PERIOD="0.1" NAME="ATTITUDE"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="5.5" NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
            <message PERIOD=".5" NAME="IMU_ACCEL"/>
            <message PERIOD=".5" NAME="IMU_GYRO"/>
            <message PERIOD=".5" NAME="IMU_MAG"/>
            <message PERIOD=".5" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".5" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".5" NAME="IMU_MAG_RAW"/>
          </mode>
        </process>
        <process NAME="Fbw">
          <mode NAME="default">
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
          <mode NAME="debug">
            <message PERIOD="0.5" NAME="PPM"/>
            <message PERIOD="0.5" NAME="RC"/>
            <message PERIOD="0.5" NAME="COMMANDS"/>
            <message PERIOD="1" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="flight params">
            <dl_setting VAR="flight_altitude" STEP="10" SHORTNAME="altitude" MIN="0" MAX="1000"/>
            <dl_setting VAR="nav_course" STEP="1" MIN="0" MAX="360"/>
            <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-10" MAX="10" HANDLER="IncreaseShift"/>
            <dl_setting VAR="autopilot_flight_time" STEP="1" SHORTNAME="flight time" MODULE="autopilot" MIN="0" MAX="0" HANDLER="ResetFlightTimeAndLaunch"/>
            <dl_setting VAR="nav_radius" STEP="10" MODULE="firmwares/fixedwing/nav" MIN="-200" MAX="200" HANDLER="SetNavRadius">
              <strip_button VALUE="1" NAME="Circle right" ICON="circle-right.png" GROUP="circle"/>
              <strip_button VALUE="-1" NAME="Circle left" ICON="circle-left.png" GROUP="circle"/>
              <key_press VALUE="1" KEY="greater"/>
              <key_press VALUE="-1" KEY="less"/>
            </dl_setting>
          </dl_settings>
          <dl_settings NAME="mode">
            <dl_setting VAR="pprz_mode" VALUES="MANUAL|AUTO1|AUTO2|HOME|NOGPS|FAILSAFE" STEP="1" MODULE="autopilot" MIN="0" MAX="2"/>
            <dl_setting VAR="launch" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="kill_throttle" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="gps.reset" STEP="1" SHORTNAME="GPS reset" MODULE="subsystems/gps" MIN="0" MAX="2" HANDLER="Reset"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="control">
            <dl_settings NAME="trim">
              <dl_setting VAR="ap_state->command_roll_trim" STEP="1" SHORTNAME="roll_trim" PARAM="COMMAND_ROLL_TRIM" MODULE="inter_mcu" MIN="-960" MAX="960"/>
              <dl_setting VAR="ap_state->command_pitch_trim" STEP="1" SHORTNAME="pitch_trim" PARAM="COMMAND_PITCH_TRIM" MIN="-960" MAX="960"/>
              <dl_setting VAR="ap_state->command_yaw_trim" STEP="1" SHORTNAME="yaw_trim" PARAM="COMMAND_YAW_TRIM" MIN="-9000" MAX="9000"/>
            </dl_settings>
            <dl_settings NAME="attitude">
              <dl_setting VAR="h_ctl_roll_pgain" STEP="250" SHORTNAME="roll_pgain" MODULE="stabilization/stabilization_attitude" MIN="000" MAX="25000"/>
              <dl_setting VAR="h_ctl_roll_max_setpoint" STEP="0.05" SHORTNAME="max_roll" PARAM="H_CTL_ROLL_MAX_SETPOINT" MIN="0" MAX="1"/>
              <dl_setting VAR="h_ctl_pitch_pgain" STEP="250" SHORTNAME="pitch_pgain" PARAM="H_CTL_PITCH_PGAIN" MIN="0" MAX="25000"/>
              <dl_setting VAR="h_ctl_pitch_dgain" STEP="10" SHORTNAME="pitch_dgain" PARAM="H_CTL_PITCH_DGAIN" MIN="0" MAX="50000"/>
              <dl_setting VAR="h_ctl_elevator_of_roll" STEP="100" SHORTNAME="elevator_of_roll" PARAM="H_CTL_ELEVATOR_OF_ROLL" MIN="0" MAX="5000"/>
              <dl_setting VAR="h_ctl_aileron_of_throttle" STEP="100" SHORTNAME="aileron_of_throttle" MIN="0" MAX="5000"/>
              <dl_setting VAR="h_ctl_roll_attitude_gain" STEP="250" SHORTNAME="roll attitude pgain" PARAM="H_CTL_ROLL_ATTITUDE_GAIN" MIN="0" MAX="15000"/>
              <dl_setting VAR="h_ctl_roll_rate_gain" STEP="250" SHORTNAME="roll rate gain" PARAM="H_CTL_ROLL_RATE_GAIN" MIN="0" MAX="15000"/>
            </dl_settings>
            <dl_settings NAME="alt">
              <dl_setting VAR="v_ctl_altitude_pgain" STEP="0.01" SHORTNAME="alt_pgain" PARAM="V_CTL_ALTITUDE_PGAIN" MIN="0" MAX="0.2"/>
            </dl_settings>
            <dl_settings NAME="auto_throttle">
              <dl_setting VAR="v_ctl_auto_throttle_cruise_throttle" STEP="0.05" SHORTNAME="cruise throttle" PARAM="V_CTL_AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE" MODULE="guidance/guidance_v" MIN="0.0" MAX="1" HANDLER="SetCruiseThrottle">
                <strip_button VALUE="0.1" NAME="Loiter" GROUP="dash_loiter"/>
                <strip_button VALUE="0" NAME="Cruise" GROUP="dash_loiter"/>
                <strip_button VALUE="1" NAME="Dash" GROUP="dash_loiter"/>
              </dl_setting>
              <dl_setting VAR="v_ctl_auto_throttle_pgain" STEP="0.005" SHORTNAME="throttle_pgain" PARAM="V_CTL_AUTO_THROTTLE_PGAIN" MIN="0.00" MAX="0.05"/>
              <dl_setting VAR="v_ctl_auto_throttle_igain" STEP="0.05" SHORTNAME="throttle_igain" PARAM="V_CTL_AUTO_THROTTLE_IGAIN" MIN="0.0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_dgain" STEP="0.1" SHORTNAME="throttle_dgain" MIN="0.0" MAX="2"/>
              <dl_setting VAR="v_ctl_auto_throttle_climb_throttle_increment" STEP="0.01" SHORTNAME="throttle_incr" PARAM="V_CTL_AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT" MIN="0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_pitch_of_vz_pgain" STEP="0.01" SHORTNAME="pitch_of_vz" PARAM="V_CTL_AUTO_THROTTLE_PITCH_OF_VZ_PGAIN" MIN="0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_pitch_of_vz_dgain" STEP="0.1" SHORTNAME="pitch_of_vz (d)" MIN="-10" MAX="10"/>
            </dl_settings>
            <dl_settings NAME="auto_pitch">
              <dl_setting VAR="v_ctl_auto_pitch_pgain" STEP="0.01" SHORTNAME="pgain" PARAM="V_CTL_AUTO_PITCH_PGAIN" MIN="0.01" MAX="0.1"/>
              <dl_setting VAR="v_ctl_auto_pitch_igain" STEP="0.01" SHORTNAME="igain" PARAM="V_CTL_AUTO_PITCH_IGAIN" MIN="0" MAX="1"/>
            </dl_settings>
            <dl_settings NAME="nav">
              <dl_setting VAR="h_ctl_course_pgain" STEP="0.05" SHORTNAME="course pgain" PARAM="H_CTL_COURSE_PGAIN" MIN="0.1" MAX="3"/>
              <dl_setting VAR="h_ctl_course_dgain" STEP="0.1" SHORTNAME="course dgain" PARAM="H_CTL_COURSE_DGAIN" MIN="0" MAX="2"/>
              <dl_setting VAR="h_ctl_course_pre_bank_correction" STEP="0.05" SHORTNAME="pre bank cor" PARAM="H_CTL_COURSE_PRE_BANK_CORRECTION" MIN="0.1" MAX="2"/>
              <dl_setting VAR="nav_glide_pitch_trim" STEP="0.05" SHORTNAME="glide pitch trim" PARAM="NAV_GLIDE_PITCH_TRIM" MIN="0.0" MAX="1"/>
              <dl_setting VAR="h_ctl_roll_slew" STEP="0.01" SHORTNAME="roll slew" MIN="0.02" MAX="1"/>
              <dl_setting VAR="nav_radius" STEP="5" MIN="-500" MAX="500"/>
              <dl_setting VAR="nav_course" STEP="5" MIN="0" MAX="359"/>
              <dl_setting VAR="nav_mode" STEP="1" MIN="1" MAX="2"/>
              <dl_setting VAR="nav_climb" STEP="0.5" MIN="-5" MAX="5"/>
              <dl_setting VAR="fp_pitch" STEP="1" MIN="-15" MAX="15"/>
              <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-50" MAX="50" HANDLER="IncreaseShift"/>
              <dl_setting VAR="nav_ground_speed_setpoint" STEP="0.5" SHORTNAME="ground speed" MIN="5" MAX="50"/>
              <dl_setting VAR="nav_ground_speed_pgain" STEP="0.01" SHORTNAME="ground speed pgain" MIN="0" MAX="0.2"/>
              <dl_setting VAR="nav_survey_shift" STEP="5" MIN="50" MAX="500"/>
            </dl_settings>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="ins">
            <dl_setting VAR="ins_roll_neutral" UNIT="rad" STEP="0.5" SHORTNAME="roll_neutral" PARAM="INS_ROLL_NEUTRAL_DEFAULT" MODULE="subsystems/ahrs" MIN="-15" MAX="15" ALT_UNIT="deg"/>
            <dl_setting VAR="ins_pitch_neutral" UNIT="rad" STEP="0.5" SHORTNAME="pitch_neutral" PARAM="INS_PITCH_NEUTRAL_DEFAULT" MIN="-15" MAX="15" ALT_UNIT="deg"/>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <aircraft name="Discovery" ac_id="220" airframe="airframes/OpenUAS/openuas_discovery.xml" radio="radios/OpenUAS/openuas_mx22_discvry-ap.xml" telemetry="telemetry/default_fixedwing.xml" flight_plan="flight_plans/OpenUAS/openuas_obc2014_kingaroy.xml" settings=" settings/fixedwing_basic.xml settings/control/ctl_basic.xml settings/estimation/ins_neutrals.xml settings/modules/dc.xml settings/modules/photogrammetry_calculator.xml" gui_color="white">
      <radio SYNC_MIN="5000" SYNC_MAX="20000" PULSE_TYPE="NEGATIVE" NAME="OpenUAS MX22 Discvry-AP" DATA_MIN="1000" DATA_MAX="2000">
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="THROTTLE" CTL="LeftStickVertical" AVERAGE="0"/>
        <channel NEUTRAL="1465" MIN="1100" MAX="1883" FUNCTION="ROLL" CTL="RightStickHorizontal" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1900" MAX="1100" FUNCTION="PITCH" CTL="RightStickVertical" AVERAGE="0"/>
        <channel NEUTRAL="1600" MIN="1100" MAX="1900" FUNCTION="YAW" CTL="LeftStickHorizontal" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MODE" CTL="CONTROL8" AVERAGE="1"/>
        <channel NEUTRAL="1100" MIN="1100" MAX="1900" FUNCTION="MANUALRELEASE" CTL="SW8" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="GAIN1" CTL="CONTROL10" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="CALIB" CTL="SW1" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="FLAPS" CTL="CONTROL9" AVERAGE="0"/>
      </radio>
      <dump>
        <flight_plan security_height="70" qfu="70" name="OpenUAS OBC2014" max_dist_from_home="10000" lon0="151.8423250000" lat0="-26.5847810000" ground_alt="0" alt="200">
          <header>//Set Generic options
    #include &quot;autopilot.h&quot;
//Enable AHRS Health test functions
    #include &quot;subsystems/ahrs.h&quot;
//Enable advanced power functions 
    #include &quot;subsystems/electrical.h&quot;
//Enable extra nav functionality
//Enable datalink tests
    #include &quot;subsystems/datalink/datalink.h&quot;
// PHOTOGRAMMETRY settings
    #define PHOTOGRAMMETRY_SWEEP_ANGLE 53		// Degrees from the North
    #define PHOTOGRAMMETRY_OVERLAP 30		// 1-99 Procent
    #define PHOTOGRAMMETRY_SIDELAP 20		// 1-99 Procent
    #define PHOTOGRAMMETRY_RESOLUTION 50		// mm pixel projection size
// Automatic include of Camera trigger if camera is present and only take pictures inside polygon
// Incluse airframe.h To be able to use specific variables 
    #include &quot;generated/airframe.h&quot;
// Completly replace with onboard recon copmpter interface
    #ifdef DC_AUTOSHOOT_QUARTERSEC_PERIOD
    #include &quot;modules/digital_cam/led_cam_ctrl.h&quot;
    //TODO make shooting distance not periodic
    #define LINE_START_FUNCTION dc_autoshoot = DC_AUTOSHOOT_PERIODIC;
    #define LINE_STOP_FUNCTION dc_autoshoot = DC_AUTOSHOOT_STOP;
    #endif
//For interaction with the Flight termination Device (FTD) 
    #define RCChannel(_x) ((*fbw_state).channels[_x])
//DANGER WARNING
// define ACTIVATED_FTD 0</header>
          <waypoints>
            <waypoint name="AIRFIELDHOME" lon="151.8423250000" lat="-26.5847810000" height="2." x="0.00" y="0.00"/>
            <waypoint y="0." x="0." name="HOME" height="2."/>
            <waypoint y="80." x="0." name="THROWSPOT" height="0."/>
            <waypoint y="-130." x="0." name="STDBY" height="95."/>
            <waypoint y="390." x="50." name="CLIMB" height="80."/>
            <waypoint name="COMMSHOLD" lon="151.8453890000" lat="-26.6072120000" height="115." x="327.56" y="-2481.85"/>
            <waypoint y="-999." x="-999." name="_SCRUTINEERINGDAY" height="0."/>
            <waypoint name="_MB1" lon="151.8373730000" lat="-26.5695640000" height="400." x="-508.47" y="1681.06"/>
            <waypoint name="_MB2" lon="151.8394050000" lat="-26.5699560000" height="400." x="-305.68" y="1639.48"/>
            <waypoint name="_MB3" lon="151.8411420000" lat="-26.5768230000" height="400." x="-125.79" y="880.41"/>
            <waypoint name="_MB4" lon="151.8400450000" lat="-26.5769900000" height="400." x="-234.88" y="860.93"/>
            <waypoint name="_MB5" lon="151.8410624807" lat="-26.5812271666" height="400." x="-129.30" y="392.51"/>
            <waypoint name="_MB6" lon="151.8425026348" lat="-26.5820599087" height="400." x="14.97" y="301.57"/>
            <waypoint name="_MB7" lon="151.8493290000" lat="-26.5791790000" height="400." x="691.95" y="626.80"/>
            <waypoint name="_MB8" lon="151.8509739535" lat="-26.5900093277" height="400." x="866.54" y="-571.36"/>
            <waypoint name="_MB9" lon="151.8631000000" lat="-26.6095740000" height="400." x="2093.36" y="-2727.68"/>
            <waypoint name="_MB10" lon="151.8588390000" lat="-26.6389580000" height="400." x="1698.16" y="-5986.22"/>
            <waypoint name="_MB11" lon="151.8472241047" lat="-26.6449723895" height="400." x="548.00" y="-6662.80"/>
            <waypoint name="_MB12" lon="151.8303500000" lat="-26.6435720000" height="400." x="-1133.02" y="-6522.95"/>
            <waypoint name="_MB13" lon="151.8344050000" lat="-26.5875990000" height="400." x="-785.91" y="-319.30"/>
            <waypoint name="SA1" lon="151.8431840000" lat="-26.6174450000" height="115." x="118.26" y="-3617.31"/>
            <waypoint name="SA2" lon="151.8555730000" lat="-26.6191710000" height="115." x="1353.43" y="-3797.39"/>
            <waypoint name="SA3" lon="151.8515970000" lat="-26.6378430000" height="155." x="976.17" y="-5869.18"/>
            <waypoint name="SA4" lon="151.8491210000" lat="-26.6388280000" height="155." x="730.68" y="-5980.50"/>
            <waypoint name="SA5" lon="151.8393860000" lat="-26.6373930000" height="155." x="-239.81" y="-5830.31"/>
            <waypoint name="TST-1" lon="151.8379376113" lat="-26.5837620409" height="115." x="-437.96" y="108.91"/>
            <waypoint name="TST-2" lon="151.8451373142" lat="-26.5859618185" height="115." x="281.26" y="-128.27"/>
            <waypoint name="TST-3" lon="151.8400929439" lat="-26.5902280387" height="115." x="-216.82" y="-605.36"/>
            <waypoint name="EL1" lon="151.8453890000" lat="-26.6072120000" height="115." x="327.56" y="-2481.85"/>
            <waypoint name="EL2" lon="151.8435670000" lat="-26.6174980000" height="115." x="156.45" y="-3622.83"/>
            <waypoint name="EL3" lon="151.8497880000" lat="-26.6183650000" height="115." x="776.68" y="-3713.28"/>
            <waypoint name="EL4" lon="151.8516460000" lat="-26.6080920000" height="115." x="951.44" y="-2573.71"/>
            <waypoint name="AMAZED" lon="151.8427090000" lat="-26.5940360000" height="115." x="47.51" y="-1024.80"/>
            <waypoint name="VIAEL2" lon="151.8435670000" lat="-26.6174980000" height="115." x="156.45" y="-3622.83"/>
            <waypoint y="0." x="-20." name="BASELEG"/>
            <waypoint y="777." x="666." name="OUTBACKJOE" height="0."/>
            <waypoint y="300" x="-100" name="START" height="65."/>
            <waypoint y="400." x="-100." name="RELEASE" height="75."/>
            <waypoint y="45.1" x="177.4" name="AF" height="30."/>
            <waypoint y="57.0" x="28.8" name="TD" height="0."/>
            <waypoint y="350" x="-100" name="_BASELEG"/>
          </waypoints>
          <sectors>
            <sector name="MissionBoundary" color="yellow">
              <corner name="_MB1"/>
              <corner name="_MB2"/>
              <corner name="_MB3"/>
              <corner name="_MB4"/>
              <corner name="_MB5"/>
              <corner name="_MB6"/>
              <corner name="_MB7"/>
              <corner name="_MB8"/>
              <corner name="_MB9"/>
              <corner name="_MB10"/>
              <corner name="_MB11"/>
              <corner name="_MB12"/>
              <corner name="_MB13"/>
            </sector>
            <sector name="SurveyArea" color="green">
              <corner name="SA1"/>
              <corner name="SA2"/>
              <corner name="SA3"/>
              <corner name="SA4"/>
              <corner name="SA5"/>
            </sector>
          </sectors>
          <exceptions>
            <exception deroute="AirfieldHomeLoiter" cond="And(datalink_time > 10, launch > 0)"/>
          </exceptions>
          <blocks>
            <block name="Startup" no="0">
              <set var="kill_throttle" value="1" no="0"/>
              <while cond="!GpsFixValid() || gps.pacc > 1500 || !(ahrs.status == AHRS_RUNNING)" no="1"/>
            </block>
            <block name="Geo init" no="1">
              <while cond="LessThan(NavBlockTime(), 8)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
              <call fun="NavSetWaypointHere(WP_HOME)" no="3"/>
            </block>
            <block name="Setting_home_location" no="2">
              <while cond="gps.pacc > 1000" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
              <call fun="NavSetWaypointHere(WP_HOME)" no="3"/>
              <call fun="NavSetWaypointHere(WP_AIRFIELDHOME)" no="4"/>
            </block>
            <block name="Holding point" no="3">
              <call fun="NavKillThrottle()" no="0"/>
              <set var="kill_throttle" value="1" no="1"/>
              <attitude vmode="throttle" until="FALSE" throttle="0" roll="0" pitch="0" no="2"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff" name="Takeoff" key="t" no="4">
              <call fun="NavSetWaypointHere(WP_THROWSPOT)" no="0"/>
              <set var="kill_throttle" value="0" no="1"/>
              <set var="launch" value="1" no="2"/>
              <set var="autopilot_flight_time" value="0" no="3"/>
              <call fun="NavSetWaypointHere(WP_HOME)" no="4"/>
              <while cond="LessThan(NavBlockTime(), 3)" no="5"/>
              <call fun="NavSetGroundReferenceHere()" no="7"/>
              <while cond="LessThan(NavBlockTime(), 3)" no="8"/>
              <call fun="NavSetWaypointHere(WP_AIRFIELDHOME)" no="10"/>
              <set var="kill_throttle" value="0" no="11"/>
              <set var="launch" value="1" no="12"/>
              <set var="autopilot_flight_time" value="0" no="13"/>
              <deroute block="Climbout" no="14"/>
            </block>
            <block name="Climbout" no="5">
              <attitude vmode="throttle" until="GetPosAlt() > ground_alt+40" throttle="1.0" roll="0" pitch="10" no="0"/>
            </block>
            <block name="determineflighttype" no="6">
              <exception deroute="Scrutineering Autonomy Start" cond="InsideMissionBoundary(WaypointX(WP__SCRUTINEERINGDAY), WaypointY(WP__SCRUTINEERINGDAY))"/>
            </block>
            <block name="TrackToEL1" no="7">
              <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MAX_CRUISE_THROTTLE" no="0"/>
              <go wp="EL1" throttle=".99" hmode="route" no="1"/>
            </block>
            <block name="TrackToEL2" no="8">
              <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MAX_CRUISE_THROTTLE" no="0"/>
              <go wp="VIAEL2" hmode="route" no="1"/>
            </block>
            <block name="SearchForJoe" no="9">
              <exception deroute="ReturnToBase" cond="PolySurveySweepBackNum >= 1"/>
              <call fun="InitializePolygonSurvey(WP_VIAEL2, 5, 144, 70)" no="0"/>
              <call fun="PolygonSurvey()" no="1"/>
            </block>
            <block name="ExitSearchArea" no="10">
              <go wp="EL3" no="0"/>
            </block>
            <block name="ExitSearchAreaViaEL3" no="11">
              <go wp="EL3" no="0"/>
            </block>
            <block name="GoToEL4" no="12">
              <go wp="EL4" hmode="route" no="0"/>
            </block>
            <block name="ReturnToBase" no="13">
              <go wp="AIRFIELDHOME" hmode="route" no="0"/>
              <deroute block="InitiateLandingApproach" no="1"/>
            </block>
            <block name="RescueJoe" no="14">
              <deroute block="bomb" no="0"/>
            </block>
            <block strip_button="Bomb" name="bomb" no="15">
              <set var="waypoints[WP_START].x" value="WaypointX(WP_OUTBACKJOE) + 100" no="0"/>
              <set var="waypoints[WP_START].y" value="WaypointY(WP_OUTBACKJOE) + 100" no="1"/>
              <set var="unit" value="BombComputeApproach(WP_OUTBACKJOE, WP_START, nav_radius)" no="2"/>
              <circle wp="BASELEG" until="NavQdrCloseTo(DegOfRad(bomb_start_qdr)-15)" radius="nav_radius" no="3"/>
            </block>
            <block name="align" no="16">
              <exception deroute="ExitSearchAreaViaEL3" cond="BombUpdateRelease(WP_OUTBACKJOE)"/>
              <go wp="RELEASE" hmode="route" from="START" approaching_time="bomb_trigger_delay" no="0"/>
            </block>
            <block name="shoot" no="17">
              <set var="unit" value="BombShoot()" no="0"/>
              <go wp="EL3" hmode="route" from="RELEASE" no="1"/>
              <deroute block="ExitSearchAreaViaEL3" no="2"/>
            </block>
            <block name="InitiateLandingApproach" no="18">
              <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE" no="0"/>
            </block>
            <block name="land" no="19">
              <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP__BASELEG, nav_radius)" no="0"/>
              <circle wp="_BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
              <circle wp="_BASELEG" until="And(NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-10), 10 > fabs(GetPosAlt() - WaypointAlt(WP__BASELEG)))" radius="nav_radius" no="2"/>
            </block>
            <block name="final" no="20">
              <exception deroute="flare" cond="ground_alt + 8 > GetPosAlt()"/>
              <go wp="TD" vmode="glide" hmode="route" from="AF" alt="ground_alt" no="0"/>
            </block>
            <block name="flare" no="21">
              <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
            </block>
            <block name="CommsHoldLoiter" no="22">
              <exception deroute="AirfieldHomeLoiter" cond="stage_time > 120"/>
            </block>
            <block name="AirfieldHomeLoiter" no="23">
              <exception deroute="AirfieldHomeSoftlyDown" cond="stage_time > 120"/>
              <circle wp="AIRFIELDHOME" radius="nav_radius" no="0"/>
            </block>
            <block name="AirfieldHomeSoftlyDown" no="24">
              <deroute block="InitiateLandingApproach" no="0"/>
            </block>
            <block strip_icon="path.png" strip_button="Square" name="Scrutineering Autonomy Start" no="25">
              <for var="i" to="2" from="0" no="1">
                <circle wp="STDBY" until="NavCircleCount() > 1" radius="nav_radius" no="2"/>
              </for>
            </block>
            <block name="Scrutineering Autonomy Square" no="26">
              <for var="i" to="3" from="0" no="1">
                <go wp="TST-1" hmode="route" from="TST-3" no="2"/>
                <go wp="TST-2" hmode="route" from="TST-1" no="3"/>
                <go wp="TST-3" hmode="route" from="TST-2" no="4"/>
              </for>
            </block>
            <block strip_icon="home.png" strip_button="Airfieldhome" name="Airfieldhome" key="a" no="27">
              <deroute block="InitiateLandingApproach" no="0"/>
            </block>
            <block strip_icon="home.png" strip_button="Standby" name="Standby" no="28">
              <circle wp="STDBY" radius="nav_radius" alt="WaypointAlt(WP_STDBY)" no="0"/>
            </block>
            <block name="ForcedCrash" no="29">
              <go wp="STDBY" vmode="throttle" throttle="0" no="0"/>
            </block>
            <block name="HOME" no="30">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="30" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="29" block_name="ForcedCrash" stage="0">
            <go wp="STDBY" vmode="throttle" throttle="0" no="0"/>
          </stage>
          <stage block="28" block_name="Standby" stage="0">
            <circle wp="STDBY" radius="nav_radius" alt="WaypointAlt(WP_STDBY)" no="0"/>
          </stage>
          <stage block="27" block_name="Airfieldhome" stage="0">
            <deroute block="InitiateLandingApproach" no="0"/>
          </stage>
          <stage block="26" block_name="Scrutineering Autonomy Square" stage="4">
            <go wp="TST-3" hmode="route" from="TST-2" no="4"/>
          </stage>
          <stage block="26" block_name="Scrutineering Autonomy Square" stage="3">
            <go wp="TST-2" hmode="route" from="TST-1" no="3"/>
          </stage>
          <stage block="26" block_name="Scrutineering Autonomy Square" stage="2">
            <go wp="TST-1" hmode="route" from="TST-3" no="2"/>
          </stage>
          <stage block="26" block_name="Scrutineering Autonomy Square" stage="1">
            <for var="i" to="3" from="0" no="1">
              <go wp="TST-1" hmode="route" from="TST-3" no="2"/>
              <go wp="TST-2" hmode="route" from="TST-1" no="3"/>
              <go wp="TST-3" hmode="route" from="TST-2" no="4"/>
            </for>
          </stage>
          <stage block="25" block_name="Scrutineering Autonomy Start" stage="2">
            <circle wp="STDBY" until="NavCircleCount() > 1" radius="nav_radius" no="2"/>
          </stage>
          <stage block="25" block_name="Scrutineering Autonomy Start" stage="1">
            <for var="i" to="2" from="0" no="1">
              <circle wp="STDBY" until="NavCircleCount() > 1" radius="nav_radius" no="2"/>
            </for>
          </stage>
          <stage block="24" block_name="AirfieldHomeSoftlyDown" stage="0">
            <deroute block="InitiateLandingApproach" no="0"/>
          </stage>
          <stage block="23" block_name="AirfieldHomeLoiter" stage="0">
            <circle wp="AIRFIELDHOME" radius="nav_radius" no="0"/>
          </stage>
          <stage block="21" block_name="flare" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
          </stage>
          <stage block="21" block_name="flare" stage="0">
            <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
          </stage>
          <stage block="20" block_name="final" stage="0">
            <go wp="TD" vmode="glide" hmode="route" from="AF" alt="ground_alt" no="0"/>
          </stage>
          <stage block="19" block_name="land" stage="2">
            <circle wp="_BASELEG" until="And(NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-10), 10 > fabs(GetPosAlt() - WaypointAlt(WP__BASELEG)))" radius="nav_radius" no="2"/>
          </stage>
          <stage block="19" block_name="land" stage="1">
            <circle wp="_BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
          </stage>
          <stage block="19" block_name="land" stage="0">
            <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP__BASELEG, nav_radius)" no="0"/>
          </stage>
          <stage block="18" block_name="InitiateLandingApproach" stage="0">
            <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE" no="0"/>
          </stage>
          <stage block="17" block_name="shoot" stage="2">
            <deroute block="ExitSearchAreaViaEL3" no="2"/>
          </stage>
          <stage block="17" block_name="shoot" stage="1">
            <go wp="EL3" hmode="route" from="RELEASE" no="1"/>
          </stage>
          <stage block="17" block_name="shoot" stage="0">
            <set var="unit" value="BombShoot()" no="0"/>
          </stage>
          <stage block="16" block_name="align" stage="0">
            <go wp="RELEASE" hmode="route" from="START" approaching_time="bomb_trigger_delay" no="0"/>
          </stage>
          <stage block="15" block_name="bomb" stage="3">
            <circle wp="BASELEG" until="NavQdrCloseTo(DegOfRad(bomb_start_qdr)-15)" radius="nav_radius" no="3"/>
          </stage>
          <stage block="15" block_name="bomb" stage="2">
            <set var="unit" value="BombComputeApproach(WP_OUTBACKJOE, WP_START, nav_radius)" no="2"/>
          </stage>
          <stage block="15" block_name="bomb" stage="1">
            <set var="waypoints[WP_START].y" value="WaypointY(WP_OUTBACKJOE) + 100" no="1"/>
          </stage>
          <stage block="15" block_name="bomb" stage="0">
            <set var="waypoints[WP_START].x" value="WaypointX(WP_OUTBACKJOE) + 100" no="0"/>
          </stage>
          <stage block="14" block_name="RescueJoe" stage="0">
            <deroute block="bomb" no="0"/>
          </stage>
          <stage block="13" block_name="ReturnToBase" stage="1">
            <deroute block="InitiateLandingApproach" no="1"/>
          </stage>
          <stage block="13" block_name="ReturnToBase" stage="0">
            <go wp="AIRFIELDHOME" hmode="route" no="0"/>
          </stage>
          <stage block="12" block_name="GoToEL4" stage="0">
            <go wp="EL4" hmode="route" no="0"/>
          </stage>
          <stage block="11" block_name="ExitSearchAreaViaEL3" stage="0">
            <go wp="EL3" no="0"/>
          </stage>
          <stage block="10" block_name="ExitSearchArea" stage="0">
            <go wp="EL3" no="0"/>
          </stage>
          <stage block="9" block_name="SearchForJoe" stage="1">
            <call fun="PolygonSurvey()" no="1"/>
          </stage>
          <stage block="9" block_name="SearchForJoe" stage="0">
            <call fun="InitializePolygonSurvey(WP_VIAEL2, 5, 144, 70)" no="0"/>
          </stage>
          <stage block="8" block_name="TrackToEL2" stage="1">
            <go wp="VIAEL2" hmode="route" no="1"/>
          </stage>
          <stage block="8" block_name="TrackToEL2" stage="0">
            <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MAX_CRUISE_THROTTLE" no="0"/>
          </stage>
          <stage block="7" block_name="TrackToEL1" stage="1">
            <go wp="EL1" throttle=".99" hmode="route" no="1"/>
          </stage>
          <stage block="7" block_name="TrackToEL1" stage="0">
            <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MAX_CRUISE_THROTTLE" no="0"/>
          </stage>
          <stage block="5" block_name="Climbout" stage="0">
            <attitude vmode="throttle" until="GetPosAlt() > ground_alt+40" throttle="1.0" roll="0" pitch="10" no="0"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="14">
            <deroute block="Climbout" no="14"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="13">
            <set var="autopilot_flight_time" value="0" no="13"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="12">
            <set var="launch" value="1" no="12"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="11">
            <set var="kill_throttle" value="0" no="11"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="10">
            <call fun="NavSetWaypointHere(WP_AIRFIELDHOME)" no="10"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="8">
            <while cond="LessThan(NavBlockTime(), 3)" no="8"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="7">
            <call fun="NavSetGroundReferenceHere()" no="7"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="5">
            <while cond="LessThan(NavBlockTime(), 3)" no="5"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="4">
            <call fun="NavSetWaypointHere(WP_HOME)" no="4"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="3">
            <set var="autopilot_flight_time" value="0" no="3"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="2">
            <set var="launch" value="1" no="2"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="1">
            <set var="kill_throttle" value="0" no="1"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="0">
            <call fun="NavSetWaypointHere(WP_THROWSPOT)" no="0"/>
          </stage>
          <stage block="3" block_name="Holding point" stage="2">
            <attitude vmode="throttle" until="FALSE" throttle="0" roll="0" pitch="0" no="2"/>
          </stage>
          <stage block="3" block_name="Holding point" stage="1">
            <set var="kill_throttle" value="1" no="1"/>
          </stage>
          <stage block="3" block_name="Holding point" stage="0">
            <call fun="NavKillThrottle()" no="0"/>
          </stage>
          <stage block="2" block_name="Setting_home_location" stage="4">
            <call fun="NavSetWaypointHere(WP_AIRFIELDHOME)" no="4"/>
          </stage>
          <stage block="2" block_name="Setting_home_location" stage="3">
            <call fun="NavSetWaypointHere(WP_HOME)" no="3"/>
          </stage>
          <stage block="2" block_name="Setting_home_location" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="2" block_name="Setting_home_location" stage="0">
            <while cond="gps.pacc > 1000" no="0"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="3">
            <call fun="NavSetWaypointHere(WP_HOME)" no="3"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="0">
            <while cond="LessThan(NavBlockTime(), 8)" no="0"/>
          </stage>
          <stage block="0" block_name="Startup" stage="1">
            <while cond="!GpsFixValid() || gps.pacc > 1500 || !(ahrs.status == AHRS_RUNNING)" no="1"/>
          </stage>
          <stage block="0" block_name="Startup" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Discovery">
        <firmware NAME="fixedwing">
          <target NAME="ap" BOARD="twog_1.0"/>
          <target NAME="sim" BOARD="pc"/>
          <define NAME="AGR_CLIMB"/>
          <define NAME="LOITER_TRIM"/>
          <define NAME="STRONG_WIND"/>
          <define NAME="WIND_INFO"/>
          <define NAME="WIND_INFO_RET"/>
          <define NAME="ALT_KALMAN"/>
          <define NAME="USE_I2C0"/>
          <subsystem TYPE="transparent" NAME="telemetry">
            <configure VALUE="B9600" NAME="MODEM_BAUD"/>
            <configure VALUE="UART1" NAME="MODEM_PORT"/>
          </subsystem>
          <subsystem TYPE="ppm" NAME="radio_control"/>
          <subsystem NAME="control"/>
          <subsystem TYPE="infrared" NAME="ahrs"/>
          <subsystem TYPE="ublox" NAME="gps"/>
          <subsystem TYPE="extra" NAME="navigation"/>
          <subsystem TYPE="bomb" NAME="navigation"/>
        </firmware>
        <servos>
          <servo NO="0" NEUTRAL="1250" NAME="MOTOR" MIN="1100" MAX="1860"/>
          <servo NO="1" NEUTRAL="1500" NAME="SHUTTER" MIN="1000" MAX="2000"/>
          <servo NO="2" NEUTRAL="1440" NAME="AILERON_LEFT" MIN="1100" MAX="1900"/>
          <servo NO="6" NEUTRAL="1440" NAME="AILERON_RIGHT" MIN="1100" MAX="1900"/>
          <servo NO="3" NEUTRAL="1500" NAME="ELEVATOR" MIN="1100" MAX="1900"/>
          <servo NO="4" NEUTRAL="1500" NAME="RUDDER" MIN="1100" MAX="1900"/>
          <servo NO="7" NEUTRAL="1110" NAME="HATCH" MIN="1100" MAX="1900"/>
        </servos>
        <commands>
          <axis NAME="THROTTLE" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="0"/>
          <axis NAME="PITCH" FAILSAFE_VALUE="0"/>
          <axis NAME="YAW" FAILSAFE_VALUE="2000"/>
          <axis NAME="HATCH" FAILSAFE_VALUE="-9599"/>
          <axis NAME="CLICKSHUTTER" FAILSAFE_VALUE="-9599"/>
          <axis NAME="BRAKE" FAILSAFE_VALUE="9600"/>
        </commands>
        <rc_commands>
          <set VALUE="@THROTTLE" COMMAND="THROTTLE"/>
          <set VALUE="@ROLL" COMMAND="ROLL"/>
          <set VALUE="@PITCH" COMMAND="PITCH"/>
          <set VALUE="@YAW" COMMAND="YAW"/>
          <set VALUE="@FLAPS" COMMAND="BRAKE"/>
          <set VALUE="@MANUALRELEASE" COMMAND="HATCH"/>
          <set VALUE="@MANUALRELEASE" COMMAND="CLICKSHUTTER"/>
        </rc_commands>
        <auto_rc_commands>
          <set VALUE="@YAW" COMMAND="YAW"/>
        </auto_rc_commands>
        <section NAME="SERVO_MIXER_GAINS">
          <define VALUE="0.3f" NAME="AILERON_NEUTRAL"/>
          <define VALUE="1.0f" NAME="AILERON_RATE_UP"/>
          <define VALUE="0.5f" NAME="AILERON_RATE_DOWN"/>
          <define VALUE="1.0f" NAME="AILERON_RATE_UP_BRAKE"/>
          <define VALUE="1.0f" NAME="AILERON_RATE_DOWN_BRAKE"/>
          <define VALUE="0.9f" NAME="PITCH_GAIN"/>
          <define VALUE="-0.7f" NAME="BRAKE_AILEVON"/>
          <define VALUE="0.1f" NAME="BRAKE_PITCH"/>
          <define VALUE="130" NAME="MAX_BRAKE_RATE"/>
          <define VALUE="0.3f" NAME="RUDDER_OF_AILERON"/>
          <define VALUE="(    ((X)>(XH))   ?    (XH)    :    ( ((X)>(XL)) ? (X) : (XL) )    )" NAME="LIMIT(X,XL,XH)"/>
        </section>
        <command_laws>
          <set VALUE="@ROLL" SERVO="AILERON_LEFT"/>
          <set VALUE="@ROLL" SERVO="AILERON_RIGHT"/>
          <set VALUE="@THROTTLE" SERVO="MOTOR"/>
          <set VALUE="@PITCH" SERVO="ELEVATOR"/>
          <set VALUE="@YAW + @ROLL * RUDDER_OF_AILERON" SERVO="RUDDER"/>
          <set VALUE="@HATCH" SERVO="HATCH"/>
          <set VALUE="@CLICKSHUTTER" SERVO="SHUTTER"/>
        </command_laws>
        <section PREFIX="AUTO1_" NAME="AUTO1">
          <define VALUE="0.95" NAME="MAX_ROLL"/>
          <define VALUE="0.95" NAME="MAX_PITCH"/>
        </section>
        <section PREFIX="IR_" NAME="INFRARED">
          <define VALUE="512" NAME="ADC_IR1_NEUTRAL"/>
          <define VALUE="512" NAME="ADC_IR2_NEUTRAL"/>
          <define VALUE="512" NAME="ADC_TOP_NEUTRAL"/>
          <define VALUE="1.0" NAME="CORRECTION_UP"/>
          <define VALUE="1.0" NAME="CORRECTION_DOWN"/>
          <define VALUE="1.0" NAME="CORRECTION_LEFT"/>
          <define VALUE="1.0" NAME="CORRECTION_RIGHT"/>
          <define VALUE="0.8" NAME="LATERAL_CORRECTION"/>
          <define VALUE="0.8" NAME="LONGITUDINAL_CORRECTION"/>
          <define VALUE="1.0" NAME="VERTICAL_CORRECTION"/>
          <define VALUE="1" NAME="HORIZ_SENSOR_TILTED"/>
          <define VALUE="-1" NAME="IR1_SIGN"/>
          <define VALUE="1" NAME="IR2_SIGN"/>
          <define VALUE="1" NAME="TOP_SIGN"/>
          <define VALUE="-4" UNIT="deg" NAME="ROLL_NEUTRAL_DEFAULT"/>
          <define VALUE="3" UNIT="deg" NAME="PITCH_NEUTRAL_DEFAULT"/>
        </section>
        <section NAME="BAT">
          <define VALUE="17000" UNIT="mA" NAME="MILLIAMP_AT_FULL_THROTTLE"/>
          <define VALUE="9.1" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
          <define VALUE="9.8" UNIT="V" NAME="CRITIC_BAT_LEVEL"/>
          <define VALUE="10.5" UNIT="V" NAME="LOW_BAT_LEVEL"/>
          <define VALUE="12.6" UNIT="V" NAME="MAX_BAT_LEVEL"/>
        </section>
        <section NAME="MISC">
          <define VALUE="10.0" UNIT="m/s" NAME="MINIMUM_AIRSPEED"/>
          <define VALUE="16.0" UNIT="m/s" NAME="NOMINAL_AIRSPEED"/>
          <define VALUE="23.0" UNIT="m/s" NAME="MAXIMUM_AIRSPEED"/>
          <define VALUE="5.0" UNIT="s" NAME="CARROT"/>
          <define VALUE="(1.3*MAX_DIST_FROM_HOME)" NAME="KILL_MODE_DISTANCE"/>
          <define VALUE="60" UNIT="Hz" NAME="CONTROL_RATE"/>
          <define VALUE="TRUE" NAME="NO_XBEE_API_INIT"/>
          <define VALUE="TRUE" NAME="UNLOCKED_HOME_MODE"/>
          <define VALUE="PPRZ_MODE_AUTO2" NAME="RC_LOST_MODE"/>
          <define VALUE="TRUE" NAME="ALT_KALMAN_ENABLED"/>
          <define VALUE="1.0" NAME="TRIGGER_DELAY"/>
          <define VALUE="50.0" NAME="DEFAULT_CIRCLE_RADIUS"/>
          <define VALUE="40.0" NAME="MIN_CIRCLE_RADIUS"/>
          <define VALUE="10." NAME="GLIDE_AIRSPEED"/>
          <define VALUE="2." UNIT="m/s" NAME="GLIDE_VSPEED"/>
          <define VALUE="10." UNIT="deg" NAME="GLIDE_PITCH"/>
        </section>
        <section PREFIX="V_CTL_" NAME="VERTICAL CONTROL">
          <define VALUE="11.2" UNIT="volt" NAME="POWER_CTL_BAT_NOMINAL"/>
          <define VALUE="0.04" UNIT="(m/s)/m" NAME="ALTITUDE_PGAIN"/>
          <define VALUE="1.8" UNIT="m/s" NAME="ALTITUDE_MAX_CLIMB"/>
          <define VALUE="0.75" UNIT="%" NAME="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE"/>
          <define VALUE="0.60" UNIT="%" NAME="AUTO_THROTTLE_MIN_CRUISE_THROTTLE"/>
          <define VALUE="0.99" UNIT="%" NAME="AUTO_THROTTLE_MAX_CRUISE_THROTTLE"/>
          <define VALUE="1000" UNIT="pprz_t" NAME="AUTO_THROTTLE_LOITER_TRIM"/>
          <define VALUE="-2000" UNIT="pprz_t" NAME="AUTO_THROTTLE_DASH_TRIM"/>
          <define VALUE="0.09" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT"/>
          <define VALUE="0.007" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_PGAIN"/>
          <define VALUE="0.02" NAME="AUTO_THROTTLE_IGAIN"/>
          <define VALUE="0.0" NAME="AUTO_THROTTLE_DGAIN"/>
          <define VALUE="0.08" UNIT="rad/(m/s)" NAME="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN"/>
          <define VALUE="0.8" UNIT="s" NAME="THROTTLE_SLEW_LIMITER"/>
          <define VALUE="0.052" NAME="AUTO_PITCH_PGAIN"/>
          <define VALUE="0.065" NAME="AUTO_PITCH_IGAIN"/>
          <define VALUE="0.45" NAME="AUTO_PITCH_MAX_PITCH"/>
          <define VALUE="-0.40" NAME="AUTO_PITCH_MIN_PITCH"/>
        </section>
        <section PREFIX="H_CTL_" NAME="HORIZONTAL CONTROL">
          <define VALUE="1.1" NAME="COURSE_PGAIN"/>
          <define VALUE="0.1" NAME="COURSE_DGAIN"/>
          <define VALUE="0.4" NAME="COURSE_PRE_BANK_CORRECTION"/>
          <define VALUE="0.90" UNIT="rad" NAME="ROLL_MAX_SETPOINT"/>
          <define VALUE="0.6" UNIT="rad" NAME="PITCH_MAX_SETPOINT"/>
          <define VALUE="-0.5" UNIT="rad" NAME="PITCH_MIN_SETPOINT"/>
          <define VALUE="8000." NAME="ROLL_ATTITUDE_GAIN"/>
          <define VALUE="1000" NAME="ROLL_RATE_GAIN"/>
          <define VALUE="0.30" NAME="ROLL_SLEW"/>
          <define VALUE="0.0" NAME="AILERON_OF_THROTTLE"/>
          <define VALUE="9000." NAME="PITCH_PGAIN"/>
          <define VALUE="2.1" NAME="PITCH_DGAIN"/>
          <define VALUE="1700" NAME="ELEVATOR_OF_ROLL"/>
        </section>
        <section NAME="NAV">
          <define VALUE="0." NAME="NAV_PITCH"/>
          <define VALUE="0." NAME="NAV_GLIDE_PITCH_TRIM"/>
        </section>
        <section PREFIX="AGR_" NAME="AGGRESSIVE">
          <define VALUE="26" NAME="BLEND_START"/>
          <define VALUE="13" NAME="BLEND_END"/>
          <define VALUE="0.99" NAME="CLIMB_THROTTLE"/>
          <define VALUE="RadOfDeg(40)" NAME="CLIMB_PITCH"/>
          <define VALUE="0.6" NAME="DESCENT_THROTTLE"/>
          <define VALUE="RadOfDeg(-40)" NAME="DESCENT_PITCH"/>
          <define VALUE="0.8" NAME="CLIMB_NAV_RATIO"/>
          <define VALUE="0.99" NAME="DESCENT_NAV_RATIO"/>
        </section>
        <section PREFIX="FAILSAFE_" NAME="FAILSAFE">
          <define VALUE="3" UNIT="s" NAME="DELAY_WITHOUT_GPS"/>
          <define VALUE="0" UNIT="%" NAME="DEFAULT_THROTTLE"/>
          <define VALUE="0.15" UNIT="rad" NAME="DEFAULT_ROLL"/>
          <define VALUE="-0.1" UNIT="rad" NAME="DEFAULT_PITCH"/>
          <define VALUE="60" UNIT="m" NAME="HOME_RADIUS"/>
        </section>
        <section PREFIX="DATALINK_" NAME="DATALINK">
          <define VALUE="PPRZ" NAME="DEVICE_TYPE"/>
          <define VALUE="...." NAME="DEVICE_ADDRESS"/>
        </section>
        <section PREFIX="DC_" NAME="DIGITAL_CAMERA">
          <define VALUE="9" UNIT="quarter_second" NAME="AUTOSHOOT_QUARTERSEC_PERIOD"/>
          <define VALUE="50" UNIT="meter" NAME="AUTOSHOOT_METER_GRID"/>
          <define VALUE="LED_ON" NAME="PUSH"/>
          <define VALUE="LED_OFF" NAME="RELEASE"/>
        </section>
        <section PREFIX="PHOTOGRAMMETRY_" NAME="PHOTOGRAMMETRY">
          <define VALUE="24.0" UNIT="mm" NAME="FOCAL_LENGTH"/>
          <define VALUE="6.66" UNIT="mm" NAME="SENSOR_WIDTH"/>
          <define VALUE="5.32" UNIT="mm" NAME="SENSOR_HEIGHT"/>
          <define VALUE="1280" UNIT="" NAME="PIXELS_WIDTH"/>
          <define VALUE="0.3" UNIT="%" NAME="OVERLAP"/>
          <define VALUE="0.2" UNIT="%" NAME="SIDELAP"/>
          <define VALUE="50" UNIT="mm pixel projection" NAME="RESOLUTION"/>
          <define VALUE="50" UNIT="m" NAME="HEIGHT_MIN"/>
          <define VALUE="220" UNIT="m" NAME="HEIGHT_MAX"/>
          <define VALUE="40" UNIT="m" NAME="RADIUS_MIN"/>
        </section>
        <section NAME="SIMU">
          <define VALUE="0.5" NAME="YAW_RESPONSE_FACTOR"/>
        </section>
        <modules MAIN_FREQ="60">
          <load NAME="infrared_adc.xml"/>
          <load NAME="digital_cam.xml">
            <define VALUE="3" NAME="DC_SHUTTER_LED"/>
          </load>
          <load NAME="photogrammetry_calculator.xml"/>
        </modules>
      </airframe>
      <telemetry>
        <process NAME="Ap">
          <mode NAME="default">
            <message PERIOD="1" NAME="AIRSPEED"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="0.25" NAME="GPS"/>
            <message PERIOD="1." NAME="NAVIGATION"/>
            <message PERIOD="0.5" NAME="ATTITUDE"/>
            <message PERIOD="0.5" NAME="ESTIMATOR"/>
            <message PERIOD="2.5" NAME="ENERGY"/>
            <message PERIOD="0.5" NAME="WP_MOVED"/>
            <message PERIOD="1.05" NAME="CIRCLE"/>
            <message PERIOD="1.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="1.2" NAME="SEGMENT"/>
            <message PERIOD="2.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="SETTINGS"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="IR_SENSORS"/>
            <message PERIOD="1.1" NAME="IMU_GYRO"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="2.0" NAME="GPS_SOL"/>
            <message PERIOD="0.5" NAME="CAM"/>
            <message PERIOD="1.0" NAME="CAM_POINT"/>
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
          </mode>
          <mode NAME="minimal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="4" NAME="ATTITUDE"/>
            <message PERIOD="1.05" NAME="GPS"/>
            <message PERIOD="1.3" NAME="ESTIMATOR"/>
            <message PERIOD="1.4" NAME="WP_MOVED"/>
            <message PERIOD="3.05" NAME="CIRCLE"/>
            <message PERIOD="4.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="3.2" NAME="SEGMENT"/>
            <message PERIOD="5.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="3." NAME="NAVIGATION"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="5.2" NAME="IR_SENSORS"/>
            <message PERIOD="10.1" NAME="IMU_GYRO"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="5.0" NAME="GPS_SOL"/>
          </mode>
          <mode NAME="extremal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="5.5" NAME="PPRZ_MODE"/>
            <message PERIOD="7." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD="0.5" NAME="BARO_RAW"/>
            <message PERIOD="0.5" NAME="IR_SENSORS"/>
            <message PERIOD="0.1" NAME="IMU_GYRO_RAW"/>
          </mode>
        </process>
        <process NAME="Fbw">
          <mode NAME="default">
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
          <mode NAME="debug">
            <message PERIOD="0.5" NAME="PPM"/>
            <message PERIOD="0.5" NAME="RC"/>
            <message PERIOD="0.5" NAME="COMMANDS"/>
            <message PERIOD="1" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="flight params">
            <dl_setting VAR="flight_altitude" STEP="10" SHORTNAME="altitude" MIN="0" MAX="1000"/>
            <dl_setting VAR="nav_course" STEP="1" MIN="0" MAX="360"/>
            <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-10" MAX="10" HANDLER="IncreaseShift"/>
            <dl_setting VAR="autopilot_flight_time" STEP="1" SHORTNAME="flight time" MODULE="autopilot" MIN="0" MAX="0" HANDLER="ResetFlightTimeAndLaunch"/>
            <dl_setting VAR="nav_radius" STEP="10" MODULE="firmwares/fixedwing/nav" MIN="-200" MAX="200" HANDLER="SetNavRadius">
              <strip_button VALUE="1" NAME="Circle right" ICON="circle-right.png" GROUP="circle"/>
              <strip_button VALUE="-1" NAME="Circle left" ICON="circle-left.png" GROUP="circle"/>
              <key_press VALUE="1" KEY="greater"/>
              <key_press VALUE="-1" KEY="less"/>
            </dl_setting>
          </dl_settings>
          <dl_settings NAME="mode">
            <dl_setting VAR="pprz_mode" VALUES="MANUAL|AUTO1|AUTO2|HOME|NOGPS|FAILSAFE" STEP="1" MODULE="autopilot" MIN="0" MAX="2"/>
            <dl_setting VAR="launch" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="kill_throttle" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="gps.reset" STEP="1" SHORTNAME="GPS reset" MODULE="subsystems/gps" MIN="0" MAX="2" HANDLER="Reset"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="control">
            <dl_settings NAME="trim">
              <dl_setting VAR="ap_state->command_roll_trim" STEP="1" SHORTNAME="roll_trim" PARAM="COMMAND_ROLL_TRIM" MODULE="inter_mcu" MIN="-960" MAX="960"/>
              <dl_setting VAR="ap_state->command_pitch_trim" STEP="1" SHORTNAME="pitch_trim" PARAM="COMMAND_PITCH_TRIM" MIN="-960" MAX="960"/>
              <dl_setting VAR="ap_state->command_yaw_trim" STEP="1" SHORTNAME="yaw_trim" PARAM="COMMAND_YAW_TRIM" MIN="-9000" MAX="9000"/>
            </dl_settings>
            <dl_settings NAME="attitude">
              <dl_setting VAR="h_ctl_roll_pgain" STEP="250" SHORTNAME="roll_pgain" MODULE="stabilization/stabilization_attitude" MIN="000" MAX="25000"/>
              <dl_setting VAR="h_ctl_roll_max_setpoint" STEP="0.05" SHORTNAME="max_roll" PARAM="H_CTL_ROLL_MAX_SETPOINT" MIN="0" MAX="1"/>
              <dl_setting VAR="h_ctl_pitch_pgain" STEP="250" SHORTNAME="pitch_pgain" PARAM="H_CTL_PITCH_PGAIN" MIN="0" MAX="25000"/>
              <dl_setting VAR="h_ctl_pitch_dgain" STEP="10" SHORTNAME="pitch_dgain" PARAM="H_CTL_PITCH_DGAIN" MIN="0" MAX="50000"/>
              <dl_setting VAR="h_ctl_elevator_of_roll" STEP="100" SHORTNAME="elevator_of_roll" PARAM="H_CTL_ELEVATOR_OF_ROLL" MIN="0" MAX="5000"/>
              <dl_setting VAR="h_ctl_aileron_of_throttle" STEP="100" SHORTNAME="aileron_of_throttle" MIN="0" MAX="5000"/>
              <dl_setting VAR="h_ctl_roll_attitude_gain" STEP="250" SHORTNAME="roll attitude pgain" PARAM="H_CTL_ROLL_ATTITUDE_GAIN" MIN="0" MAX="15000"/>
              <dl_setting VAR="h_ctl_roll_rate_gain" STEP="250" SHORTNAME="roll rate gain" PARAM="H_CTL_ROLL_RATE_GAIN" MIN="0" MAX="15000"/>
            </dl_settings>
            <dl_settings NAME="alt">
              <dl_setting VAR="v_ctl_altitude_pgain" STEP="0.01" SHORTNAME="alt_pgain" PARAM="V_CTL_ALTITUDE_PGAIN" MIN="0" MAX="0.2"/>
            </dl_settings>
            <dl_settings NAME="auto_throttle">
              <dl_setting VAR="v_ctl_auto_throttle_cruise_throttle" STEP="0.05" SHORTNAME="cruise throttle" PARAM="V_CTL_AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE" MODULE="guidance/guidance_v" MIN="0.0" MAX="1" HANDLER="SetCruiseThrottle">
                <strip_button VALUE="0.1" NAME="Loiter" GROUP="dash_loiter"/>
                <strip_button VALUE="0" NAME="Cruise" GROUP="dash_loiter"/>
                <strip_button VALUE="1" NAME="Dash" GROUP="dash_loiter"/>
              </dl_setting>
              <dl_setting VAR="v_ctl_auto_throttle_pgain" STEP="0.005" SHORTNAME="throttle_pgain" PARAM="V_CTL_AUTO_THROTTLE_PGAIN" MIN="0.00" MAX="0.05"/>
              <dl_setting VAR="v_ctl_auto_throttle_igain" STEP="0.05" SHORTNAME="throttle_igain" PARAM="V_CTL_AUTO_THROTTLE_IGAIN" MIN="0.0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_dgain" STEP="0.1" SHORTNAME="throttle_dgain" MIN="0.0" MAX="2"/>
              <dl_setting VAR="v_ctl_auto_throttle_climb_throttle_increment" STEP="0.01" SHORTNAME="throttle_incr" PARAM="V_CTL_AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT" MIN="0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_pitch_of_vz_pgain" STEP="0.01" SHORTNAME="pitch_of_vz" PARAM="V_CTL_AUTO_THROTTLE_PITCH_OF_VZ_PGAIN" MIN="0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_pitch_of_vz_dgain" STEP="0.1" SHORTNAME="pitch_of_vz (d)" MIN="-10" MAX="10"/>
            </dl_settings>
            <dl_settings NAME="auto_pitch">
              <dl_setting VAR="v_ctl_auto_pitch_pgain" STEP="0.01" SHORTNAME="pgain" PARAM="V_CTL_AUTO_PITCH_PGAIN" MIN="0.01" MAX="0.1"/>
              <dl_setting VAR="v_ctl_auto_pitch_igain" STEP="0.01" SHORTNAME="igain" PARAM="V_CTL_AUTO_PITCH_IGAIN" MIN="0" MAX="1"/>
            </dl_settings>
            <dl_settings NAME="nav">
              <dl_setting VAR="h_ctl_course_pgain" STEP="0.05" SHORTNAME="course pgain" PARAM="H_CTL_COURSE_PGAIN" MIN="0.1" MAX="3"/>
              <dl_setting VAR="h_ctl_course_dgain" STEP="0.1" SHORTNAME="course dgain" PARAM="H_CTL_COURSE_DGAIN" MIN="0" MAX="2"/>
              <dl_setting VAR="h_ctl_course_pre_bank_correction" STEP="0.05" SHORTNAME="pre bank cor" PARAM="H_CTL_COURSE_PRE_BANK_CORRECTION" MIN="0.1" MAX="2"/>
              <dl_setting VAR="nav_glide_pitch_trim" STEP="0.05" SHORTNAME="glide pitch trim" PARAM="NAV_GLIDE_PITCH_TRIM" MIN="0.0" MAX="1"/>
              <dl_setting VAR="h_ctl_roll_slew" STEP="0.01" SHORTNAME="roll slew" MIN="0.02" MAX="1"/>
              <dl_setting VAR="nav_radius" STEP="5" MIN="-500" MAX="500"/>
              <dl_setting VAR="nav_course" STEP="5" MIN="0" MAX="359"/>
              <dl_setting VAR="nav_mode" STEP="1" MIN="1" MAX="2"/>
              <dl_setting VAR="nav_climb" STEP="0.5" MIN="-5" MAX="5"/>
              <dl_setting VAR="fp_pitch" STEP="1" MIN="-15" MAX="15"/>
              <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-50" MAX="50" HANDLER="IncreaseShift"/>
              <dl_setting VAR="nav_ground_speed_setpoint" STEP="0.5" SHORTNAME="ground speed" MIN="5" MAX="50"/>
              <dl_setting VAR="nav_ground_speed_pgain" STEP="0.01" SHORTNAME="ground speed pgain" MIN="0" MAX="0.2"/>
              <dl_setting VAR="nav_survey_shift" STEP="5" MIN="50" MAX="500"/>
            </dl_settings>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="ins">
            <dl_setting VAR="ins_roll_neutral" UNIT="rad" STEP="0.5" SHORTNAME="roll_neutral" PARAM="INS_ROLL_NEUTRAL_DEFAULT" MODULE="subsystems/ahrs" MIN="-15" MAX="15" ALT_UNIT="deg"/>
            <dl_setting VAR="ins_pitch_neutral" UNIT="rad" STEP="0.5" SHORTNAME="pitch_neutral" PARAM="INS_PITCH_NEUTRAL_DEFAULT" MIN="-15" MAX="15" ALT_UNIT="deg"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings NAME="control">
          <dl_settings NAME="dc">
            <dl_setting VAR="0" STEP="1" SHORTNAME="Shutter" MODULE="digital_cam/dc" MIN="0" MAX="255" HANDLER="send_command">
              <strip_button VALUE="32" NAME="Photo" ICON="digital-camera.png" GROUP="maindc"/>
              <strip_button VALUE="111" NAME="Power" ICON="off.png" GROUP="maindc"/>
              <strip_button VALUE="116" NAME="ZoomIn" ICON="zoom.png" GROUP="dczoom"/>
              <strip_button VALUE="119" NAME="ZoomOut" ICON="zoom.png" GROUP="dczoom"/>
            </dl_setting>
            <dl_setting VAR="dc_autoshoot" STEP="1" MIN="0" MAX="3">
              <strip_button VALUE="1" NAME="Start Autoshoot" ICON="on.png" GROUP="dcauto"/>
              <strip_button VALUE="0" NAME="Stop Autoshoot" ICON="off.png" GROUP="dcauto"/>
            </dl_setting>
            <dl_setting VAR="dc_autoshoot_quartersec_period" UNIT="quarter-sec" STEP="1" SHORTNAME="Periodic" PARAM="DC_AUTOSHOOT_QUARTERSEC_PERIOD" MIN="1" MAX="255"/>
            <dl_setting VAR="dc_autoshoot_meter_grid" UNIT="meter" STEP="1" SHORTNAME="UTM%" PARAM="DC_AUTOSHOOT_METER_GRID" MIN="0" MAX="5"/>
            <dl_setting VAR="dc_gps_dist" STEP="5" SHORTNAME="Linear-Interval" MODULE="digital_cam/dc" MIN="0" MAX="250" HANDLER="Survey"/>
            <dl_setting VAR="dc_circle_interval" STEP="5" SHORTNAME="Circle-Interval" MODULE="digital_cam/dc" MIN="5" MAX="90" HANDLER="Circle"/>
            <dl_setting VAR="dc_cam_tracing" STEP="1" SHORTNAME="Cam-Tracing" MIN="0" MAX="1"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings NAME="control">
          <dl_settings NAME="photocalc">
            <dl_setting VAR="photogrammetry_sweep_angle" UNIT="rad" STEP="1" SHORTNAME="Angle" PARAM="PHOTOGRAMMETRY_SWEEP_ANGLE" MODULE="cartography/photogrammetry_calculator" MIN="-90" MAX="90" ALT_UNIT="deg"/>
            <dl_setting VAR="photogrammetry_sidelap" STEP="1" SHORTNAME="SideLap %" PARAM="PHOTOGRAMMETRY_SIDELAP" MODULE="cartography/photogrammetry_calculator" MIN="0" MAX="95" HANDLER="UpdateSideLap"/>
            <dl_setting VAR="photogrammetry_overlap" STEP="1" SHORTNAME="OverLap %" PARAM="PHOTOGRAMMETRY_OVERLAP" MODULE="cartography/photogrammetry_calculator" MIN="0" MAX="95" HANDLER="UpdateOverLap"/>
            <dl_setting VAR="photogrammetry_resolution" STEP="1" SHORTNAME="Pixel mm" PARAM="PHOTOGRAMMETRY_RESOLUTION" MODULE="cartography/photogrammetry_calculator" MIN="1" MAX="200" HANDLER="UpdateResolution"/>
            <dl_setting VAR="photogrammetry_height_min" STEP="1" SHORTNAME="h_min" MIN="1" MAX="500"/>
            <dl_setting VAR="photogrammetry_height_max" STEP="1" SHORTNAME="h_max" MIN="1" MAX="500"/>
            <dl_setting VAR="photogrammetry_radius_min" STEP="1" SHORTNAME="r_min" MIN="1" MAX="500"/>
            <dl_setting VAR="photogrammetry_height" STEP="1" SHORTNAME="computed height" MODULE="cartography/photogrammetry_calculator" MIN="1" MAX="500" HANDLER="UpdateHeight"/>
            <dl_setting VAR="photogrammetry_sidestep" STEP="1" SHORTNAME="computed sidestep" MODULE="cartography/photogrammetry_calculator" MIN="1" MAX="1000" HANDLER="UpdateSideStep"/>
            <dl_setting VAR="photogrammetry_triggerstep" STEP="1" SHORTNAME="computed trigger" MODULE="cartography/photogrammetry_calculator" MIN="1" MAX="1000" HANDLER="UpdateTriggerStep"/>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <aircraft name="Dukkha" ac_id="202" airframe="airframes/OpenUAS/openuas_dukkha.xml" radio="radios/OpenUAS/openuas_mx22_dukkha-ap.xml" telemetry="telemetry/default_fixedwing_imu_9k6.xml" flight_plan="flight_plans/OpenUAS/openuas_simplesquare_marenbach.xml" settings=" settings/fixedwing_basic.xml settings/control/tune_agr_climb.xml settings/estimation/ins_neutrals.xml" gui_color="white">
      <radio SYNC_MIN="5000" SYNC_MAX="20000" PULSE_TYPE="NEGATIVE" NAME="OpenUAS MX22 Dukkha-AP" DATA_MIN="1000" DATA_MAX="2000">
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="THROTTLE" CTL="LeftStickVertical" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1900" MAX="1100" FUNCTION="ROLL" CTL="RightStickHorizontal" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1900" MAX="1100" FUNCTION="PITCH" CTL="RightStickVertical" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="YAW" CTL="LeftStickHorizontal" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MODE" CTL="CONTROL8" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MANUALRELEASE" CTL="SW8" AVERAGE="2"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="CAMBER" CTL="CONTROL9" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="AIRBRAKE" CTL="CONTROL10" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="CALIB" CTL="SW1" AVERAGE="0"/>
      </radio>
      <dump>
        <flight_plan security_height="375" qfu="0" name="opennuas simplesquare" max_dist_from_home="580" lon0="7.571682" lat0="50.726868" ground_alt="275" alt="395">
          <header>    #include &quot;subsystems/navigation/nav_line.h&quot;
    #include &quot;subsystems/nav.h&quot;
    #include &quot;subsystems/datalink/datalink.h&quot;
    #include &quot;subsystems/navigation/OSAMNav.h&quot;
    #include &quot;subsystems/navigation/bomb.h&quot;
    #include &quot;firmwares/fixedwing/guidance/energy_ctrl.h&quot;</header>
          <waypoints>
            <waypoint y="62.6" x="-336.0" name="AIRFIELDHOME"/>
            <waypoint y="20.6" x="-304.1" name="HOME"/>
            <waypoint y="55.0" x="-309.7" name="STDBY"/>
            <waypoint y="112.8" x="-295.6" name="CLIMB"/>
            <waypoint y="119.6" x="74.0" name="TESTTOOFAR"/>
            <waypoint y="112.6" x="-325.3" name="MOB"/>
            <waypoint y="79.0" x="-84.3" name="1"/>
            <waypoint y="60.3" x="-381.6" name="2"/>
            <waypoint y="235.2" x="-413.3" name="3"/>
            <waypoint y="251.6" x="-112.6" name="4"/>
            <waypoint y="-69.3" x="77.7" name="_MB1"/>
            <waypoint y="-160.9" x="-691.1" name="_MB2"/>
            <waypoint y="340.9" x="-621.8" name="_MB3"/>
            <waypoint y="409.9" x="-5.1" name="_MB4"/>
            <waypoint y="152.9" x="-300.1" name="AF"/>
            <waypoint y="69.8" x="-433.0" name="TD"/>
            <waypoint y="119.2" x="-164.3" name="_BASELEG"/>
          </waypoints>
          <sectors>
            <sector name="MissionBoundary" color="red">
              <corner name="_MB1"/>
              <corner name="_MB2"/>
              <corner name="_MB3"/>
              <corner name="_MB4"/>
            </sector>
          </sectors>
          <exceptions>
            <exception deroute="Standby" cond="(datalink_time > 10) && !(nav_block == IndexOfBlock('WaitForGPSFix')) && !(nav_block == IndexOfBlock('Initialize')) && !(nav_block == IndexOfBlock('Set_base_location')) && !(nav_block == IndexOfBlock('Takeoff')) && !(nav_block == IndexOfBlock('AutoTakeoff')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Final')) && !(nav_block == IndexOfBlock('Flare'))"/>
            <exception deroute="Standby" cond="Or(!InsideMissionBoundary(GetPosX(), GetPosY()), GetPosAlt() > ground_alt + 230) && !(nav_block == IndexOfBlock('WaitForGPSFix')) && !(nav_block == IndexOfBlock('Initialize')) && !(nav_block == IndexOfBlock('Set_base_location')) && !(nav_block == IndexOfBlock('Takeoff')) && !(nav_block == IndexOfBlock('AutoTakeoff')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Final')) && !(nav_block == IndexOfBlock('Flare'))"/>
          </exceptions>
          <blocks>
            <block name="WaitForGPSFix" no="0">
              <set var="kill_throttle" value="1" no="0"/>
              <while cond="!GpsFixValid() || gps.pacc > 1500" no="1"/>
            </block>
            <block name="Initialize" no="1">
              <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
            </block>
            <block name="Set_base_location" no="2">
              <call fun="NavSetWaypointHere(WP_HOME)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="1"/>
              <set var="kill_throttle" value="0" no="2"/>
              <while cond="LessThan(NavBlockTime(), 3)" no="3"/>
              <call fun="NavSetWaypointHere(WP_AIRFIELDHOME)" no="5"/>
              <set var="launch" value="1" no="6"/>
              <set var="autopilot_flight_time" value="0" no="7"/>
              <deroute block="AutoTakeoff" no="8"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff (wp CLIMB)" name="Takeoff" no="3">
              <exception deroute="Standby" cond="GetPosAlt() > ground_alt+45"/>
              <set var="kill_throttle" value="0" no="0"/>
              <go wp="CLIMB" no="1"/>
            </block>
            <block name="AutoTakeoff" no="4">
              <exception deroute="Standby" cond="GetPosAlt() > ground_alt+70"/>
              <set var="kill_throttle" value="0" no="0"/>
              <set var="launch" value="1" no="1"/>
              <set var="autopilot_flight_time" value="0" no="2"/>
              <attitude vmode="throttle" until="GetPosAlt() > ground_alt+50" throttle="0.99" roll="0" pitch="20" no="3"/>
            </block>
            <block strip_icon="home.png" strip_button="Standby" name="Standby" key="<Control>a" no="5">
              <circle wp="STDBY" radius="nav_radius" no="0"/>
            </block>
            <block strip_icon="eight.png" strip_button="Figure 8 (wp 1-2)" name="Figure 8 around wp 1" no="6">
              <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
            </block>
            <block strip_icon="oval.png" strip_button="Oval (wp 1-2)" name="Oval 1-2" no="7">
              <oval radius="nav_radius" p2="2" p1="1" no="1"/>
            </block>
            <block strip_icon="mob.png" strip_button="Turn around here" name="MOB" no="8">
              <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
              <circle wp="MOB" radius="100" no="1"/>
            </block>
            <block name="SimpleSquareRoute" no="9">
              <for var="i" to="20" from="0" no="1">
                <go wp="2" hmode="route" from="1" no="2"/>
                <go wp="3" hmode="route" from="2" no="3"/>
                <go wp="4" hmode="route" from="3" no="4"/>
                <go wp="1" hmode="route" from="4" no="5"/>
              </for>
            </block>
            <block strip_icon="land-right.png" strip_button="Land right (wp AF-TD)" name="Land Right AF-TD" group="Land" no="10">
              <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="Land" no="1"/>
            </block>
            <block strip_icon="land-left.png" strip_button="Land left (wp AF-TD)" name="Land Left AF-TD" group="Land" no="11">
              <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="Land" no="1"/>
            </block>
            <block name="Land" no="12">
              <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP__BASELEG, nav_radius)" no="0"/>
              <circle wp="_BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
              <circle wp="_BASELEG" until="And(NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10), 10 > fabs(GetPosAlt() - WaypointAlt(WP__BASELEG)))" radius="nav_radius" no="2"/>
            </block>
            <block name="Final" no="13">
              <exception deroute="Flare" cond="ground_alt + 10 > GetPosAlt()"/>
              <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
            </block>
            <block name="Flare" no="14">
              <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
            </block>
            <block strip_icon="OpenUAS/openuas_return.png" strip_button="To Far" name="TestToFar" key="<Control>f" no="15">
              <go wp="TESTTOOFAR" no="0"/>
            </block>
            <block name="HOME" no="16">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="16" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="15" block_name="TestToFar" stage="0">
            <go wp="TESTTOOFAR" no="0"/>
          </stage>
          <stage block="14" block_name="Flare" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
          </stage>
          <stage block="14" block_name="Flare" stage="0">
            <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
          </stage>
          <stage block="13" block_name="Final" stage="0">
            <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
          </stage>
          <stage block="12" block_name="Land" stage="2">
            <circle wp="_BASELEG" until="And(NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10), 10 > fabs(GetPosAlt() - WaypointAlt(WP__BASELEG)))" radius="nav_radius" no="2"/>
          </stage>
          <stage block="12" block_name="Land" stage="1">
            <circle wp="_BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
          </stage>
          <stage block="12" block_name="Land" stage="0">
            <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP__BASELEG, nav_radius)" no="0"/>
          </stage>
          <stage block="11" block_name="Land Left AF-TD" stage="1">
            <deroute block="Land" no="1"/>
          </stage>
          <stage block="11" block_name="Land Left AF-TD" stage="0">
            <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="10" block_name="Land Right AF-TD" stage="1">
            <deroute block="Land" no="1"/>
          </stage>
          <stage block="10" block_name="Land Right AF-TD" stage="0">
            <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="9" block_name="SimpleSquareRoute" stage="5">
            <go wp="1" hmode="route" from="4" no="5"/>
          </stage>
          <stage block="9" block_name="SimpleSquareRoute" stage="4">
            <go wp="4" hmode="route" from="3" no="4"/>
          </stage>
          <stage block="9" block_name="SimpleSquareRoute" stage="3">
            <go wp="3" hmode="route" from="2" no="3"/>
          </stage>
          <stage block="9" block_name="SimpleSquareRoute" stage="2">
            <go wp="2" hmode="route" from="1" no="2"/>
          </stage>
          <stage block="9" block_name="SimpleSquareRoute" stage="1">
            <for var="i" to="20" from="0" no="1">
              <go wp="2" hmode="route" from="1" no="2"/>
              <go wp="3" hmode="route" from="2" no="3"/>
              <go wp="4" hmode="route" from="3" no="4"/>
              <go wp="1" hmode="route" from="4" no="5"/>
            </for>
          </stage>
          <stage block="8" block_name="MOB" stage="1">
            <circle wp="MOB" radius="100" no="1"/>
          </stage>
          <stage block="8" block_name="MOB" stage="0">
            <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
          </stage>
          <stage block="7" block_name="Oval 1-2" stage="1">
            <oval radius="nav_radius" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="6" block_name="Figure 8 around wp 1" stage="1">
            <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
          </stage>
          <stage block="5" block_name="Standby" stage="0">
            <circle wp="STDBY" radius="nav_radius" no="0"/>
          </stage>
          <stage block="4" block_name="AutoTakeoff" stage="3">
            <attitude vmode="throttle" until="GetPosAlt() > ground_alt+50" throttle="0.99" roll="0" pitch="20" no="3"/>
          </stage>
          <stage block="4" block_name="AutoTakeoff" stage="2">
            <set var="autopilot_flight_time" value="0" no="2"/>
          </stage>
          <stage block="4" block_name="AutoTakeoff" stage="1">
            <set var="launch" value="1" no="1"/>
          </stage>
          <stage block="4" block_name="AutoTakeoff" stage="0">
            <set var="kill_throttle" value="0" no="0"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="1">
            <go wp="CLIMB" no="1"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="0">
            <set var="kill_throttle" value="0" no="0"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="8">
            <deroute block="AutoTakeoff" no="8"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="7">
            <set var="autopilot_flight_time" value="0" no="7"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="6">
            <set var="launch" value="1" no="6"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="5">
            <call fun="NavSetWaypointHere(WP_AIRFIELDHOME)" no="5"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="3">
            <while cond="LessThan(NavBlockTime(), 3)" no="3"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="2">
            <set var="kill_throttle" value="0" no="2"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="1">
            <call fun="NavSetGroundReferenceHere()" no="1"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="0">
            <call fun="NavSetWaypointHere(WP_HOME)" no="0"/>
          </stage>
          <stage block="1" block_name="Initialize" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="1" block_name="Initialize" stage="0">
            <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
          </stage>
          <stage block="0" block_name="WaitForGPSFix" stage="1">
            <while cond="!GpsFixValid() || gps.pacc > 1500" no="1"/>
          </stage>
          <stage block="0" block_name="WaitForGPSFix" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Dukkha">
        <servos>
          <servo NO="0" NEUTRAL="1270" NAME="THROTTLE" MIN="1240" MAX="1830"/>
          <servo NO="1" NEUTRAL="1570" NAME="AILERONS" MIN="1100" MAX="1980"/>
          <servo NO="2" NEUTRAL="1500" NAME="ELEVATOR" MIN="1100" MAX="1920"/>
          <servo NO="3" NEUTRAL="1430" NAME="RUDDER" MIN="1010" MAX="1800"/>
          <servo NO="4" NEUTRAL="1529" NAME="FLAP" MIN="1530" MAX="1050"/>
          <servo NO="6" NEUTRAL="1990" NAME="HATCH" MIN="1010" MAX="1999"/>
        </servos>
        <commands>
          <axis NAME="THROTTLE" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="2000"/>
          <axis NAME="PITCH" FAILSAFE_VALUE="2000"/>
          <axis NAME="YAW" FAILSAFE_VALUE="2000"/>
          <axis NAME="CAMBER" FAILSAFE_VALUE="5500"/>
          <axis NAME="AIRBRAKE" FAILSAFE_VALUE="0"/>
          <axis NAME="HATCH" FAILSAFE_VALUE="-9599"/>
          <axis NAME="FORCECRASH" FAILSAFE_VALUE="0"/>
        </commands>
        <rc_commands>
          <set VALUE="@THROTTLE" COMMAND="THROTTLE"/>
          <set VALUE="@ROLL" COMMAND="ROLL"/>
          <set VALUE="@PITCH" COMMAND="PITCH"/>
          <set VALUE="@YAW" COMMAND="YAW"/>
          <set VALUE="@CAMBER" COMMAND="CAMBER"/>
          <set VALUE="@AIRBRAKE" COMMAND="AIRBRAKE"/>
          <set VALUE="@MANUALRELEASE" COMMAND="HATCH"/>
        </rc_commands>
        <auto_rc_commands>
          <set VALUE="@YAW" COMMAND="YAW"/>
          <set VALUE="@CAMBER" COMMAND="CAMBER"/>
          <set VALUE="@AIRBRAKE" COMMAND="AIRBRAKE"/>
          <set VALUE="@MANUALRELEASE" COMMAND="HATCH"/>
        </auto_rc_commands>
        <section NAME="SERVO_MIXER_GAINS">
          <define VALUE="0.3f" NAME="AILERON_NEUTRAL"/>
          <define VALUE="1.0f" NAME="AILERON_RATE_UP"/>
          <define VALUE="0.5f" NAME="AILERON_RATE_DOWN"/>
          <define VALUE="1.0f" NAME="AILERON_RATE_UP_AIRBRAKE"/>
          <define VALUE="1.0f" NAME="AILERON_RATE_DOWN_AIRBRAKE"/>
          <define VALUE="0.9f" NAME="PITCH_GAIN"/>
          <define VALUE="-0.7f" NAME="AIRBRAKE_ELEVON"/>
          <define VALUE="0.05f" NAME="AIRBRAKE_PITCH"/>
          <define VALUE="130" NAME="MAX_AIRBRAKE_RATE"/>
          <define VALUE="0.15f" NAME="RUDDER_OF_AILERON"/>
          <define VALUE="(    ((X)>(XH))   ?    (XH)    :    ( ((X)>(XL)) ? (X) : (XL) )    )" NAME="LIMIT(X,XL,XH)"/>
        </section>
        <command_laws>
          <set VALUE="@THROTTLE" SERVO="THROTTLE"/>
          <set VALUE="@ROLL" SERVO="AILERONS"/>
          <set VALUE="@PITCH" SERVO="ELEVATOR"/>
          <set VALUE="@YAW" SERVO="RUDDER"/>
          <set VALUE="@CAMBER + @AIRBRAKE" SERVO="FLAP"/>
          <set VALUE="@HATCH" SERVO="HATCH"/>
        </command_laws>
        <section PREFIX="AHRS_" NAME="AHRS">
          <define VALUE="0.51562740288882" NAME="H_X"/>
          <define VALUE="-0.05707735220832" NAME="H_Y"/>
          <define VALUE="0.85490967783446" NAME="H_Z"/>
        </section>
        <section PREFIX="IMU_" NAME="IMU">
          <define VALUE="27.5" NAME="GYRO_P_NEUTRAL"/>
          <define VALUE="81.5" NAME="GYRO_Q_NEUTRAL"/>
          <define VALUE="-23" NAME="GYRO_R_NEUTRAL"/>
          <define VALUE="4.412" NAME="GYRO_P_SENS" INTEGER="16"/>
          <define VALUE="4.412" NAME="GYRO_Q_SENS" INTEGER="16"/>
          <define VALUE="4.412" NAME="GYRO_R_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="GYRO_PQ_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="GYRO_PR_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="GYRO_QR_SENS" INTEGER="16"/>
          <define VALUE="13" NAME="ACCEL_X_NEUTRAL"/>
          <define VALUE="-2" NAME="ACCEL_Y_NEUTRAL"/>
          <define VALUE="-7" NAME="ACCEL_Z_NEUTRAL"/>
          <define VALUE="36.3290362827" NAME="ACCEL_X_SENS" INTEGER="16"/>
          <define VALUE="36.856011103" NAME="ACCEL_Y_SENS" INTEGER="16"/>
          <define VALUE="35.8129500484" NAME="ACCEL_Z_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="ACCEL_XY_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="ACCEL_XZ_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="ACCEL_YZ_SENS" INTEGER="16"/>
          <define VALUE="0" NAME="MAG_X_NEUTRAL"/>
          <define VALUE="0" NAME="MAG_Y_NEUTRAL"/>
          <define VALUE="0" NAME="MAG_Z_NEUTRAL"/>
          <define VALUE="1." NAME="MAG_X_SENS" INTEGER="16"/>
          <define VALUE="1." NAME="MAG_Y_SENS" INTEGER="16"/>
          <define VALUE="1." NAME="MAG_Z_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="MAG_XY_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="MAG_XZ_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="MAG_YZ_SENS" INTEGER="16"/>
          <define VALUE="0." NAME="BODY_TO_IMU_PHI"/>
          <define VALUE="0." NAME="BODY_TO_IMU_THETA"/>
          <define VALUE="90." NAME="BODY_TO_IMU_PSI"/>
        </section>
        <section PREFIX="INS_" NAME="INS">
          <define VALUE="RadOfDeg(2.45)" NAME="ROLL_NEUTRAL_DEFAULT"/>
          <define VALUE="RadOfDeg(-2.02)" NAME="PITCH_NEUTRAL_DEFAULT"/>
        </section>
        <section PREFIX="COMMAND_" NAME="TRIM">
          <define VALUE="0" NAME="ROLL_TRIM"/>
          <define VALUE="0" NAME="PITCH_TRIM"/>
        </section>
        <section PREFIX="AUTO1_" NAME="AUTO1">
          <define VALUE="0.9" UNIT="rad" NAME="MAX_ROLL"/>
          <define VALUE="0.9" UNIT="rad" NAME="MAX_PITCH"/>
        </section>
        <section NAME="BAT">
          <define VALUE="((adc) - 205) * 124.0f" NAME="MilliAmpereOfAdc(adc)"/>
          <define VALUE="(adc*0.004545)" NAME="VoltageOfAdc(adc)"/>
          <define VALUE="10.4" UNIT="V" NAME="LOW_BAT_LEVEL"/>
          <define VALUE="9.6" UNIT="V" NAME="CRITIC_BAT_LEVEL"/>
          <define VALUE="9.0" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
        </section>
        <section NAME="MISC">
          <define VALUE="11.0" UNIT="m/s" NAME="MINIMUM_AIRSPEED"/>
          <define VALUE="19.0" UNIT="m/s" NAME="NOMINAL_AIRSPEED"/>
          <define VALUE="25.0" UNIT="m/s" NAME="MAXIMUM_AIRSPEED"/>
          <define VALUE="5." UNIT="s" NAME="CARROT"/>
          <define VALUE="60" UNIT="Hz" NAME="CONTROL_FREQUENCY"/>
          <define VALUE="TRUE" NAME="ALT_KALMAN_ENABLED"/>
          <define VALUE="80." NAME="DEFAULT_CIRCLE_RADIUS"/>
          <define VALUE="(1.3*MAX_DIST_FROM_HOME)" NAME="KILL_MODE_DISTANCE"/>
          <define VALUE="TRUE" NAME="NO_XBEE_API_INIT"/>
          <define VALUE="0." NAME="NAV_GLIDE_PITCH_TRIM"/>
          <define VALUE="TRUE" NAME="UNLOCKED_HOME_MODE"/>
          <define VALUE="PPRZ_MODE_AUTO2" NAME="RC_LOST_MODE"/>
          <define VALUE="10." NAME="GLIDE_AIRSPEED"/>
          <define VALUE="2." UNIT="m/s" NAME="GLIDE_VSPEED"/>
          <define VALUE="10." UNIT="deg" NAME="GLIDE_PITCH"/>
        </section>
        <section PREFIX="V_CTL_" NAME="VERTICAL CONTROL">
          <define VALUE="11.1" UNIT="volt" NAME="POWER_CTL_BAT_NOMINAL"/>
          <define VALUE="0.104999996722" NAME="ALTITUDE_PGAIN"/>
          <define VALUE="2." NAME="ALTITUDE_MAX_CLIMB"/>
          <define VALUE="0.0960000008345" NAME="ALTITUDE_PRE_CLIMB_CORRECTION"/>
          <define VALUE="0.78" NAME="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE"/>
          <define VALUE="0.63" NAME="AUTO_THROTTLE_MIN_CRUISE_THROTTLE"/>
          <define VALUE="0.96" NAME="AUTO_THROTTLE_MAX_CRUISE_THROTTLE"/>
          <define VALUE="1500" NAME="AUTO_THROTTLE_LOITER_TRIM"/>
          <define VALUE="-4000" NAME="AUTO_THROTTLE_DASH_TRIM"/>
          <define VALUE="0.4" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT"/>
          <define VALUE="0.00" NAME="AUTO_THROTTLE_PGAIN"/>
          <define VALUE="0." NAME="AUTO_THROTTLE_IGAIN"/>
          <define VALUE="0.2" NAME="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN"/>
          <define VALUE="1.1" UNIT="s" NAME="THROTTLE_SLEW_LIMITER"/>
        </section>
        <section PREFIX="H_CTL_" NAME="HORIZONTAL CONTROL">
          <define VALUE="1.1" NAME="COURSE_PGAIN"/>
          <define VALUE="0.2" NAME="COURSE_DGAIN"/>
          <define VALUE="0.9" NAME="COURSE_PRE_BANK_CORRECTION"/>
          <define VALUE="0.8" UNIT="radians" NAME="ROLL_MAX_SETPOINT"/>
          <define VALUE="0.5" UNIT="radians" NAME="PITCH_MAX_SETPOINT"/>
          <define VALUE="-0.5" UNIT="radians" NAME="PITCH_MIN_SETPOINT"/>
          <define VALUE="9000" NAME="PITCH_PGAIN"/>
          <define VALUE="0.3" NAME="PITCH_DGAIN"/>
          <define VALUE="1200" NAME="ELEVATOR_OF_ROLL"/>
          <define VALUE="0.3" NAME="ROLL_SLEW"/>
          <define VALUE="8000" NAME="ROLL_ATTITUDE_GAIN"/>
          <define VALUE="500" NAME="ROLL_RATE_GAIN"/>
        </section>
        <section PREFIX="AGR_" NAME="AGGRESSIVE">
          <define VALUE="20" NAME="BLEND_START"/>
          <define VALUE="10" NAME="BLEND_END"/>
          <define VALUE="0.99" NAME="CLIMB_THROTTLE"/>
          <define VALUE=".5" NAME="CLIMB_PITCH"/>
          <define VALUE="0.3" NAME="DESCENT_THROTTLE"/>
          <define VALUE="-0.5" NAME="DESCENT_PITCH"/>
          <define VALUE="0.8" NAME="CLIMB_NAV_RATIO"/>
          <define VALUE="0.99" NAME="DESCENT_NAV_RATIO"/>
        </section>
        <section PREFIX="FAILSAFE_" NAME="FAILSAFE">
          <define VALUE="0.0" UNIT="%" NAME="DEFAULT_THROTTLE"/>
          <define VALUE="0.1" UNIT="rad" NAME="DEFAULT_ROLL"/>
          <define VALUE="0.0" UNIT="rad" NAME="DEFAULT_PITCH"/>
          <define VALUE="DEFAULT_CIRCLE_RADIUS" UNIT="m" NAME="HOME_RADIUS"/>
          <define VALUE="(MAX_DIST_FROM_HOME*1.5)" NAME="KILL_MODE_DISTANCE"/>
          <define VALUE="5" UNIT="s" NAME="DELAY_WITHOUT_GPS"/>
        </section>
        <section PREFIX="DC_" NAME="DIGITAL_CAMERA">
          <define VALUE="12" UNIT="quarter_second" NAME="AUTOSHOOT_QUARTERSEC_PERIOD"/>
          <define VALUE="100" UNIT="meter" NAME="AUTOSHOOT_METER_GRID"/>
          <define VALUE="LED_ON" NAME="PUSH"/>
          <define VALUE="LED_OFF" NAME="RELEASE"/>
        </section>
        <section PREFIX="PHOTOGRAMMETRY_" NAME="PHOTOGRAMMETRY">
          <define VALUE="24.0" UNIT="mm" NAME="FOCAL_LENGTH"/>
          <define VALUE="6.66" UNIT="mm" NAME="SENSOR_WIDTH"/>
          <define VALUE="5.32" UNIT="mm" NAME="SENSOR_HEIGHT"/>
          <define VALUE="4000" UNIT="" NAME="PIXELS_WIDTH"/>
          <define VALUE="0.3" UNIT="%" NAME="OVERLAP"/>
          <define VALUE="0.2" UNIT="%" NAME="SIDELAP"/>
          <define VALUE="50" UNIT="mm pixel projection" NAME="RESOLUTION"/>
          <define VALUE="50" UNIT="m" NAME="HEIGHT_MIN"/>
          <define VALUE="220" UNIT="m" NAME="HEIGHT_MAX"/>
          <define VALUE="60" UNIT="m" NAME="RADIUS_MIN"/>
        </section>
        <modules>
          <load NAME="gps_ubx_ucenter.xml"/>
          <load NAME="digital_cam.xml">
            <define VALUE="3" NAME="DC_SHUTTER_LED"/>
            <define VALUE="1" UNIT="quarter_second" NAME="DC_SHUTTER_DELAY"/>
          </load>
          <load NAME="photogrammetry_calculator.xml"/>
        </modules>
        <firmware NAME="fixedwing">
          <target NAME="ap" BOARD="lisa_m_1.0"/>
          <configure VALUE="JTAG" NAME="FLASH_MODE"/>
          <configure VALUE="120" NAME="PERIODIC_FREQUENCY"/>
          <configure VALUE="100" NAME="AHRS_PROPAGATE_FREQUENCY"/>
          <configure VALUE="100" NAME="AHRS_CORRECT_FREQUENCY"/>
          <define NAME="AHRS_TRIGGERED_ATTITUDE_LOOP"/>
          <subsystem TYPE="aspirin_v1.5" NAME="imu"/>
          <define VALUE="FALSE" NAME="USE_MAGNETOMETER"/>
          <subsystem TYPE="int_cmpl_quat" NAME="ahrs">
            <define NAME="AHRS_GRAVITY_UPDATE_COORDINATED_TURN"/>
            <define VALUE="30" NAME="AHRS_GRAVITY_HEURISTIC_FACTOR"/>
          </subsystem>
          <subsystem TYPE="ppm" NAME="radio_control"/>
          <subsystem TYPE="transparent" NAME="telemetry">
            <configure VALUE="B9600" NAME="MODEM_BAUD"/>
            <configure VALUE="UART1" NAME="MODEM_PORT"/>
          </subsystem>
          <subsystem NAME="control"/>
          <subsystem TYPE="ublox" NAME="gps">
            <configure VALUE="UART2" NAME="GPS_PORT"/>
            <configure VALUE="B38400" NAME="GPS_BAUD"/>
          </subsystem>
          <subsystem TYPE="extra" NAME="navigation"/>
          <subsystem TYPE="bomb" NAME="navigation"/>
          <subsystem TYPE="alt_float" NAME="ins"/>
          <define NAME="ALT_KALMAN"/>
          <define NAME="STRONG_WIND"/>
          <define NAME="WIND_INFO"/>
          <define NAME="WIND_INFO_RET"/>
          <define NAME="AGR_CLIMB"/>
          <define NAME="TUNE_AGRESSIVE_CLIMB"/>
          <define NAME="LOITER_TRIM"/>
          <target NAME="sim" BOARD="pc"/>
        </firmware>
      </airframe>
      <telemetry>
        <process NAME="Ap">
          <mode NAME="default">
            <message PERIOD="1.4" NAME="AIRSPEED"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="0.5" NAME="GPS"/>
            <message PERIOD="1." NAME="NAVIGATION"/>
            <message PERIOD="0.7" NAME="ATTITUDE"/>
            <message PERIOD="0.6" NAME="ESTIMATOR"/>
            <message PERIOD="2.5" NAME="ENERGY"/>
            <message PERIOD="1.1" NAME="WP_MOVED"/>
            <message PERIOD="1.05" NAME="CIRCLE"/>
            <message PERIOD="1.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="1.2" NAME="SEGMENT"/>
            <message PERIOD="2.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="SETTINGS"/>
            <message PERIOD="2.2" NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.2" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="2.0" NAME="GPS_SOL"/>
            <message PERIOD=".8" NAME="IMU_ACCEL"/>
            <message PERIOD=".9" NAME="IMU_GYRO"/>
            <message PERIOD="1.9" NAME="IMU_MAG"/>
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
          </mode>
          <mode NAME="minimal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="4" NAME="ATTITUDE"/>
            <message PERIOD="1.05" NAME="GPS"/>
            <message PERIOD="1.3" NAME="ESTIMATOR"/>
            <message PERIOD="1.4" NAME="WP_MOVED"/>
            <message PERIOD="3.05" NAME="CIRCLE"/>
            <message PERIOD="4.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="3.2" NAME="SEGMENT"/>
            <message PERIOD="5.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="3." NAME="NAVIGATION"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="5.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="5.0" NAME="GPS_SOL"/>
          </mode>
          <mode NAME="extremal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="7.5" NAME="PPRZ_MODE"/>
            <message PERIOD="8." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".05" NAME="IMU_MAG_RAW"/>
            <message PERIOD="0.5" NAME="BARO_RAW"/>
          </mode>
          <mode NAME="scaled_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".075" NAME="IMU_GYRO"/>
            <message PERIOD=".075" NAME="IMU_ACCEL"/>
            <message PERIOD=".1" NAME="IMU_MAG"/>
          </mode>
          <mode NAME="debug_imu">
            <message PERIOD="0.1" NAME="ATTITUDE"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="5.5" NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
            <message PERIOD=".5" NAME="IMU_ACCEL"/>
            <message PERIOD=".5" NAME="IMU_GYRO"/>
            <message PERIOD=".5" NAME="IMU_MAG"/>
            <message PERIOD=".5" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".5" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".5" NAME="IMU_MAG_RAW"/>
          </mode>
        </process>
        <process NAME="Fbw">
          <mode NAME="default">
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
          <mode NAME="debug">
            <message PERIOD="0.5" NAME="PPM"/>
            <message PERIOD="0.5" NAME="RC"/>
            <message PERIOD="0.5" NAME="COMMANDS"/>
            <message PERIOD="1" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="flight params">
            <dl_setting VAR="flight_altitude" STEP="10" SHORTNAME="altitude" MIN="0" MAX="1000"/>
            <dl_setting VAR="nav_course" STEP="1" MIN="0" MAX="360"/>
            <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-10" MAX="10" HANDLER="IncreaseShift"/>
            <dl_setting VAR="autopilot_flight_time" STEP="1" SHORTNAME="flight time" MODULE="autopilot" MIN="0" MAX="0" HANDLER="ResetFlightTimeAndLaunch"/>
            <dl_setting VAR="nav_radius" STEP="10" MODULE="firmwares/fixedwing/nav" MIN="-200" MAX="200" HANDLER="SetNavRadius">
              <strip_button VALUE="1" NAME="Circle right" ICON="circle-right.png" GROUP="circle"/>
              <strip_button VALUE="-1" NAME="Circle left" ICON="circle-left.png" GROUP="circle"/>
              <key_press VALUE="1" KEY="greater"/>
              <key_press VALUE="-1" KEY="less"/>
            </dl_setting>
          </dl_settings>
          <dl_settings NAME="mode">
            <dl_setting VAR="pprz_mode" VALUES="MANUAL|AUTO1|AUTO2|HOME|NOGPS|FAILSAFE" STEP="1" MODULE="autopilot" MIN="0" MAX="2"/>
            <dl_setting VAR="launch" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="kill_throttle" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="gps.reset" STEP="1" SHORTNAME="GPS reset" MODULE="subsystems/gps" MIN="0" MAX="2" HANDLER="Reset"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings NAME="control">
          <dl_settings NAME="agr">
            <dl_setting VAR="agr_climb_throttle" STEP="0.05" SHORTNAME="climb_throttle" PARAM="AGR_CLIMB_THROTTLE" MODULE="guidance/guidance_v" MIN="0." MAX="1.0"/>
            <dl_setting VAR="agr_climb_pitch" STEP="0.05" SHORTNAME="climb_pitch" PARAM="AGR_CLIMB_PITCH" MODULE="guidance/guidance_v" MIN="-0.1" MAX="0.5"/>
            <dl_setting VAR="agr_climb_nav_ratio" STEP="0.1" SHORTNAME="climb_nav_ratio" PARAM="AGR_CLIMB_NAV_RATIO" MODULE="guidance/guidance_v" MIN="0." MAX="1.0"/>
            <dl_setting VAR="agr_descent_throttle" STEP="0.05" SHORTNAME="descent_throttle" PARAM="AGR_DESCENT_THROTTLE" MODULE="guidance/guidance_v" MIN="0." MAX="1.0"/>
            <dl_setting VAR="agr_descent_pitch" STEP="0.05" SHORTNAME="descent_pitch" PARAM="AGR_DESCENT_PITCH" MODULE="guidance/guidance_v" MIN="-0.5" MAX="0.1"/>
            <dl_setting VAR="agr_descent_nav_ratio" STEP="0.1" SHORTNAME="descent_nav_ratio" PARAM="AGR_DESCENT_NAV_RATIO" MODULE="guidance/guidance_v" MIN="0." MAX="1.0"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="ins">
            <dl_setting VAR="ins_roll_neutral" UNIT="rad" STEP="0.5" SHORTNAME="roll_neutral" PARAM="INS_ROLL_NEUTRAL_DEFAULT" MODULE="subsystems/ahrs" MIN="-15" MAX="15" ALT_UNIT="deg"/>
            <dl_setting VAR="ins_pitch_neutral" UNIT="rad" STEP="0.5" SHORTNAME="pitch_neutral" PARAM="INS_PITCH_NEUTRAL_DEFAULT" MIN="-15" MAX="15" ALT_UNIT="deg"/>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <aircraft name="Easycub" ac_id="212" airframe="airframes/OpenUAS/openuas_easycub.xml" radio="radios/OpenUAS/openuas_mx22_pprz-ap.xml" telemetry="telemetry/default_fixedwing_imu_9k6.xml" flight_plan="flight_plans/versatile.xml" settings=" settings/fixedwing_basic.xml settings/estimation/ins_neutrals.xml" gui_color="white">
      <radio SYNC_MIN="4000" SYNC_MAX="20000" PULSE_TYPE="NEGATIVE" NAME="MX22 PPRZ adherance" DATA_MIN="700" DATA_MAX="2300">
        <channel NEUTRAL="1500" MIN="1900" MAX="1100" FUNCTION="ROLL" CTL="A" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="PITCH" CTL="B" AVERAGE="0"/>
        <channel NEUTRAL="1100" MIN="1100" MAX="1900" FUNCTION="THROTTLE" CTL="C" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="YAW" CTL="D" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MODE" CTL="E" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="EXTRA1" CTL="F" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="FLAPS" CTL="G" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="NOTUSED1" CTL="SW1" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MANUALRELEASE" CTL="CONTROL9" AVERAGE="0"/>
      </radio>
      <dump>
        <flight_plan security_height="25" qfu="270" name="Versatile" max_dist_from_home="1500" lon0="1.2729" lat0="43.4622" home_mode_height="50" ground_alt="185" alt="260">
          <header>#include &quot;subsystems/datalink/datalink.h&quot;</header>
          <waypoints>
            <waypoint y="0" x="0" name="HOME"/>
            <waypoint y="80" x="20" name="STDBY"/>
            <waypoint y="102.2" x="44.8" name="1"/>
            <waypoint y="122.9" x="-63.5" name="2"/>
            <waypoint y="-21.2" x="-11.5" name="MOB"/>
            <waypoint y="80.4" x="-151.6" name="S1"/>
            <waypoint y="214.9" x="180.1" name="S2"/>
            <waypoint y="-10" x="200" name="AF" alt="215.0"/>
            <waypoint y="20.0" x="80.0" name="TD" alt="185.0"/>
            <waypoint y="-23.0" x="26.9" name="BASELEG"/>
            <waypoint y="0" x="-100" name="_1"/>
            <waypoint y="200" x="-100" name="_2"/>
            <waypoint y="200" x="100" name="_3"/>
            <waypoint y="0" x="100" name="_4"/>
            <waypoint y="35.4" x="-122.5" name="CLIMB"/>
          </waypoints>
          <sectors>
            <sector name="Square">
              <corner name="_1"/>
              <corner name="_2"/>
              <corner name="_3"/>
              <corner name="_4"/>
            </sector>
          </sectors>
          <exceptions/>
          <blocks>
            <block name="Wait GPS" no="0">
              <set var="kill_throttle" value="1" no="0"/>
              <while cond="!GpsFixValid()" no="1"/>
            </block>
            <block name="Geo init" no="1">
              <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
            </block>
            <block name="Holding point" no="2">
              <set var="kill_throttle" value="1" no="0"/>
              <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff (wp CLIMB)" name="Takeoff" no="3">
              <exception deroute="Standby" cond="GetPosAlt() > GetAltRef()+25"/>
              <set var="kill_throttle" value="0" no="0"/>
              <go wp="CLIMB" no="1"/>
            </block>
            <block strip_icon="home.png" strip_button="Standby" name="Standby" no="4">
              <circle wp="STDBY" radius="nav_radius" no="0"/>
            </block>
            <block strip_icon="line.png" strip_button="Line (wp 1-2)" name="Line 1-2" group="extra_pattern" no="5">
              <call fun="nav_line_setup()" no="0"/>
              <call fun="nav_line_run(WP_1, WP_2, nav_radius)" no="1"/>
            </block>
            <block strip_icon="eight.png" strip_button="Figure 8 (wp 1-2)" name="Figure 8 around wp 1" no="6">
              <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
            </block>
            <block strip_icon="oval.png" strip_button="Oval (wp 1-2)" name="Oval 1-2" no="7">
              <oval radius="nav_radius" p2="2" p1="1" no="1"/>
            </block>
            <block strip_icon="mob.png" strip_button="Circle around here" name="MOB" no="8">
              <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
              <circle wp="MOB" radius="100" no="1"/>
            </block>
            <block name="Auto pitch (circle wp 1)" no="9">
              <circle wp="1" throttle="0.7" radius="75" pitch="auto" no="0"/>
            </block>
            <block name="Climb 75% throttle" no="10">
              <circle wp="1" vmode="throttle" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" throttle="0.75" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="10" no="0"/>
            </block>
            <block name="Climb 0m/s" no="11">
              <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="nav_radius" climb="0" no="0"/>
            </block>
            <block name="Climb 1m/s" no="12">
              <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="5" climb="1" no="0"/>
            </block>
            <block name="Climb nav_climb m/s" no="13">
              <circle wp="1" vmode="climb" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" radius="nav_radius" climb="nav_climb" no="0"/>
            </block>
            <block name="Circle 0% throttle" no="14">
              <circle wp="1" vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" no="0"/>
              <deroute block="Standby" no="1"/>
            </block>
            <block name="Oval 0% throttle" no="15">
              <oval vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" p2="2" p1="1" no="1"/>
              <deroute block="Standby" no="2"/>
            </block>
            <block name="Route 1-2" no="16">
              <go wp="2" hmode="route" from="1" approaching_time="0" no="0"/>
            </block>
            <block name="Stack wp 2" no="17">
              <circle wp="2" radius="75" no="0"/>
            </block>
            <block name="Route 2-1" no="18">
              <go wp="1" hmode="route" from="2" approaching_time="0" no="0"/>
            </block>
            <block name="Stack wp 1" no="19">
              <circle wp="1" radius="75" no="0"/>
            </block>
            <block name="Glide 1-2" no="20">
              <go wp="2" vmode="glide" hmode="route" from="1" no="0"/>
              <deroute block="Standby" no="1"/>
            </block>
            <block strip_icon="survey.png" strip_button="Survey (wp S1-S2)" name="Survey S1-S2" no="21">
              <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
            </block>
            <block strip_icon="land-right.png" strip_button="Land right (wp AF-TD)" name="Land Right AF-TD" no="22">
              <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block strip_icon="land-left.png" strip_button="Land left (wp AF-TD)" name="Land Left AF-TD" no="23">
              <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block name="land" no="24">
              <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP_BASELEG, nav_radius)" no="0"/>
              <circle wp="BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
              <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MIN_CRUISE_THROTTLE" no="2"/>
              <circle wp="BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 10 > fabs(GetPosAlt() - WaypointAlt(WP_BASELEG))" radius="nav_radius" no="3"/>
            </block>
            <block name="final" no="25">
              <exception deroute="flare" cond="GetAltRef() + 10 > GetPosAlt()"/>
              <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
            </block>
            <block name="flare" no="26">
              <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
            </block>
            <block name="Steps roll -10, +10" no="27">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
                <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
              </while>
            </block>
            <block name="Steps roll -20, +20" no="28">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
                <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
              </while>
            </block>
            <block name="Steps pitch -10, +10" no="29">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
                <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
              </while>
            </block>
            <block name="Heading 30" no="30">
              <heading until="FALSE" course="30" alt="GetAltRef()+50" no="0"/>
            </block>
            <block name="For loop (circles wp 1)" no="31">
              <for var="i" to="3" from="0" no="1">
                <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
              </for>
              <deroute block="Standby" no="4"/>
            </block>
            <block name="Test datalink (go to wp 2)" no="32">
              <exception deroute="Standby" cond="datalink_time > 22"/>
              <go wp="2" hmode="route" from="STDBY" no="0"/>
              <go wp="STDBY" hmode="route" from="2" no="1"/>
            </block>
            <block name="Fly in Square" no="33">
              <exception deroute="Come back wp 1" cond="! InsideSquare(GetPosX(), GetPosY())"/>
              <attitude vmode="alt" roll="0" alt="GetAltRef()+75" no="0"/>
            </block>
            <block name="Come back wp 1" no="34">
              <exception deroute="Fly in Square" cond="InsideSquare(GetPosX(), GetPosY())"/>
              <go wp="1" no="0"/>
              <deroute block="Fly in Square" no="1"/>
            </block>
            <block name="HOME" no="35">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="35" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="34" block_name="Come back wp 1" stage="1">
            <deroute block="Fly in Square" no="1"/>
          </stage>
          <stage block="34" block_name="Come back wp 1" stage="0">
            <go wp="1" no="0"/>
          </stage>
          <stage block="33" block_name="Fly in Square" stage="0">
            <attitude vmode="alt" roll="0" alt="GetAltRef()+75" no="0"/>
          </stage>
          <stage block="32" block_name="Test datalink (go to wp 2)" stage="1">
            <go wp="STDBY" hmode="route" from="2" no="1"/>
          </stage>
          <stage block="32" block_name="Test datalink (go to wp 2)" stage="0">
            <go wp="2" hmode="route" from="STDBY" no="0"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="4">
            <deroute block="Standby" no="4"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="2">
            <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="1">
            <for var="i" to="3" from="0" no="1">
              <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
            </for>
          </stage>
          <stage block="30" block_name="Heading 30" stage="0">
            <heading until="FALSE" course="30" alt="GetAltRef()+50" no="0"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="2">
            <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="1">
            <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
              <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="2">
            <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="1">
            <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
              <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="2">
            <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="1">
            <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
              <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="26" block_name="flare" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
          </stage>
          <stage block="26" block_name="flare" stage="0">
            <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
          </stage>
          <stage block="25" block_name="final" stage="0">
            <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
          </stage>
          <stage block="24" block_name="land" stage="3">
            <circle wp="BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 10 > fabs(GetPosAlt() - WaypointAlt(WP_BASELEG))" radius="nav_radius" no="3"/>
          </stage>
          <stage block="24" block_name="land" stage="2">
            <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MIN_CRUISE_THROTTLE" no="2"/>
          </stage>
          <stage block="24" block_name="land" stage="1">
            <circle wp="BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
          </stage>
          <stage block="24" block_name="land" stage="0">
            <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP_BASELEG, nav_radius)" no="0"/>
          </stage>
          <stage block="23" block_name="Land Left AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="23" block_name="Land Left AF-TD" stage="0">
            <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="22" block_name="Land Right AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="22" block_name="Land Right AF-TD" stage="0">
            <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="21" block_name="Survey S1-S2" stage="1">
            <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
          </stage>
          <stage block="20" block_name="Glide 1-2" stage="1">
            <deroute block="Standby" no="1"/>
          </stage>
          <stage block="20" block_name="Glide 1-2" stage="0">
            <go wp="2" vmode="glide" hmode="route" from="1" no="0"/>
          </stage>
          <stage block="19" block_name="Stack wp 1" stage="0">
            <circle wp="1" radius="75" no="0"/>
          </stage>
          <stage block="18" block_name="Route 2-1" stage="0">
            <go wp="1" hmode="route" from="2" approaching_time="0" no="0"/>
          </stage>
          <stage block="17" block_name="Stack wp 2" stage="0">
            <circle wp="2" radius="75" no="0"/>
          </stage>
          <stage block="16" block_name="Route 1-2" stage="0">
            <go wp="2" hmode="route" from="1" approaching_time="0" no="0"/>
          </stage>
          <stage block="15" block_name="Oval 0% throttle" stage="2">
            <deroute block="Standby" no="2"/>
          </stage>
          <stage block="15" block_name="Oval 0% throttle" stage="1">
            <oval vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="14" block_name="Circle 0% throttle" stage="1">
            <deroute block="Standby" no="1"/>
          </stage>
          <stage block="14" block_name="Circle 0% throttle" stage="0">
            <circle wp="1" vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" no="0"/>
          </stage>
          <stage block="13" block_name="Climb nav_climb m/s" stage="0">
            <circle wp="1" vmode="climb" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" radius="nav_radius" climb="nav_climb" no="0"/>
          </stage>
          <stage block="12" block_name="Climb 1m/s" stage="0">
            <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="5" climb="1" no="0"/>
          </stage>
          <stage block="11" block_name="Climb 0m/s" stage="0">
            <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="nav_radius" climb="0" no="0"/>
          </stage>
          <stage block="10" block_name="Climb 75% throttle" stage="0">
            <circle wp="1" vmode="throttle" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" throttle="0.75" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="10" no="0"/>
          </stage>
          <stage block="9" block_name="Auto pitch (circle wp 1)" stage="0">
            <circle wp="1" throttle="0.7" radius="75" pitch="auto" no="0"/>
          </stage>
          <stage block="8" block_name="MOB" stage="1">
            <circle wp="MOB" radius="100" no="1"/>
          </stage>
          <stage block="8" block_name="MOB" stage="0">
            <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
          </stage>
          <stage block="7" block_name="Oval 1-2" stage="1">
            <oval radius="nav_radius" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="6" block_name="Figure 8 around wp 1" stage="1">
            <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
          </stage>
          <stage block="5" block_name="Line 1-2" stage="1">
            <call fun="nav_line_run(WP_1, WP_2, nav_radius)" no="1"/>
          </stage>
          <stage block="5" block_name="Line 1-2" stage="0">
            <call fun="nav_line_setup()" no="0"/>
          </stage>
          <stage block="4" block_name="Standby" stage="0">
            <circle wp="STDBY" radius="nav_radius" no="0"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="1">
            <go wp="CLIMB" no="1"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="0">
            <set var="kill_throttle" value="0" no="0"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="1">
            <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="0">
            <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="1">
            <while cond="!GpsFixValid()" no="1"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Easycub">
        <servos>
          <servo NO="0" NEUTRAL="1100" NAME="MOTOR" MIN="1100" MAX="1900"/>
          <servo NO="2" NEUTRAL="1465" NAME="AILERON" MIN="1100" MAX="1883"/>
          <servo NO="3" NEUTRAL="1430" NAME="ELEVATOR" MIN="1100" MAX="1900"/>
          <servo NO="4" NEUTRAL="1500" NAME="RUDDER" MIN="1200" MAX="1900"/>
          <servo NO="6" NEUTRAL="1100" NAME="LIGHTS" MIN="1100" MAX="1900"/>
          <servo NO="7" NEUTRAL="1100" NAME="HATCH" MIN="1100" MAX="1900"/>
        </servos>
        <commands>
          <axis NAME="THROTTLE" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="0"/>
          <axis NAME="PITCH" FAILSAFE_VALUE="0"/>
          <axis NAME="YAW" FAILSAFE_VALUE="200"/>
          <axis NAME="ACTIVELIGHTS" FAILSAFE_VALUE="9599"/>
          <axis NAME="HATCH" FAILSAFE_VALUE="0"/>
        </commands>
        <rc_commands>
          <set VALUE="@THROTTLE" COMMAND="THROTTLE"/>
          <set VALUE="@ROLL" COMMAND="ROLL"/>
          <set VALUE="@PITCH" COMMAND="PITCH"/>
          <set VALUE="@YAW" COMMAND="YAW"/>
          <set VALUE="@MANUALRELEASE" COMMAND="ACTIVELIGHTS"/>
          <set VALUE="@MANUALRELEASE" COMMAND="HATCH"/>
        </rc_commands>
        <auto_rc_commands>
          <set VALUE="@CALIB" COMMAND="ACTIVELIGHTS"/>
          <set VALUE="@YAW" COMMAND="YAW"/>
          <set VALUE="@MANUALRELEASE" COMMAND="HATCH"/>
        </auto_rc_commands>
        <section NAME="MIXER">
          <define VALUE="0.1" NAME="ASSIST_ROLL_WITH_RUDDER"/>
        </section>
        <command_laws>
          <set VALUE="@THROTTLE" SERVO="MOTOR"/>
          <set VALUE="@ROLL" SERVO="AILERON"/>
          <set VALUE="@PITCH" SERVO="ELEVATOR"/>
          <set VALUE="@YAW" SERVO="RUDDER"/>
          <set VALUE="@ACTIVELIGHTS" SERVO="LIGHTS"/>
        </command_laws>
        <section PREFIX="AUTO1_" NAME="AUTO1">
          <define VALUE="0.98" NAME="MAX_ROLL"/>
          <define VALUE="0.90" NAME="MAX_PITCH"/>
        </section>
        <section PREFIX="ADC_CHANNEL_" NAME="adc">
          <define VALUE="ADC_1" NAME="IR1"/>
          <define VALUE="ADC_2" NAME="IR2"/>
          <define VALUE="ADC_0" NAME="IR_TOP"/>
          <define VALUE="16" NAME="IR_NB_SAMPLES"/>
        </section>
        <section PREFIX="IR_" NAME="INFRARED">
          <define VALUE="508" NAME="ADC_IR1_NEUTRAL"/>
          <define VALUE="513" NAME="ADC_IR2_NEUTRAL"/>
          <define VALUE="510" NAME="ADC_TOP_NEUTRAL"/>
          <define VALUE="1.0" NAME="CORRECTION_UP"/>
          <define VALUE="1.0" NAME="CORRECTION_DOWN"/>
          <define VALUE="1.0" NAME="CORRECTION_LEFT"/>
          <define VALUE="1.0" NAME="CORRECTION_RIGHT"/>
          <define VALUE="1" NAME="LATERAL_CORRECTION"/>
          <define VALUE="1" NAME="LONGITUDINAL_CORRECTION"/>
          <define VALUE="0.9" NAME="VERTICAL_CORRECTION"/>
          <define VALUE="1" NAME="HORIZ_SENSOR_TILTED"/>
          <define VALUE="-1" NAME="IR1_SIGN"/>
          <define VALUE="1" NAME="IR2_SIGN"/>
          <define VALUE="1" NAME="TOP_SIGN"/>
          <define VALUE="0" UNIT="deg" NAME="ROLL_NEUTRAL_DEFAULT"/>
          <define VALUE="3.1" UNIT="deg" NAME="PITCH_NEUTRAL_DEFAULT"/>
        </section>
        <section NAME="BAT">
          <define VALUE="ADC_3" NAME="ADC_CHANNEL_CURRENT"/>
          <define VALUE="(adc*88)" NAME="MilliAmpereOfAdc(adc)"/>
          <define VALUE="6.45" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
          <define VALUE="6.6" UNIT="V" NAME="CRITIC_BAT_LEVEL"/>
          <define VALUE="6.8" UNIT="V" NAME="LOW_BAT_LEVEL"/>
          <define VALUE="8.4" UNIT="V" NAME="MAX_BAT_LEVEL"/>
        </section>
        <section NAME="MISC">
          <define VALUE="9.0" UNIT="m/s" NAME="MINIMUM_AIRSPEED"/>
          <define VALUE="12.0" UNIT="m/s" NAME="NOMINAL_AIRSPEED"/>
          <define VALUE="5.0" UNIT="s" NAME="CARROT"/>
          <define VALUE="(1.3*MAX_DIST_FROM_HOME)" NAME="KILL_MODE_DISTANCE"/>
          <define VALUE="60" UNIT="Hz" NAME="CONTROL_RATE"/>
          <define VALUE="TRUE" NAME="NO_XBEE_API_INIT"/>
          <define VALUE="PPRZ_MODE_AUTO2" NAME="RC_LOST_MODE"/>
          <define VALUE="TRUE" NAME="ALT_KALMAN_ENABLED"/>
          <define VALUE="1.0" NAME="TRIGGER_DELAY"/>
          <define VALUE="35.0" NAME="DEFAULT_CIRCLE_RADIUS"/>
          <define VALUE="20.0" NAME="MIN_CIRCLE_RADIUS"/>
        </section>
        <section PREFIX="V_CTL_" NAME="VERTICAL CONTROL">
          <define VALUE="7.4" UNIT="volt" NAME="POWER_CTL_BAT_NOMINAL"/>
          <define VALUE="-0.055" UNIT="(m/s)/m" NAME="ALTITUDE_PGAIN"/>
          <define VALUE="1.7" UNIT="m/s" NAME="ALTITUDE_MAX_CLIMB"/>
          <define VALUE="0.85" UNIT="%" NAME="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE"/>
          <define VALUE="0.70" UNIT="%" NAME="AUTO_THROTTLE_MIN_CRUISE_THROTTLE"/>
          <define VALUE="0.92" UNIT="%" NAME="AUTO_THROTTLE_MAX_CRUISE_THROTTLE"/>
          <define VALUE="1000" UNIT="pprz_t" NAME="AUTO_THROTTLE_LOITER_TRIM"/>
          <define VALUE="-2000" UNIT="pprz_t" NAME="AUTO_THROTTLE_DASH_TRIM"/>
          <define VALUE="0.11" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT"/>
          <define VALUE="-0.035" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_PGAIN"/>
          <define VALUE="0.01" NAME="AUTO_THROTTLE_IGAIN"/>
          <define VALUE="-0" NAME="AUTO_THROTTLE_DGAIN"/>
          <define VALUE="0.09" UNIT="rad/(m/s)" NAME="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN"/>
          <define VALUE="11.5" UNIT="m/s" NAME="AUTO_AIRSPEED_SETPOINT"/>
          <define VALUE="0.1" NAME="AUTO_AIRSPEED_PGAIN"/>
          <define VALUE="0.05" NAME="AUTO_AIRSPEED_IGAIN"/>
          <define VALUE="0" UNIT="degree/(m/s)" NAME="AUTO_AIRSPEED_PITCH_PGAIN"/>
          <define VALUE="0" UNIT="%/(m/s)" NAME="AUTO_AIRSPEED_THROTTLE_PGAIN"/>
          <define VALUE="0" NAME="AUTO_AIRSPEED_THROTTLE_IGAIN"/>
          <define VALUE="9.0" UNIT="m/s" NAME="AUTO_GROUNDSPEED_SETPOINT"/>
          <define VALUE="0.75" NAME="AUTO_GROUNDSPEED_PGAIN"/>
          <define VALUE="0.25" NAME="AUTO_GROUNDSPEED_IGAIN"/>
          <define VALUE="-0.052" NAME="AUTO_PITCH_PGAIN"/>
          <define VALUE="0.065" NAME="AUTO_PITCH_IGAIN"/>
          <define VALUE="0.35" NAME="AUTO_PITCH_MAX_PITCH"/>
          <define VALUE="-0.30" NAME="AUTO_PITCH_MIN_PITCH"/>
          <define VALUE="0.2" NAME="THROTTLE_SLEW"/>
        </section>
        <section PREFIX="H_CTL_" NAME="HORIZONTAL CONTROL">
          <define VALUE="-0.81" NAME="COURSE_PGAIN"/>
          <define VALUE="0.05" NAME="COURSE_DGAIN"/>
          <define VALUE="0.80" UNIT="radians" NAME="ROLL_MAX_SETPOINT"/>
          <define VALUE="0.45" UNIT="radians" NAME="PITCH_MAX_SETPOINT"/>
          <define VALUE="-0.35" UNIT="radians" NAME="PITCH_MIN_SETPOINT"/>
          <define VALUE="6000." NAME="ROLL_PGAIN"/>
          <define VALUE="0.0" NAME="AILERON_OF_THROTTLE"/>
          <define VALUE="-6000." NAME="PITCH_PGAIN"/>
          <define VALUE="-0." NAME="PITCH_DGAIN"/>
          <define VALUE="-500" NAME="PITCH_IGAIN"/>
          <define VALUE="0." NAME="PITCH_KFFA"/>
          <define VALUE="0." NAME="PITCH_KFFD"/>
          <define VALUE="200" NAME="ELEVATOR_OF_ROLL"/>
        </section>
        <section NAME="NAV">
          <define VALUE="0." NAME="NAV_PITCH"/>
          <define VALUE="0" NAME="NAV_GLIDE_PITCH_TRIM"/>
        </section>
        <section PREFIX="AGR_" NAME="AGGRESSIVE">
          <define VALUE="16" NAME="BLEND_START"/>
          <define VALUE="8" NAME="BLEND_END"/>
          <define VALUE="0.90" NAME="CLIMB_THROTTLE"/>
          <define VALUE="RadOfDeg(45)" NAME="CLIMB_PITCH"/>
          <define VALUE="0.2" NAME="DESCENT_THROTTLE"/>
          <define VALUE="RadOfDeg(-30)" NAME="DESCENT_PITCH"/>
          <define VALUE="0.8" NAME="CLIMB_NAV_RATIO"/>
          <define VALUE="0.99" NAME="DESCENT_NAV_RATIO"/>
        </section>
        <section PREFIX="FAILSAFE_" NAME="FAILSAFE">
          <define VALUE="3" UNIT="s" NAME="DELAY_WITHOUT_GPS"/>
          <define VALUE="15" UNIT="%" NAME="DEFAULT_THROTTLE"/>
          <define VALUE="0.15" UNIT="rad" NAME="DEFAULT_ROLL"/>
          <define VALUE="0.1" UNIT="rad" NAME="DEFAULT_PITCH"/>
          <define VALUE="35" UNIT="m" NAME="HOME_RADIUS"/>
        </section>
        <section PREFIX="DATALINK_" NAME="DATALINK">
          <define VALUE="PPRZ" NAME="DEVICE_TYPE"/>
          <define VALUE="...." NAME="DEVICE_ADDRESS"/>
        </section>
        <section NAME="SIMU">
          <define VALUE="0.5" NAME="YAW_RESPONSE_FACTOR"/>
        </section>
        <makefile>CONFIG = \&quot;tiny_2_1_1.h\&quot;
include $(PAPARAZZI_SRC)/conf/autopilot/tiny.makefile
FLASH_MODE=IAP
ap.CFLAGS +=  -DFBW -DAP -DBOARD_CONFIG=\&quot;tiny_2_1_1.h\&quot; -DLED -DTIME_LED=1
ap.srcs = sys_time.c $(SRC_ARCH)/sys_time_hw.c $(SRC_ARCH)/armVIC.c main_fbw.c main_ap.c main.c
ap.srcs += commands.c
ap.CFLAGS += -DACTUATORS=\&quot;servos_4017_hw.h\&quot; -DSERVOS_4017
ap.srcs += actuators.c $(SRC_ARCH)/servos_4017_hw.c
ap.CFLAGS += -DRADIO_CONTROL -DRADIO_CONTROL_TYPE=RC_JR
ap.srcs += radio_control.c $(SRC_ARCH)/ppm_hw.c  
#TRANSPARENT
ap.CFLAGS += -DDOWNLINK -DUSE_UART1 -DDOWNLINK_TRANSPORT=PprzTransport -DDOWNLINK_FBW_DEVICE=Uart1 -DDOWNLINK_AP_DEVICE=Uart1 -DPPRZ_UART=Uart1 -DDATALINK=PPRZ -DUART1_BAUD=B9600
ap.srcs += downlink.c $(SRC_ARCH)/uart_hw.c datalink.c pprz_transport.c
ap.CFLAGS += -DINTER_MCU
ap.srcs += inter_mcu.c 
ap.CFLAGS += -DADC -DUSE_ADC_0 -DUSE_ADC_1 -DUSE_ADC_2 -DUSE_ADC_3 -DUSE_ADC_4
ap.srcs += $(SRC_ARCH)/adc_hw.c
# Analog to digital converters
#  ADC3 Attopilot Current sensor
#  ADC5 Eagletree RPM
#  ADC4 Ultrasonic Maxbotix LV1 distance
#  ADC6 Sparkfun Humidity
#Below for testing the values from ADC RAW fromat only, remove later on max 2 in use for testing
ap.CFLAGS += -DUSE_ADC_GENERIC -DUSE_ADC_5 -DADC_CHANNEL_GENERIC1=ADC_5 -DADC_CHANNEL_GENERIC_NB_SAMPLES=16
ap.srcs += adc_generic.c
ap.CFLAGS += -DGPS_USE_LATLONG -DGPS -DUBX -DUSE_UART0 -DGPS_LINK=Uart0 -DUART0_BAUD=B38400 -DGPS_LED=2
ap.srcs += gps_ubx.c gps.c latlong.c
ap.CFLAGS += -DINFRARED -DALT_KALMAN
ap.srcs += infrared.c estimator.c
ap.CFLAGS += -DNAV -DAGR_CLIMB -DLOITER_TRIM
ap.srcs += nav.c fw_h_ctl.c fw_v_ctl.c
#ap.CFLAGS += -DWIND_INFO 
#ap.CFLAGS += -DWIND_INFO_RET 
# ** Lets see if it improves the result if switched on
#ap.CFLAGS += -DSTRONG_WIND
# ** Use EagleTree airspeed, altitude etc. modules over I2C. If already defined else add -DAGR_CLIMB 
#ap.CFLAGS += -DUSE_AIRSPEED_ETS -DUSE_AIRSPEED -DUSE_BARO_ETS -DUSE_I2C0 
#ap.srcs += airspeed_ets.c airspeed.c baro_ets.c i2c.c $(SRC_ARCH)/i2c_hw.c
# ** Or use without barometric height sensor
#ap.CFLAGS += -DUSE_AIRSPEED_ETS -DUSE_AIRSPEED -DUSE_I2C0
#ap.srcs += airspeed_ets.c airspeed.c i2c.c $(SRC_ARCH)/i2c_hw.c
# ** additional navigation routines
ap.srcs += nav_line.c
ap.srcs += nav_survey_rectangle.c
#for payload release
ap.srcs += bomb.c
# ***************************************************
# ********** Config for SITL simulation *************
# ***************************************************
include $(PAPARAZZI_SRC)/conf/autopilot/sitl.makefile
sim.CFLAGS += -DBOARD_CONFIG=\&quot;tiny.h\&quot; -DAGR_CLIMB -DLOITER_TRIM -DALT_KALMAN
#sim.CFLAGS += -DWIND_INFO 
#sim.CFLAGS += -DWIND_INFO_RET 
# ** Lets see if it improves the result if switched on
#sim.CFLAGS += -DSTRONG_WIND
sim.srcs += nav_line.c 
sim.srcs += nav_survey_rectangle.c
# ** for payload release sim
sim.srcs += bomb.c
# ** Use EagleTree airspeed, altitude etc. modules over I2C
#sim.CFLAGS += -DUSE_AIRSPEED_ETS -DUSE_AIRSPEED -DUSE_BARO_ETS -DUSE_I2C0 
#sim.srcs += airspeed_ets.c airspeed.c baro_ets.c i2c.c $(SRC_ARCH)/i2c_hw.c
# ** Or use without barometric height sensor
#sim.CFLAGS += -DUSE_AIRSPEED_ETS -DUSE_AIRSPEED -DUSE_I2C0
#sim.srcs += airspeed_ets.c airspeed.c i2c.c $(SRC_ARCH)/i2c_hw.c
# ***************************************************
# ****** A test program to Setup Actuators **********
# ***************************************************
#setup_actuators.ARCHDIR = $(ARCHI)
#setup_actuators.ARCH = arm7tdmi
#setup_actuators.TARGET = setup_actuators
#setup_actuators.TARGETDIR = setup_actuators
#setup_actuators.CFLAGS += -DFBW -DBOARD_CONFIG=\&quot;tiny_2_1_1.h\&quot; -DLED -DTIME_LED=1 -DACTUATORS=\&quot;servos_4017_hw.h\&quot; -DSERVOS_4017 -DUSE_UART1 -DUART1_BAUD=B9600 -DDATALINK=PPRZ -DPPRZ_UART=Uart1
#setup_actuators.srcs += sys_time.c $(SRC_ARCH)/sys_time_hw.c $(SRC_ARCH)/armVIC.c pprz_transport.c setup_actuators.c $(SRC_ARCH)/uart_hw.c $(SRC_ARCH)/servos_4017_hw.c main.c</makefile>
      </airframe>
      <telemetry>
        <process NAME="Ap">
          <mode NAME="default">
            <message PERIOD="1.4" NAME="AIRSPEED"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="0.5" NAME="GPS"/>
            <message PERIOD="1." NAME="NAVIGATION"/>
            <message PERIOD="0.7" NAME="ATTITUDE"/>
            <message PERIOD="0.6" NAME="ESTIMATOR"/>
            <message PERIOD="2.5" NAME="ENERGY"/>
            <message PERIOD="1.1" NAME="WP_MOVED"/>
            <message PERIOD="1.05" NAME="CIRCLE"/>
            <message PERIOD="1.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="1.2" NAME="SEGMENT"/>
            <message PERIOD="2.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="SETTINGS"/>
            <message PERIOD="2.2" NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.2" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="2.0" NAME="GPS_SOL"/>
            <message PERIOD=".8" NAME="IMU_ACCEL"/>
            <message PERIOD=".9" NAME="IMU_GYRO"/>
            <message PERIOD="1.9" NAME="IMU_MAG"/>
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
          </mode>
          <mode NAME="minimal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="4" NAME="ATTITUDE"/>
            <message PERIOD="1.05" NAME="GPS"/>
            <message PERIOD="1.3" NAME="ESTIMATOR"/>
            <message PERIOD="1.4" NAME="WP_MOVED"/>
            <message PERIOD="3.05" NAME="CIRCLE"/>
            <message PERIOD="4.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="3.2" NAME="SEGMENT"/>
            <message PERIOD="5.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="3." NAME="NAVIGATION"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="5.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="5.0" NAME="GPS_SOL"/>
          </mode>
          <mode NAME="extremal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="7.5" NAME="PPRZ_MODE"/>
            <message PERIOD="8." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".05" NAME="IMU_MAG_RAW"/>
            <message PERIOD="0.5" NAME="BARO_RAW"/>
          </mode>
          <mode NAME="scaled_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".075" NAME="IMU_GYRO"/>
            <message PERIOD=".075" NAME="IMU_ACCEL"/>
            <message PERIOD=".1" NAME="IMU_MAG"/>
          </mode>
          <mode NAME="debug_imu">
            <message PERIOD="0.1" NAME="ATTITUDE"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="5.5" NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
            <message PERIOD=".5" NAME="IMU_ACCEL"/>
            <message PERIOD=".5" NAME="IMU_GYRO"/>
            <message PERIOD=".5" NAME="IMU_MAG"/>
            <message PERIOD=".5" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".5" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".5" NAME="IMU_MAG_RAW"/>
          </mode>
        </process>
        <process NAME="Fbw">
          <mode NAME="default">
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
          <mode NAME="debug">
            <message PERIOD="0.5" NAME="PPM"/>
            <message PERIOD="0.5" NAME="RC"/>
            <message PERIOD="0.5" NAME="COMMANDS"/>
            <message PERIOD="1" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="flight params">
            <dl_setting VAR="flight_altitude" STEP="10" SHORTNAME="altitude" MIN="0" MAX="1000"/>
            <dl_setting VAR="nav_course" STEP="1" MIN="0" MAX="360"/>
            <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-10" MAX="10" HANDLER="IncreaseShift"/>
            <dl_setting VAR="autopilot_flight_time" STEP="1" SHORTNAME="flight time" MODULE="autopilot" MIN="0" MAX="0" HANDLER="ResetFlightTimeAndLaunch"/>
            <dl_setting VAR="nav_radius" STEP="10" MODULE="firmwares/fixedwing/nav" MIN="-200" MAX="200" HANDLER="SetNavRadius">
              <strip_button VALUE="1" NAME="Circle right" ICON="circle-right.png" GROUP="circle"/>
              <strip_button VALUE="-1" NAME="Circle left" ICON="circle-left.png" GROUP="circle"/>
              <key_press VALUE="1" KEY="greater"/>
              <key_press VALUE="-1" KEY="less"/>
            </dl_setting>
          </dl_settings>
          <dl_settings NAME="mode">
            <dl_setting VAR="pprz_mode" VALUES="MANUAL|AUTO1|AUTO2|HOME|NOGPS|FAILSAFE" STEP="1" MODULE="autopilot" MIN="0" MAX="2"/>
            <dl_setting VAR="launch" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="kill_throttle" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="gps.reset" STEP="1" SHORTNAME="GPS reset" MODULE="subsystems/gps" MIN="0" MAX="2" HANDLER="Reset"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="ins">
            <dl_setting VAR="ins_roll_neutral" UNIT="rad" STEP="0.5" SHORTNAME="roll_neutral" PARAM="INS_ROLL_NEUTRAL_DEFAULT" MODULE="subsystems/ahrs" MIN="-15" MAX="15" ALT_UNIT="deg"/>
            <dl_setting VAR="ins_pitch_neutral" UNIT="rad" STEP="0.5" SHORTNAME="pitch_neutral" PARAM="INS_PITCH_NEUTRAL_DEFAULT" MIN="-15" MAX="15" ALT_UNIT="deg"/>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <aircraft name="Extra300" ac_id="209" airframe="airframes/examples/microjet_lisa_m.xml" radio="radios/OpenUAS/openuas_spektrum.xml" telemetry="telemetry/default_fixedwing_imu_9k6.xml" flight_plan="flight_plans/versatile.xml" settings=" settings/fixedwing_basic.xml settings/estimation/ins_neutrals.xml" gui_color="orange">
      <radio SYNC_MIN="5000" SYNC_MAX="15000" PULSE_TYPE="NEGATIVE" NAME="JR XP903" DATA_MIN="900" DATA_MAX="2100">
        <channel NEUTRAL="950" MIN="950" MAX="2050" FUNCTION="THROTTLE" CTL="left_stick_vert" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="ROLL" CTL="right_stick_horiz" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="PITCH" CTL="right_stick_vert" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="950" MAX="2050" FUNCTION="YAW" CTL="left_stick_horiz" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="948" FUNCTION="UNUSED" CTL="switch_g" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="MODE" CTL="switch_C" AVERAGE="1"/>
        <channel NEUTRAL="1496" MIN="2050" MAX="948" FUNCTION="KILL" CTL="aux2" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="AUX3" CTL="aux3" AVERAGE="1"/>
        <channel NEUTRAL="1496" MIN="2050" MAX="948" FUNCTION="AUX4" CTL="aux4" AVERAGE="1"/>
      </radio>
      <dump>
        <flight_plan security_height="25" qfu="270" name="Versatile" max_dist_from_home="1500" lon0="1.2729" lat0="43.4622" home_mode_height="50" ground_alt="185" alt="260">
          <header>#include &quot;subsystems/datalink/datalink.h&quot;</header>
          <waypoints>
            <waypoint y="0" x="0" name="HOME"/>
            <waypoint y="80" x="20" name="STDBY"/>
            <waypoint y="102.2" x="44.8" name="1"/>
            <waypoint y="122.9" x="-63.5" name="2"/>
            <waypoint y="-21.2" x="-11.5" name="MOB"/>
            <waypoint y="80.4" x="-151.6" name="S1"/>
            <waypoint y="214.9" x="180.1" name="S2"/>
            <waypoint y="-10" x="200" name="AF" alt="215.0"/>
            <waypoint y="20.0" x="80.0" name="TD" alt="185.0"/>
            <waypoint y="-23.0" x="26.9" name="BASELEG"/>
            <waypoint y="0" x="-100" name="_1"/>
            <waypoint y="200" x="-100" name="_2"/>
            <waypoint y="200" x="100" name="_3"/>
            <waypoint y="0" x="100" name="_4"/>
            <waypoint y="35.4" x="-122.5" name="CLIMB"/>
          </waypoints>
          <sectors>
            <sector name="Square">
              <corner name="_1"/>
              <corner name="_2"/>
              <corner name="_3"/>
              <corner name="_4"/>
            </sector>
          </sectors>
          <exceptions/>
          <blocks>
            <block name="Wait GPS" no="0">
              <set var="kill_throttle" value="1" no="0"/>
              <while cond="!GpsFixValid()" no="1"/>
            </block>
            <block name="Geo init" no="1">
              <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
            </block>
            <block name="Holding point" no="2">
              <set var="kill_throttle" value="1" no="0"/>
              <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff (wp CLIMB)" name="Takeoff" no="3">
              <exception deroute="Standby" cond="GetPosAlt() > GetAltRef()+25"/>
              <set var="kill_throttle" value="0" no="0"/>
              <go wp="CLIMB" no="1"/>
            </block>
            <block strip_icon="home.png" strip_button="Standby" name="Standby" no="4">
              <circle wp="STDBY" radius="nav_radius" no="0"/>
            </block>
            <block strip_icon="line.png" strip_button="Line (wp 1-2)" name="Line 1-2" group="extra_pattern" no="5">
              <call fun="nav_line_setup()" no="0"/>
              <call fun="nav_line_run(WP_1, WP_2, nav_radius)" no="1"/>
            </block>
            <block strip_icon="eight.png" strip_button="Figure 8 (wp 1-2)" name="Figure 8 around wp 1" no="6">
              <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
            </block>
            <block strip_icon="oval.png" strip_button="Oval (wp 1-2)" name="Oval 1-2" no="7">
              <oval radius="nav_radius" p2="2" p1="1" no="1"/>
            </block>
            <block strip_icon="mob.png" strip_button="Circle around here" name="MOB" no="8">
              <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
              <circle wp="MOB" radius="100" no="1"/>
            </block>
            <block name="Auto pitch (circle wp 1)" no="9">
              <circle wp="1" throttle="0.7" radius="75" pitch="auto" no="0"/>
            </block>
            <block name="Climb 75% throttle" no="10">
              <circle wp="1" vmode="throttle" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" throttle="0.75" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="10" no="0"/>
            </block>
            <block name="Climb 0m/s" no="11">
              <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="nav_radius" climb="0" no="0"/>
            </block>
            <block name="Climb 1m/s" no="12">
              <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="5" climb="1" no="0"/>
            </block>
            <block name="Climb nav_climb m/s" no="13">
              <circle wp="1" vmode="climb" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" radius="nav_radius" climb="nav_climb" no="0"/>
            </block>
            <block name="Circle 0% throttle" no="14">
              <circle wp="1" vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" no="0"/>
              <deroute block="Standby" no="1"/>
            </block>
            <block name="Oval 0% throttle" no="15">
              <oval vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" p2="2" p1="1" no="1"/>
              <deroute block="Standby" no="2"/>
            </block>
            <block name="Route 1-2" no="16">
              <go wp="2" hmode="route" from="1" approaching_time="0" no="0"/>
            </block>
            <block name="Stack wp 2" no="17">
              <circle wp="2" radius="75" no="0"/>
            </block>
            <block name="Route 2-1" no="18">
              <go wp="1" hmode="route" from="2" approaching_time="0" no="0"/>
            </block>
            <block name="Stack wp 1" no="19">
              <circle wp="1" radius="75" no="0"/>
            </block>
            <block name="Glide 1-2" no="20">
              <go wp="2" vmode="glide" hmode="route" from="1" no="0"/>
              <deroute block="Standby" no="1"/>
            </block>
            <block strip_icon="survey.png" strip_button="Survey (wp S1-S2)" name="Survey S1-S2" no="21">
              <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
            </block>
            <block strip_icon="land-right.png" strip_button="Land right (wp AF-TD)" name="Land Right AF-TD" no="22">
              <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block strip_icon="land-left.png" strip_button="Land left (wp AF-TD)" name="Land Left AF-TD" no="23">
              <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block name="land" no="24">
              <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP_BASELEG, nav_radius)" no="0"/>
              <circle wp="BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
              <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MIN_CRUISE_THROTTLE" no="2"/>
              <circle wp="BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 10 > fabs(GetPosAlt() - WaypointAlt(WP_BASELEG))" radius="nav_radius" no="3"/>
            </block>
            <block name="final" no="25">
              <exception deroute="flare" cond="GetAltRef() + 10 > GetPosAlt()"/>
              <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
            </block>
            <block name="flare" no="26">
              <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
            </block>
            <block name="Steps roll -10, +10" no="27">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
                <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
              </while>
            </block>
            <block name="Steps roll -20, +20" no="28">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
                <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
              </while>
            </block>
            <block name="Steps pitch -10, +10" no="29">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
                <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
              </while>
            </block>
            <block name="Heading 30" no="30">
              <heading until="FALSE" course="30" alt="GetAltRef()+50" no="0"/>
            </block>
            <block name="For loop (circles wp 1)" no="31">
              <for var="i" to="3" from="0" no="1">
                <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
              </for>
              <deroute block="Standby" no="4"/>
            </block>
            <block name="Test datalink (go to wp 2)" no="32">
              <exception deroute="Standby" cond="datalink_time > 22"/>
              <go wp="2" hmode="route" from="STDBY" no="0"/>
              <go wp="STDBY" hmode="route" from="2" no="1"/>
            </block>
            <block name="Fly in Square" no="33">
              <exception deroute="Come back wp 1" cond="! InsideSquare(GetPosX(), GetPosY())"/>
              <attitude vmode="alt" roll="0" alt="GetAltRef()+75" no="0"/>
            </block>
            <block name="Come back wp 1" no="34">
              <exception deroute="Fly in Square" cond="InsideSquare(GetPosX(), GetPosY())"/>
              <go wp="1" no="0"/>
              <deroute block="Fly in Square" no="1"/>
            </block>
            <block name="HOME" no="35">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="35" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="34" block_name="Come back wp 1" stage="1">
            <deroute block="Fly in Square" no="1"/>
          </stage>
          <stage block="34" block_name="Come back wp 1" stage="0">
            <go wp="1" no="0"/>
          </stage>
          <stage block="33" block_name="Fly in Square" stage="0">
            <attitude vmode="alt" roll="0" alt="GetAltRef()+75" no="0"/>
          </stage>
          <stage block="32" block_name="Test datalink (go to wp 2)" stage="1">
            <go wp="STDBY" hmode="route" from="2" no="1"/>
          </stage>
          <stage block="32" block_name="Test datalink (go to wp 2)" stage="0">
            <go wp="2" hmode="route" from="STDBY" no="0"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="4">
            <deroute block="Standby" no="4"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="2">
            <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="1">
            <for var="i" to="3" from="0" no="1">
              <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
            </for>
          </stage>
          <stage block="30" block_name="Heading 30" stage="0">
            <heading until="FALSE" course="30" alt="GetAltRef()+50" no="0"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="2">
            <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="1">
            <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
              <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="2">
            <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="1">
            <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
              <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="2">
            <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="1">
            <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
              <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="26" block_name="flare" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
          </stage>
          <stage block="26" block_name="flare" stage="0">
            <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
          </stage>
          <stage block="25" block_name="final" stage="0">
            <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
          </stage>
          <stage block="24" block_name="land" stage="3">
            <circle wp="BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 10 > fabs(GetPosAlt() - WaypointAlt(WP_BASELEG))" radius="nav_radius" no="3"/>
          </stage>
          <stage block="24" block_name="land" stage="2">
            <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MIN_CRUISE_THROTTLE" no="2"/>
          </stage>
          <stage block="24" block_name="land" stage="1">
            <circle wp="BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
          </stage>
          <stage block="24" block_name="land" stage="0">
            <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP_BASELEG, nav_radius)" no="0"/>
          </stage>
          <stage block="23" block_name="Land Left AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="23" block_name="Land Left AF-TD" stage="0">
            <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="22" block_name="Land Right AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="22" block_name="Land Right AF-TD" stage="0">
            <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="21" block_name="Survey S1-S2" stage="1">
            <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
          </stage>
          <stage block="20" block_name="Glide 1-2" stage="1">
            <deroute block="Standby" no="1"/>
          </stage>
          <stage block="20" block_name="Glide 1-2" stage="0">
            <go wp="2" vmode="glide" hmode="route" from="1" no="0"/>
          </stage>
          <stage block="19" block_name="Stack wp 1" stage="0">
            <circle wp="1" radius="75" no="0"/>
          </stage>
          <stage block="18" block_name="Route 2-1" stage="0">
            <go wp="1" hmode="route" from="2" approaching_time="0" no="0"/>
          </stage>
          <stage block="17" block_name="Stack wp 2" stage="0">
            <circle wp="2" radius="75" no="0"/>
          </stage>
          <stage block="16" block_name="Route 1-2" stage="0">
            <go wp="2" hmode="route" from="1" approaching_time="0" no="0"/>
          </stage>
          <stage block="15" block_name="Oval 0% throttle" stage="2">
            <deroute block="Standby" no="2"/>
          </stage>
          <stage block="15" block_name="Oval 0% throttle" stage="1">
            <oval vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="14" block_name="Circle 0% throttle" stage="1">
            <deroute block="Standby" no="1"/>
          </stage>
          <stage block="14" block_name="Circle 0% throttle" stage="0">
            <circle wp="1" vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" no="0"/>
          </stage>
          <stage block="13" block_name="Climb nav_climb m/s" stage="0">
            <circle wp="1" vmode="climb" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" radius="nav_radius" climb="nav_climb" no="0"/>
          </stage>
          <stage block="12" block_name="Climb 1m/s" stage="0">
            <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="5" climb="1" no="0"/>
          </stage>
          <stage block="11" block_name="Climb 0m/s" stage="0">
            <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="nav_radius" climb="0" no="0"/>
          </stage>
          <stage block="10" block_name="Climb 75% throttle" stage="0">
            <circle wp="1" vmode="throttle" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" throttle="0.75" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="10" no="0"/>
          </stage>
          <stage block="9" block_name="Auto pitch (circle wp 1)" stage="0">
            <circle wp="1" throttle="0.7" radius="75" pitch="auto" no="0"/>
          </stage>
          <stage block="8" block_name="MOB" stage="1">
            <circle wp="MOB" radius="100" no="1"/>
          </stage>
          <stage block="8" block_name="MOB" stage="0">
            <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
          </stage>
          <stage block="7" block_name="Oval 1-2" stage="1">
            <oval radius="nav_radius" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="6" block_name="Figure 8 around wp 1" stage="1">
            <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
          </stage>
          <stage block="5" block_name="Line 1-2" stage="1">
            <call fun="nav_line_run(WP_1, WP_2, nav_radius)" no="1"/>
          </stage>
          <stage block="5" block_name="Line 1-2" stage="0">
            <call fun="nav_line_setup()" no="0"/>
          </stage>
          <stage block="4" block_name="Standby" stage="0">
            <circle wp="STDBY" radius="nav_radius" no="0"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="1">
            <go wp="CLIMB" no="1"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="0">
            <set var="kill_throttle" value="0" no="0"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="1">
            <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="0">
            <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="1">
            <while cond="!GpsFixValid()" no="1"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Microjet Lisa/M 2.0">
        <firmware NAME="fixedwing">
          <target NAME="sim" BOARD="pc"/>
          <target NAME="nps" BOARD="pc">
            <subsystem TYPE="jsbsim" NAME="fdm"/>
          </target>
          <target NAME="ap" BOARD="lisa_m_2.0">
            <configure VALUE="BARO_MS5611_SPI" NAME="LISA_M_BARO"/>
            <configure VALUE="120" NAME="PERIODIC_FREQUENCY"/>
            <configure VALUE="100" NAME="AHRS_PROPAGATE_FREQUENCY"/>
            <configure VALUE="100" NAME="AHRS_CORRECT_FREQUENCY"/>
          </target>
          <configure VALUE="FALSE" NAME="USE_MAGNETOMETER"/>
          <define NAME="AGR_CLIMB"/>
          <define NAME="LOITER_TRIM"/>
          <define NAME="STRONG_WIND"/>
          <subsystem TYPE="ppm" NAME="radio_control"/>
          <subsystem TYPE="transparent" NAME="telemetry"/>
          <subsystem TYPE="aspirin_v2.2" NAME="imu"/>
          <subsystem TYPE="ublox" NAME="gps"/>
          <subsystem TYPE="int_cmpl_quat" NAME="ahrs"/>
          <subsystem NAME="control"/>
          <subsystem NAME="navigation"/>
          <subsystem TYPE="alt_float" NAME="ins">
            <define VALUE="TRUE" NAME="USE_BAROMETER"/>
          </subsystem>
        </firmware>
        <modules>
          <load NAME="sys_mon.xml"/>
          <load NAME="baro_sim.xml"/>
          <load NAME="nav_bungee_takeoff.xml"/>
          <load NAME="nav_line.xml"/>
          <load NAME="nav_line_border.xml"/>
          <load NAME="nav_line_osam.xml"/>
          <load NAME="nav_flower.xml"/>
          <load NAME="nav_smooth.xml"/>
          <load NAME="nav_survey_polygon.xml"/>
          <load NAME="nav_survey_poly_osam.xml"/>
          <load NAME="nav_vertical_raster.xml"/>
          <load NAME="digital_cam_servo.xml">
            <define VALUE="COMMAND_SHUTTER" NAME="DC_SHUTTER_SERVO"/>
          </load>
        </modules>
        <servos>
          <servo NO="0" NEUTRAL="1290" NAME="MOTOR" MIN="1290" MAX="1810"/>
          <servo NO="1" NEUTRAL="1510" NAME="AILEVON_LEFT" MIN="2000" MAX="1000"/>
          <servo NO="3" NEUTRAL="1535" NAME="AILEVON_RIGHT" MIN="1000" MAX="2000"/>
        </servos>
        <commands>
          <axis NAME="THROTTLE" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="0"/>
          <axis NAME="PITCH" FAILSAFE_VALUE="0"/>
          <axis NAME="SHUTTER" FAILSAFE_VALUE="0"/>
        </commands>
        <rc_commands>
          <set VALUE="@THROTTLE" COMMAND="THROTTLE"/>
          <set VALUE="@ROLL" COMMAND="ROLL"/>
          <set VALUE="@PITCH" COMMAND="PITCH"/>
        </rc_commands>
        <section NAME="MIXER">
          <define VALUE="0.75" NAME="AILEVON_AILERON_RATE"/>
          <define VALUE="0.75" NAME="AILEVON_ELEVATOR_RATE"/>
        </section>
        <command_laws>
          <let VAR="aileron" VALUE="@ROLL  * AILEVON_AILERON_RATE"/>
          <let VAR="elevator" VALUE="@PITCH * AILEVON_ELEVATOR_RATE"/>
          <set VALUE="@THROTTLE" SERVO="MOTOR"/>
          <set VALUE="$elevator - $aileron" SERVO="AILEVON_LEFT"/>
          <set VALUE="$elevator + $aileron" SERVO="AILEVON_RIGHT"/>
        </command_laws>
        <section PREFIX="IMU_" NAME="IMU">
          <define VALUE="-45" NAME="MAG_X_NEUTRAL"/>
          <define VALUE="334" NAME="MAG_Y_NEUTRAL"/>
          <define VALUE="7" NAME="MAG_Z_NEUTRAL"/>
          <define VALUE="4.47647816128" NAME="MAG_X_SENS" INTEGER="16"/>
          <define VALUE="4.71085671542" NAME="MAG_Y_SENS" INTEGER="16"/>
          <define VALUE="4.41585354498" NAME="MAG_Z_SENS" INTEGER="16"/>
          <define VALUE="0." UNIT="deg" NAME="BODY_TO_IMU_PHI"/>
          <define VALUE="0." UNIT="deg" NAME="BODY_TO_IMU_THETA"/>
          <define VALUE="0." UNIT="deg" NAME="BODY_TO_IMU_PSI"/>
        </section>
        <section PREFIX="INS_" NAME="INS">
          <define VALUE="0" UNIT="deg" NAME="ROLL_NEUTRAL_DEFAULT"/>
          <define VALUE="0" UNIT="deg" NAME="PITCH_NEUTRAL_DEFAULT"/>
        </section>
        <section PREFIX="V_CTL_" NAME="VERTICAL CONTROL">
          <define VALUE="11.1" UNIT="volt" NAME="POWER_CTL_BAT_NOMINAL"/>
          <define VALUE="0.03" NAME="ALTITUDE_PGAIN"/>
          <define VALUE="2." NAME="ALTITUDE_MAX_CLIMB"/>
          <define VALUE="0.32" NAME="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE"/>
          <define VALUE="0.25" NAME="AUTO_THROTTLE_MIN_CRUISE_THROTTLE"/>
          <define VALUE="0.65" NAME="AUTO_THROTTLE_MAX_CRUISE_THROTTLE"/>
          <define VALUE="1500" NAME="AUTO_THROTTLE_LOITER_TRIM"/>
          <define VALUE="-4000" NAME="AUTO_THROTTLE_DASH_TRIM"/>
          <define VALUE="0.15" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT"/>
          <define VALUE="0.01" NAME="AUTO_THROTTLE_PGAIN"/>
          <define VALUE="0.1" NAME="AUTO_THROTTLE_IGAIN"/>
          <define VALUE="0.05" NAME="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN"/>
          <define VALUE="2" UNIT="s" NAME="THROTTLE_SLEW_LIMITER"/>
        </section>
        <section PREFIX="H_CTL_" NAME="HORIZONTAL CONTROL">
          <define VALUE="1.0" NAME="COURSE_PGAIN"/>
          <define VALUE="0.3" NAME="COURSE_DGAIN"/>
          <define VALUE="35" UNIT="deg" NAME="ROLL_MAX_SETPOINT"/>
          <define VALUE="30" UNIT="deg" NAME="PITCH_MAX_SETPOINT"/>
          <define VALUE="-30" UNIT="deg" NAME="PITCH_MIN_SETPOINT"/>
          <define VALUE="12000." NAME="PITCH_PGAIN"/>
          <define VALUE="1.5" NAME="PITCH_DGAIN"/>
          <define VALUE="1250" NAME="ELEVATOR_OF_ROLL"/>
          <define VALUE="0.1" NAME="ROLL_SLEW"/>
          <define VALUE="7500" NAME="ROLL_ATTITUDE_GAIN"/>
          <define VALUE="1500" NAME="ROLL_RATE_GAIN"/>
        </section>
        <section PREFIX="AGR_" NAME="AGGRESSIVE">
          <define VALUE="20" NAME="BLEND_START"/>
          <define VALUE="10" NAME="BLEND_END"/>
          <define VALUE="1.00" NAME="CLIMB_THROTTLE"/>
          <define VALUE="0.3" NAME="CLIMB_PITCH"/>
          <define VALUE="0.1" NAME="DESCENT_THROTTLE"/>
          <define VALUE="-0.25" NAME="DESCENT_PITCH"/>
          <define VALUE="0.8" NAME="CLIMB_NAV_RATIO"/>
          <define VALUE="1.0" NAME="DESCENT_NAV_RATIO"/>
        </section>
        <section PREFIX="FAILSAFE_" NAME="FAILSAFE">
          <define VALUE="2" UNIT="s" NAME="DELAY_WITHOUT_GPS"/>
          <define VALUE="0.3" UNIT="%" NAME="DEFAULT_THROTTLE"/>
          <define VALUE="0.3" UNIT="rad" NAME="DEFAULT_ROLL"/>
          <define VALUE="0.5" UNIT="rad" NAME="DEFAULT_PITCH"/>
        </section>
        <section PREFIX="AUTO1_" NAME="AUTO1">
          <define VALUE="40." UNIT="deg" NAME="MAX_ROLL"/>
          <define VALUE="35." UNIT="deg" NAME="MAX_PITCH"/>
        </section>
        <section NAME="BAT">
          <define VALUE="2000" NAME="MILLIAMP_AT_FULL_THROTTLE"/>
          <define VALUE="9.3" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
          <define VALUE="9.6" UNIT="V" NAME="CRITIC_BAT_LEVEL"/>
          <define VALUE="9.7" UNIT="V" NAME="LOW_BAT_LEVEL"/>
          <define VALUE="12.4" UNIT="V" NAME="MAX_BAT_LEVEL"/>
        </section>
        <section NAME="MISC">
          <define VALUE="13." UNIT="m/s" NAME="NOMINAL_AIRSPEED"/>
          <define VALUE="5." UNIT="s" NAME="CARROT"/>
          <define VALUE="(1.5*MAX_DIST_FROM_HOME)" NAME="KILL_MODE_DISTANCE"/>
          <define VALUE="60" UNIT="Hz" NAME="CONTROL_FREQUENCY"/>
          <define VALUE="80." NAME="DEFAULT_CIRCLE_RADIUS"/>
        </section>
        <section PREFIX="NPS_" NAME="SIMULATOR">
          <define VALUE="&quot;Malolo1&quot;" NAME="JSBSIM_MODEL"/>
          <define VALUE="20" NAME="JSBSIM_LAUNCHSPEED"/>
          <define VALUE="3" NAME="COMMANDS_NB"/>
          <define VALUE="{&quot;throttle-cmd-norm&quot;, &quot;aileron-cmd-norm&quot;, &quot;elevator-cmd-norm&quot;}" NAME="ACTUATOR_NAMES"/>
          <define VALUE="&quot;nps_sensors_params_default.h&quot;" NAME="SENSORS_PARAMS"/>
          <define VALUE="4" NAME="JS_AXIS_MODE"/>
          <define VALUE="TRUE" NAME="BYPASS_AHRS"/>
          <define VALUE="TRUE" NAME="BYPASS_INS"/>
        </section>
      </airframe>
      <telemetry>
        <process NAME="Ap">
          <mode NAME="default">
            <message PERIOD="1.4" NAME="AIRSPEED"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="0.5" NAME="GPS"/>
            <message PERIOD="1." NAME="NAVIGATION"/>
            <message PERIOD="0.7" NAME="ATTITUDE"/>
            <message PERIOD="0.6" NAME="ESTIMATOR"/>
            <message PERIOD="2.5" NAME="ENERGY"/>
            <message PERIOD="1.1" NAME="WP_MOVED"/>
            <message PERIOD="1.05" NAME="CIRCLE"/>
            <message PERIOD="1.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="1.2" NAME="SEGMENT"/>
            <message PERIOD="2.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="SETTINGS"/>
            <message PERIOD="2.2" NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.2" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="2.0" NAME="GPS_SOL"/>
            <message PERIOD=".8" NAME="IMU_ACCEL"/>
            <message PERIOD=".9" NAME="IMU_GYRO"/>
            <message PERIOD="1.9" NAME="IMU_MAG"/>
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
          </mode>
          <mode NAME="minimal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="4" NAME="ATTITUDE"/>
            <message PERIOD="1.05" NAME="GPS"/>
            <message PERIOD="1.3" NAME="ESTIMATOR"/>
            <message PERIOD="1.4" NAME="WP_MOVED"/>
            <message PERIOD="3.05" NAME="CIRCLE"/>
            <message PERIOD="4.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="3.2" NAME="SEGMENT"/>
            <message PERIOD="5.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="3." NAME="NAVIGATION"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="5.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="5.0" NAME="GPS_SOL"/>
          </mode>
          <mode NAME="extremal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="7.5" NAME="PPRZ_MODE"/>
            <message PERIOD="8." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".05" NAME="IMU_MAG_RAW"/>
            <message PERIOD="0.5" NAME="BARO_RAW"/>
          </mode>
          <mode NAME="scaled_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".075" NAME="IMU_GYRO"/>
            <message PERIOD=".075" NAME="IMU_ACCEL"/>
            <message PERIOD=".1" NAME="IMU_MAG"/>
          </mode>
          <mode NAME="debug_imu">
            <message PERIOD="0.1" NAME="ATTITUDE"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="5.5" NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
            <message PERIOD=".5" NAME="IMU_ACCEL"/>
            <message PERIOD=".5" NAME="IMU_GYRO"/>
            <message PERIOD=".5" NAME="IMU_MAG"/>
            <message PERIOD=".5" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".5" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".5" NAME="IMU_MAG_RAW"/>
          </mode>
        </process>
        <process NAME="Fbw">
          <mode NAME="default">
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
          <mode NAME="debug">
            <message PERIOD="0.5" NAME="PPM"/>
            <message PERIOD="0.5" NAME="RC"/>
            <message PERIOD="0.5" NAME="COMMANDS"/>
            <message PERIOD="1" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="flight params">
            <dl_setting VAR="flight_altitude" STEP="10" SHORTNAME="altitude" MIN="0" MAX="1000"/>
            <dl_setting VAR="nav_course" STEP="1" MIN="0" MAX="360"/>
            <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-10" MAX="10" HANDLER="IncreaseShift"/>
            <dl_setting VAR="autopilot_flight_time" STEP="1" SHORTNAME="flight time" MODULE="autopilot" MIN="0" MAX="0" HANDLER="ResetFlightTimeAndLaunch"/>
            <dl_setting VAR="nav_radius" STEP="10" MODULE="firmwares/fixedwing/nav" MIN="-200" MAX="200" HANDLER="SetNavRadius">
              <strip_button VALUE="1" NAME="Circle right" ICON="circle-right.png" GROUP="circle"/>
              <strip_button VALUE="-1" NAME="Circle left" ICON="circle-left.png" GROUP="circle"/>
              <key_press VALUE="1" KEY="greater"/>
              <key_press VALUE="-1" KEY="less"/>
            </dl_setting>
          </dl_settings>
          <dl_settings NAME="mode">
            <dl_setting VAR="pprz_mode" VALUES="MANUAL|AUTO1|AUTO2|HOME|NOGPS|FAILSAFE" STEP="1" MODULE="autopilot" MIN="0" MAX="2"/>
            <dl_setting VAR="launch" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="kill_throttle" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="gps.reset" STEP="1" SHORTNAME="GPS reset" MODULE="subsystems/gps" MIN="0" MAX="2" HANDLER="Reset"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="ins">
            <dl_setting VAR="ins_roll_neutral" UNIT="rad" STEP="0.5" SHORTNAME="roll_neutral" PARAM="INS_ROLL_NEUTRAL_DEFAULT" MODULE="subsystems/ahrs" MIN="-15" MAX="15" ALT_UNIT="deg"/>
            <dl_setting VAR="ins_pitch_neutral" UNIT="rad" STEP="0.5" SHORTNAME="pitch_neutral" PARAM="INS_PITCH_NEUTRAL_DEFAULT" MIN="-15" MAX="15" ALT_UNIT="deg"/>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <ignoring_aircraft name="FollowMeAir"/>
    <aircraft name="ItsyBitsy" ac_id="199" airframe="airframes/OpenUAS/openuas_ladybird_lisa_s.xml" radio="radios/spektrum.xml" telemetry="telemetry/default_rotorcraft.xml" flight_plan="flight_plans/ardrone_basic.xml" settings=" settings/rotorcraft_basic.xml settings/control/rotorcraft_guidance.xml" gui_color="#ffffea44b3ad">
      <radio SYNC_MIN="5000" SYNC_MAX="15000" PULSE_TYPE="NEGATIVE" NAME="JR XP903" DATA_MIN="900" DATA_MAX="2100">
        <channel NEUTRAL="950" MIN="950" MAX="2050" FUNCTION="THROTTLE" CTL="left_stick_vert" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="ROLL" CTL="right_stick_horiz" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="PITCH" CTL="right_stick_vert" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="950" MAX="2050" FUNCTION="YAW" CTL="left_stick_horiz" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="948" FUNCTION="UNUSED" CTL="switch_g" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="MODE" CTL="switch_C" AVERAGE="1"/>
        <channel NEUTRAL="1496" MIN="2050" MAX="948" FUNCTION="KILL" CTL="aux2" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="AUX3" CTL="aux3" AVERAGE="1"/>
        <channel NEUTRAL="1496" MIN="2050" MAX="948" FUNCTION="AUX4" CTL="aux4" AVERAGE="1"/>
      </radio>
      <dump>
        <flight_plan security_height="25" name="ARDrone Basic" max_dist_from_home="240" lon0="4.378035" lat0="51.991231" ground_alt="0" alt="30">
          <header>#include &quot;autopilot.h&quot;
#include &quot;subsystems/ahrs.h&quot;
#include &quot;subsystems/electrical.h&quot;
#include &quot;subsystems/datalink/datalink.h&quot;</header>
          <waypoints>
            <waypoint y="0.0" x="0.0" name="HOME"/>
            <waypoint y="5.0" x="0.0" name="_CLIMB"/>
            <waypoint y="5.0" x="5.0" name="Landingspot"/>
            <waypoint y="-5.0" x="-5.0" name="_TDEMERGENCY"/>
            <waypoint y="-10" x="5" name="A"/>
            <waypoint y="-30" x="20" name="B"/>
          </waypoints>
          <exceptions>
            <exception deroute="Land" cond="electrical.bat_low && !(nav_block == IndexOfBlock('Setting home location')) && !(nav_block == IndexOfBlock('Holding point')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Emergency'))"/>
            <exception deroute="Emergency" cond="electrical.bat_critical && !(nav_block == IndexOfBlock('Setting home location')) && !(nav_block == IndexOfBlock('Holding point')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Emergency'))"/>
            <exception deroute="Land" cond="autopilot_in_flight && datalink_time > 40 && !(nav_block == IndexOfBlock('Setting home location')) && !(nav_block == IndexOfBlock('Holding point')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Emergency'))"/>
            <exception deroute="Emergency" cond="autopilot_in_flight && datalink_time > 120 && !(nav_block == IndexOfBlock('Setting home location')) && !(nav_block == IndexOfBlock('Holding point')) && !(nav_block == IndexOfBlock('Emergency'))"/>
            <exception deroute="Land" cond="(((((WaypointX(WP__CLIMB)) - GetPosX())*((WaypointX(WP__CLIMB)) - GetPosX()))) + ((((WaypointY(WP__CLIMB)) - GetPosY())*((WaypointY(WP__CLIMB)) - GetPosY())))) > (MAX_DIST_FROM_HOME*MAX_DIST_FROM_HOME) && !(nav_block == IndexOfBlock('Setting home location')) && !(nav_block == IndexOfBlock('Holding point')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Emergency'))"/>
          </exceptions>
          <blocks>
            <block name="Setting home location" no="0">
              <call fun="NavKillThrottle()" no="0"/>
              <while cond="!GpsFixValid() || gps.pacc > 2200 || !(ahrs.status == AHRS_RUNNING)" no="1"/>
              <while cond="LessThan(NavBlockTime(), 8)" no="3"/>
              <call fun="NavSetGroundReferenceHere()" no="5"/>
              <call fun="NavSetAltitudeReferenceHere()" no="6"/>
              <call fun="NavSetWaypointHere(WP__TDEMERGENCY)" no="7"/>
              <call fun="NavSetWaypointHere(WP_Landingspot)" no="8"/>
              <call fun="NavSetWaypointHere(WP_HOME)" no="9"/>
              <call fun="NavSetWaypointHere(WP__CLIMB)" no="10"/>
            </block>
            <block name="Holding point" no="1">
              <call fun="NavKillThrottle()" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0" roll="0" pitch="0" no="1"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff" name="Takeoff" key="t" no="2">
              <call fun="NavSetAltitudeReferenceHere()" no="0"/>
              <call fun="NavSetWaypointHere(WP__CLIMB)" no="1"/>
              <call fun="NavSetWaypointHere(WP_Landingspot)" no="2"/>
              <set var="waypoints[WP_Landingspot].z" value="GetAltRef()" no="3"/>
              <call fun="NavResurrect()" no="4"/>
              <set var="kill_throttle" value="0" no="5"/>
              <call fun="NavResurrect()" no="6"/>
              <set var="autopilot_flight_time" value="0" no="7"/>
              <exception deroute="Land" cond="stage_time > 180"/>
              <attitude vmode="throttle" until="stage_time > 3" throttle="0.90" roll="0" pitch="0" no="8"/>
              <stay wp="_CLIMB" vmode="climb" until="WaypointAlt(WP_A) > stateGetPositionEnu_f()->z" climb="1.1" no="9"/>
            </block>
            <block name="From A to B and back" key="m" no="3">
              <go wp="A" no="0"/>
              <go wp="B" hmode="route" from="A" no="1"/>
              <stay wp="B" until="stage_time > 3" no="2"/>
              <go wp="A" hmode="route" from="B" no="3"/>
              <deroute block="Land" no="4"/>
            </block>
            <block name="Land" key="l" no="4">
              <go wp="_CLIMB" no="0"/>
              <go wp="Landingspot" no="1"/>
              <exception deroute="Holding point" cond="!nav_is_in_flight()"/>
              <stay wp="Landingspot" vmode="climb" climb="-2.0" no="2"/>
            </block>
            <block strip_icon="home_emergency.png" strip_button="Emergency" name="Emergency" key="e" no="5">
              <call fun="NavSetWaypointHere(WP__TDEMERGENCY)" no="0"/>
              <exception deroute="Holding point" cond="!nav_is_in_flight()"/>
              <stay wp="_TDEMERGENCY" vmode="throttle" throttle="0.38" no="1"/>
            </block>
            <block name="HOME" no="6">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="6" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="5" block_name="Emergency" stage="1">
            <stay wp="_TDEMERGENCY" vmode="throttle" throttle="0.38" no="1"/>
          </stage>
          <stage block="5" block_name="Emergency" stage="0">
            <call fun="NavSetWaypointHere(WP__TDEMERGENCY)" no="0"/>
          </stage>
          <stage block="4" block_name="Land" stage="2">
            <stay wp="Landingspot" vmode="climb" climb="-2.0" no="2"/>
          </stage>
          <stage block="4" block_name="Land" stage="1">
            <go wp="Landingspot" no="1"/>
          </stage>
          <stage block="4" block_name="Land" stage="0">
            <go wp="_CLIMB" no="0"/>
          </stage>
          <stage block="3" block_name="From A to B and back" stage="4">
            <deroute block="Land" no="4"/>
          </stage>
          <stage block="3" block_name="From A to B and back" stage="3">
            <go wp="A" hmode="route" from="B" no="3"/>
          </stage>
          <stage block="3" block_name="From A to B and back" stage="2">
            <stay wp="B" until="stage_time > 3" no="2"/>
          </stage>
          <stage block="3" block_name="From A to B and back" stage="1">
            <go wp="B" hmode="route" from="A" no="1"/>
          </stage>
          <stage block="3" block_name="From A to B and back" stage="0">
            <go wp="A" no="0"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="9">
            <stay wp="_CLIMB" vmode="climb" until="WaypointAlt(WP_A) > stateGetPositionEnu_f()->z" climb="1.1" no="9"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="8">
            <attitude vmode="throttle" until="stage_time > 3" throttle="0.90" roll="0" pitch="0" no="8"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="7">
            <set var="autopilot_flight_time" value="0" no="7"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="6">
            <call fun="NavResurrect()" no="6"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="5">
            <set var="kill_throttle" value="0" no="5"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="4">
            <call fun="NavResurrect()" no="4"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="3">
            <set var="waypoints[WP_Landingspot].z" value="GetAltRef()" no="3"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="2">
            <call fun="NavSetWaypointHere(WP_Landingspot)" no="2"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="1">
            <call fun="NavSetWaypointHere(WP__CLIMB)" no="1"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="0">
            <call fun="NavSetAltitudeReferenceHere()" no="0"/>
          </stage>
          <stage block="1" block_name="Holding point" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0" roll="0" pitch="0" no="1"/>
          </stage>
          <stage block="1" block_name="Holding point" stage="0">
            <call fun="NavKillThrottle()" no="0"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="10">
            <call fun="NavSetWaypointHere(WP__CLIMB)" no="10"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="9">
            <call fun="NavSetWaypointHere(WP_HOME)" no="9"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="8">
            <call fun="NavSetWaypointHere(WP_Landingspot)" no="8"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="7">
            <call fun="NavSetWaypointHere(WP__TDEMERGENCY)" no="7"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="6">
            <call fun="NavSetAltitudeReferenceHere()" no="6"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="5">
            <call fun="NavSetGroundReferenceHere()" no="5"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="3">
            <while cond="LessThan(NavBlockTime(), 8)" no="3"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="1">
            <while cond="!GpsFixValid() || gps.pacc > 2200 || !(ahrs.status == AHRS_RUNNING)" no="1"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="0">
            <call fun="NavKillThrottle()" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe name="quadrotor_lisa_s">
        <servos driver="Pwm">
          <servo name="NE" no="0" min="0" neutral="50" max="1000"/>
          <servo name="SE" no="1" min="0" neutral="50" max="1000"/>
          <servo name="SW" no="2" min="0" neutral="50" max="1000"/>
          <servo name="NW" no="3" min="0" neutral="50" max="1000"/>
        </servos>
        <commands>
          <axis name="PITCH" failsafe_value="0"/>
          <axis name="ROLL" failsafe_value="0"/>
          <axis name="YAW" failsafe_value="0"/>
          <axis name="THRUST" failsafe_value="0"/>
        </commands>
        <command_laws>
          <call fun="motor_mixing_run(autopilot_motors_on,FALSE,values)"/>
          <set servo="NE" value="motor_mixing.commands[0]"/>
          <set servo="SE" value="motor_mixing.commands[1]"/>
          <set servo="SW" value="motor_mixing.commands[2]"/>
          <set servo="NW" value="motor_mixing.commands[3]"/>
        </command_laws>
        <section name="MIXING" prefix="MOTOR_MIXING_">
          <define name="TRIM_ROLL" value="0"/>
          <define name="TRIM_PITCH" value="0"/>
          <define name="TRIM_YAW" value="0"/>
          <define name="NB_MOTOR" value="4"/>
          <define name="SCALE" value="256"/>
          <define name="ROLL_COEF" value="{  -256, -256,  256,  256 }"/>
          <define name="PITCH_COEF" value="{  256, -256, -256,  256 }"/>
          <define name="YAW_COEF" value="{    256, -256,  256, -256 }"/>
          <define name="THRUST_COEF" value="{ 256,  256,  256,  256 }"/>
        </section>
        <section name="IMU" prefix="IMU_">
          <define name="BODY_TO_IMU_PHI" value="0." unit="deg"/>
          <define name="BODY_TO_IMU_THETA" value="0." unit="deg"/>
          <define name="BODY_TO_IMU_PSI" value="-13." unit="deg"/>
          <define name="ACCEL_X_NEUTRAL" value="0"/>
          <define name="ACCEL_Y_NEUTRAL" value="0"/>
          <define name="ACCEL_Z_NEUTRAL" value="0"/>
          <define name="MAG_X_NEUTRAL" value="286"/>
          <define name="MAG_Y_NEUTRAL" value="-72"/>
          <define name="MAG_Z_NEUTRAL" value="97"/>
          <define name="MAG_X_SENS" value="3.94431833863" integer="16"/>
          <define name="MAG_Y_SENS" value="4.14629702271" integer="16"/>
          <define name="MAG_Z_SENS" value="4.54518768636" integer="16"/>
          <define name="MAG_X_CURRENT_COEF" value="0.0103422023767"/>
          <define name="MAG_Y_CURRENT_COEF" value="0.0084568317783"/>
          <define name="MAG_Z_CURRENT_COEF" value="-0.01935617335"/>
        </section>
        <section name="AUTOPILOT">
          <define name="MODE_STARTUP" value="AP_MODE_NAV"/>
          <define name="MODE_MANUAL" value="AP_MODE_ATTITUDE_DIRECT"/>
          <define name="MODE_AUTO1" value="AP_MODE_HOVER_Z_HOLD"/>
          <define name="MODE_AUTO2" value="AP_MODE_NAV"/>
          <define name="USE_THROTTLE_FOR_MOTOR_ARMING" value="TRUE"/>
        </section>
        <section name="BAT">
          <define name="MILLIAMP_AT_FULL_THROTTLE" value="14000"/>
          <define name="CATASTROPHIC_BAT_LEVEL" value="3.0" unit="V"/>
          <define name="CRITIC_BAT_LEVEL" value="3.3" unit="V"/>
          <define name="LOW_BAT_LEVEL" value="3.5" unit="V"/>
          <define name="MAX_BAT_LEVEL" value="4.1" unit="V"/>
        </section>
        <section name="STABILIZATION_RATE" prefix="STABILIZATION_RATE_">
          <define name="SP_MAX_P" value="15000"/>
          <define name="SP_MAX_Q" value="15000"/>
          <define name="SP_MAX_R" value="15000"/>
          <define name="GAIN_P" value="400"/>
          <define name="GAIN_Q" value="400"/>
          <define name="GAIN_R" value="418"/>
          <define name="IGAIN_P" value="301"/>
          <define name="IGAIN_Q" value="302"/>
          <define name="IGAIN_R" value="303"/>
        </section>
        <section name="STABILIZATION_ATTITUDE" prefix="STABILIZATION_ATTITUDE_">
          <define name="SP_MAX_PHI" value="45." unit="deg"/>
          <define name="SP_MAX_THETA" value="45." unit="deg"/>
          <define name="SP_MAX_PSI" value="45." unit="deg"/>
          <define name="SP_MAX_R" value="90." unit="deg/s"/>
          <define name="SP_MAX_P" value="90." unit="deg/s"/>
          <define name="DEADBAND_R" value="250"/>
          <define name="DEADBAND_A" value="250"/>
          <define name="REF_OMEGA_P" value="800" unit="deg/s"/>
          <define name="REF_ZETA_P" value="0.85"/>
          <define name="REF_MAX_P" value="400." unit="deg/s"/>
          <define name="REF_MAX_PDOT" value="RadOfDeg(8000.)"/>
          <define name="REF_OMEGA_Q" value="800" unit="deg/s"/>
          <define name="REF_ZETA_Q" value="0.85"/>
          <define name="REF_MAX_Q" value="400." unit="deg/s"/>
          <define name="REF_MAX_QDOT" value="RadOfDeg(8000.)"/>
          <define name="REF_OMEGA_R" value="500" unit="deg/s"/>
          <define name="REF_ZETA_R" value="0.85"/>
          <define name="REF_MAX_R" value="90." unit="deg/s"/>
          <define name="REF_MAX_RDOT" value="RadOfDeg(900.)"/>
          <define name="PHI_PGAIN" value="400"/>
          <define name="PHI_DGAIN" value="200"/>
          <define name="PHI_IGAIN" value="100"/>
          <define name="THETA_PGAIN" value="400"/>
          <define name="THETA_DGAIN" value="200"/>
          <define name="THETA_IGAIN" value="100"/>
          <define name="PSI_PGAIN" value="500"/>
          <define name="PSI_DGAIN" value="300"/>
          <define name="PSI_IGAIN" value="10"/>
          <define name="PHI_DDGAIN" value="0"/>
          <define name="THETA_DDGAIN" value="0"/>
          <define name="PSI_DDGAIN" value=" 300"/>
          <define name="PHI_AGAIN" value="0"/>
          <define name="THETA_AGAIN" value="0"/>
          <define name="PSI_AGAIN" value="0"/>
        </section>
        <section name="INS" prefix="INS_"/>
        <section name="GUIDANCE_V" prefix="GUIDANCE_V_">
          <define name="HOVER_KP" value="276"/>
          <define name="HOVER_KD" value="455"/>
          <define name="HOVER_KI" value="100"/>
          <define name="GUIDANCE_V_NOMINAL_HOVER_THROTTLE" value="0.5"/>
        </section>
        <section name="AHRS" prefix="AHRS_">
          <define name="H_X" value=" 0.47577"/>
          <define name="H_Y" value=" 0.11811"/>
          <define name="H_Z" value=" 0.87161"/>
        </section>
        <section name="GUIDANCE_H" prefix="GUIDANCE_H_">
          <define name="PGAIN" value="39"/>
          <define name="DGAIN" value="50"/>
          <define name="IGAIN" value="19"/>
        </section>
        <section name="SIMULATOR" prefix="NPS_">
          <define name="ACTUATOR_NAMES" value="{&quot;ne_motor&quot;, &quot;se_motor&quot;, &quot;sw_motor&quot;, &quot;nw_motor&quot;}"/>
          <define name="JSBSIM_INIT" value="&quot;reset00&quot;"/>
          <define name="JSBSIM_MODEL" value="&quot;simple_x_quad_ccw&quot;"/>
          <define name="SENSORS_PARAMS" value="&quot;nps_sensors_params_default.h&quot;"/>
        </section>
        <modules main_freq="512">
          <load name="gps_ubx_ucenter.xml"/>
          <load name="send_imu_mag_current.xml"/>
        </modules>
        <firmware name="rotorcraft">
          <target name="ap" board="lisa_s_1.0">
            <subsystem name="radio_control" type="superbitrf_rc">
              <define name="RADIO_TRANSMITTER_ID" value="692352099"/>
              <define name="RADIO_TRANSMITTER_CHAN" value="6"/>
              <define name="RADIO_TRANSMITTER_PROTOCOL" value="DSM_DSM2_2"/>
              <define name="RADIO_MODE" value="RADIO_GEAR"/>
            </subsystem>
            <configure name="AHRS_PROPAGATE_FREQUENCY" value="500"/>
          </target>
          <target name="nps" board="pc">
            <subsystem name="fdm" type="jsbsim"/>
            <subsystem name="radio_control" type="ppm"/>
          </target>
          <subsystem name="motor_mixing"/>
          <subsystem name="actuators" type="pwm">
            <define name="PWM_BASE_FREQ" value="36000000"/>
            <define name="SERVO_HZ" value="36000"/>
            <define name="USE_SERVOS_1AND2"/>
          </subsystem>
          <subsystem name="telemetry" type="superbitrf"/>
          <subsystem name="imu" type="lisa_s_v1.0">
            <define name="LISA_S_UPSIDE_DOWN"/>
          </subsystem>
          <subsystem name="gps" type="ublox"/>
          <subsystem name="stabilization" type="int_quat"/>
          <subsystem name="ahrs" type="int_cmpl_quat"/>
          <subsystem name="ins"/>
        </firmware>
      </airframe>
      <telemetry>
        <process NAME="Main">
          <mode NAME="default" KEY_PRESS="d">
            <message PERIOD="1.1" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="0.25" NAME="ROTORCRAFT_FP"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="INS_REF"/>
            <message PERIOD="1.6" NAME="ROTORCRAFT_NAV_STATUS"/>
            <message PERIOD="1.3" NAME="WP_MOVED"/>
            <message PERIOD="1." NAME="ROTORCRAFT_CAM"/>
            <message PERIOD=".25" NAME="GPS_INT"/>
            <message PERIOD=".25" NAME="INS"/>
            <message PERIOD="4.1" NAME="I2C_ERRORS"/>
            <message PERIOD="3.1" NAME="UART_ERRORS"/>
            <message PERIOD="3" NAME="SUPERBITRF"/>
            <message PERIOD="2.5" NAME="ENERGY"/>
          </mode>
          <mode NAME="ppm">
            <message PERIOD=".05" NAME="ROTORCRAFT_CMD"/>
            <message PERIOD="0.5" NAME="PPM"/>
            <message PERIOD="0.5" NAME="RC"/>
            <message PERIOD="0.5" NAME="ROTORCRAFT_RADIO_CONTROL"/>
            <message PERIOD="1" NAME="ROTORCRAFT_STATUS"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".05" NAME="IMU_MAG_RAW"/>
            <message PERIOD=".1" NAME="BARO_RAW"/>
          </mode>
          <mode NAME="scaled_sensors">
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".075" NAME="IMU_GYRO_SCALED"/>
            <message PERIOD=".075" NAME="IMU_ACCEL_SCALED"/>
            <message PERIOD=".1" NAME="IMU_MAG_SCALED"/>
          </mode>
          <mode NAME="ahrs">
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD="2.2" NAME="FILTER_ALIGNER"/>
            <message PERIOD=".5" NAME="FILTER"/>
            <message PERIOD="5." NAME="GEO_MAG"/>
            <message PERIOD="0.08" NAME="AHRS_GYRO_BIAS_INT"/>
            <message PERIOD=".1" NAME="AHRS_EULER_INT"/>
          </mode>
          <mode NAME="rate_loop">
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".02" NAME="RATE_LOOP"/>
          </mode>
          <mode NAME="attitude_setpoint_viz" KEY_PRESS="v">
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="0.9" NAME="ALIVE"/>
            <message PERIOD="0.1" NAME="ROTORCRAFT_RADIO_CONTROL"/>
            <message PERIOD="0.05" NAME="AHRS_REF_QUAT"/>
          </mode>
          <mode NAME="attitude_loop" KEY_PRESS="a">
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="0.9" NAME="ALIVE"/>
            <message PERIOD=".03" NAME="STAB_ATTITUDE"/>
            <message PERIOD=".03" NAME="STAB_ATTITUDE_REF"/>
          </mode>
          <mode NAME="vert_loop" KEY_PRESS="v">
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="0.9" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="VFF"/>
            <message PERIOD=".05" NAME="VERT_LOOP"/>
            <message PERIOD=".05" NAME="INS"/>
            <message PERIOD="5.1" NAME="INS_REF"/>
          </mode>
          <mode NAME="h_loop" KEY_PRESS="h">
            <message PERIOD="0.9" NAME="ALIVE"/>
            <message PERIOD="0.062" NAME="HOVER_LOOP"/>
            <message PERIOD="0.062" NAME="GUIDANCE_H_REF"/>
            <message PERIOD="0.4" NAME="STAB_ATTITUDE"/>
            <message PERIOD="0.8" NAME="ROTORCRAFT_FP"/>
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="1.6" NAME="ROTORCRAFT_NAV_STATUS"/>
            <message PERIOD="5.1" NAME="INS_REF"/>
            <message PERIOD=".05" NAME="HFF"/>
            <message PERIOD=".03" NAME="HFF_GPS"/>
            <message PERIOD=".2" NAME="HFF_DBG"/>
          </mode>
          <mode NAME="aligner">
            <message PERIOD="0.9" NAME="ALIVE"/>
            <message PERIOD="0.02" NAME="FILTER_ALIGNER"/>
          </mode>
          <mode NAME="hs_att_roll">
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="0.9" NAME="ALIVE"/>
            <message PERIOD="0.5" NAME="DL_VALUE"/>
          </mode>
          <mode NAME="tune_hover">
            <message PERIOD="1.1" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD="0.05" NAME="GUIDANCE_H_INT"/>
            <message PERIOD=".1" NAME="ROTORCRAFT_TUNE_HOVER"/>
            <message PERIOD="5.1" NAME="INS_REF"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="System">
            <dl_setting VAR="autopilot_mode_auto2" VALUES="KILL|Fail|HOME|Rate|Att|Rate_rcC|Att_rcC|Att_C|Rate_Z|Att_Z|Hover|Hover_C|Hover_Z|Nav|RC_D|CareFree" STEP="1" SHORTNAME="auto2" MODULE="autopilot" MIN="0" MAX="15"/>
            <dl_setting VAR="kill_throttle" VALUES="Resurrect|Kill" STEP="1" MODULE="autopilot" MIN="0" MAX="1" HANDLER="KillThrottle"/>
            <dl_setting VAR="autopilot_power_switch" VALUES="OFF|ON" STEP="1" MODULE="autopilot" MIN="0" MAX="1" HANDLER="SetPowerSwitch">
              <strip_button VALUE="1" NAME="POWER ON" ICON="on.png" GROUP="power_switch"/>
              <strip_button VALUE="0" NAME="POWER OFF" ICON="off.png" GROUP="power_switch"/>
            </dl_setting>
            <dl_setting VAR="autopilot_mode" VALUES="KILL|Fail|HOME" STEP="1" SHORTNAME="mode" MODULE="autopilot" MIN="0" MAX="2"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="Vert Loop">
            <dl_setting VAR="guidance_v_kp" STEP="1" SHORTNAME="kp" PARAM="GUIDANCE_V_HOVER_KP" MODULE="guidance/guidance_v" MIN="0" MAX="600"/>
            <dl_setting VAR="guidance_v_kd" STEP="1" SHORTNAME="kd" PARAM="GUIDANCE_V_HOVER_KD" MODULE="guidance/guidance_v" MIN="0" MAX="600"/>
            <dl_setting VAR="guidance_v_ki" STEP="1" SHORTNAME="ki" PARAM="GUIDANCE_V_HOVER_KI" MODULE="guidance/guidance_v" MIN="0" MAX="300" HANDLER="SetKi"/>
            <dl_setting VAR="guidance_v_nominal_throttle" STEP="0.01" SHORTNAME="nominal_throttle" PARAM="GUIDANCE_V_NOMINAL_HOVER_THROTTLE" MODULE="guidance/guidance_v" MIN="0.2" MAX="0.8"/>
            <dl_setting VAR="guidance_v_adapt_throttle_enabled" VALUES="FALSE|TRUE" STEP="1" SHORTNAME="adapt_throttle" PARAM="GUIDANCE_V_ADAPT_THROTTLE_ENABLED" MODULE="guidance/guidance_v" MIN="0" MAX="1"/>
            <dl_setting VAR="guidance_v_z_sp" UNIT="2e-8m" STEP="0.5" SHORTNAME="sp" MODULE="guidance/guidance_v" MIN="-5" MAX="3" ALT_UNIT_COEF="0.00390625" ALT_UNIT="m"/>
          </dl_settings>
          <dl_settings NAME="Horiz Loop">
            <dl_setting VAR="guidance_h_use_ref" VALUES="FALSE|TRUE" STEP="1" SHORTNAME="use_ref" PARAM="GUIDANCE_H_USE_REF" MODULE="guidance/guidance_h" MIN="0" MAX="1" HANDLER="SetUseRef"/>
            <dl_setting VAR="gh_max_speed" STEP="0.1" SHORTNAME="max_speed" PARAM="GUIDANCE_H_REF_MAX_SPEED" MODULE="guidance/guidance_h" MIN="0.1" MAX="15.0" HANDLER="SetMaxSpeed"/>
            <dl_setting VAR="guidance_h_approx_force_by_thrust" VALUES="FALSE|TRUE" STEP="1" SHORTNAME="approx_force" PARAM="GUIDANCE_H_APPROX_FORCE_BY_THRUST" MODULE="guidance/guidance_h" MIN="0" MAX="1"/>
            <dl_setting VAR="guidance_h_pgain" STEP="1" SHORTNAME="kp" PARAM="GUIDANCE_H_PGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400"/>
            <dl_setting VAR="guidance_h_dgain" STEP="1" SHORTNAME="kd" PARAM="GUIDANCE_H_DGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400"/>
            <dl_setting VAR="guidance_h_igain" STEP="1" SHORTNAME="ki" PARAM="GUIDANCE_H_IGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400" HANDLER="SetKi"/>
            <dl_setting VAR="guidance_h_vgain" STEP="1" SHORTNAME="kv" PARAM="GUIDANCE_H_VGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400"/>
            <dl_setting VAR="guidance_h_again" STEP="1" SHORTNAME="ka" PARAM="GUIDANCE_H_AGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400"/>
            <dl_setting VAR="guidance_h_pos_sp.x" UNIT="1/2^8m" STEP="1" SHORTNAME="sp_x_ned" MODULE="guidance/guidance_h" MIN="-10" MAX="10" ALT_UNIT_COEF="0.00390625" ALT_UNIT="m"/>
            <dl_setting VAR="guidance_h_pos_sp.y" UNIT="1/2^8m" STEP="1" SHORTNAME="sp_y_ned" MODULE="guidance/guidance_h" MIN="-10" MAX="10" ALT_UNIT_COEF="0.00390625" ALT_UNIT="m"/>
          </dl_settings>
          <dl_settings NAME="NAV">
            <dl_setting VAR="flight_altitude" UNIT="m" STEP="0.1" MODULE="navigation" MIN="0" MAX="400" HANDLER="SetFlightAltitude"/>
            <dl_setting VAR="nav_heading" UNIT="1/2^12r" STEP="1" MODULE="navigation" MIN="0" MAX="360" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
            <dl_setting VAR="nav_radius" UNIT="m" STEP="0.1" MODULE="navigation" MIN="-50" MAX="50"/>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <aircraft name="Logger" ac_id="216" airframe="airframes/OpenUAS/openuas_logger.xml" radio="radios/OpenUAS/openuas_mx22_pprz-ap.xml" telemetry="telemetry/dummy.xml" flight_plan="flight_plans/dummy.xml" settings=" settings/dummy.xml" gui_color="green">
      <radio SYNC_MIN="4000" SYNC_MAX="20000" PULSE_TYPE="NEGATIVE" NAME="MX22 PPRZ adherance" DATA_MIN="700" DATA_MAX="2300">
        <channel NEUTRAL="1500" MIN="1900" MAX="1100" FUNCTION="ROLL" CTL="A" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="PITCH" CTL="B" AVERAGE="0"/>
        <channel NEUTRAL="1100" MIN="1100" MAX="1900" FUNCTION="THROTTLE" CTL="C" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="YAW" CTL="D" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MODE" CTL="E" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="EXTRA1" CTL="F" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="FLAPS" CTL="G" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="NOTUSED1" CTL="SW1" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MANUALRELEASE" CTL="CONTROL9" AVERAGE="0"/>
      </radio>
      <dump>
        <flight_plan name="Dummy" lon0="1.27289" max_dist_from_home="1000" ground_alt="185" security_height="25" qfu="270" alt="250" lat0="43.46223">
          <waypoints>
            <waypoint name="HOME" x="0.0" y="120.0" alt="250."/>
          </waypoints>
          <blocks>
            <block name="HOME" no="0">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="0" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Logger">
        <firmware NAME="logger">
          <target NAME="ap" BOARD="sdlog_1.0">
            <configure VALUE="LOG_XBEE" NAME="LOG_MSG_FMT"/>
            <configure VALUE="B9600" NAME="UART0_BAUD"/>
            <configure VALUE="B9600" NAME="UART1_BAUD"/>
          </target>
        </firmware>
      </airframe>
      <telemetry>
        <process NAME="Main">
          <mode NAME="default"/>
        </process>
        <process NAME="Ap">
          <mode NAME="default"/>
        </process>
        <process NAME="Fbw">
          <mode NAME="default"/>
        </process>
      </telemetry>
      <settings/>
    </aircraft>
    <ignoring_aircraft name="Mentor"/>
    <aircraft name="Moksha" ac_id="205" airframe="airframes/OpenUAS/openuas_moksha.xml" radio="radios/OpenUAS/openuas_mx22_moksha-ap.xml" telemetry="telemetry/default_fixedwing_imu_9k6.xml" flight_plan="" settings=" settings/fixedwing_basic.xml settings/control/ctl_energy.xml settings/estimation/ins_neutrals.xml settings/estimation/ac_char.xml" gui_color="#ffffeb519c78">
      <radio SYNC_MIN="5000" SYNC_MAX="15000" PULSE_TYPE="NEGATIVE" NAME="OpenUAS MX22 Moksha-AP" DATA_MIN="1000" DATA_MAX="2000">
        <channel NEUTRAL="1110" MIN="1100" MAX="1900" FUNCTION="THROTTLE" CTL="LeftStickVertical" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1900" MAX="1100" FUNCTION="ROLL" CTL="RightStickHorizontal" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1900" MAX="1100" FUNCTION="PITCH" CTL="RightStickVertical" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="YAW" CTL="LeftStickHorizontal" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MODE" CTL="CONTROL8" AVERAGE="1"/>
        <channel NEUTRAL="1110" MIN="1100" MAX="1900" FUNCTION="MANUALRELEASE" CTL="SW8" AVERAGE="2"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="GAIN1" CTL="CONTROL9" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="CALIB" CTL="SW1" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="NOTUSED" CTL="NONE" AVERAGE="0"/>
      </radio>
      <airframe NAME="Yapa v1">
        <servos>
          <servo NO="0" NEUTRAL="1000" NAME="THROTTLE" MIN="1100" MAX="1900"/>
          <servo NO="2" NEUTRAL="1500" NAME="RUDDER" MIN="1100" MAX="1900"/>
          <servo NO="6" NEUTRAL="1500" NAME="ELEVATOR" MIN="1000" MAX="2000"/>
        </servos>
        <commands>
          <axis NAME="THROTTLE" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="0"/>
          <axis NAME="PITCH" FAILSAFE_VALUE="0"/>
        </commands>
        <rc_commands>
          <set VALUE="@THROTTLE" COMMAND="THROTTLE"/>
          <set VALUE="@ROLL" COMMAND="ROLL"/>
          <set VALUE="@PITCH" COMMAND="PITCH"/>
        </rc_commands>
        <command_laws>
          <set VALUE="@ROLL" SERVO="RUDDER"/>
          <set VALUE="@THROTTLE" SERVO="THROTTLE"/>
          <set VALUE="@PITCH" SERVO="ELEVATOR"/>
        </command_laws>
        <section PREFIX="INS_" NAME="INS">
          <define VALUE="0" UNIT="rad" NAME="ROLL_NEUTRAL_DEFAULT"/>
          <define VALUE="0" UNIT="rad" NAME="PITCH_NEUTRAL_DEFAULT"/>
        </section>
        <section PREFIX="AUTO1_" NAME="AUTO1">
          <define VALUE="0.7" NAME="MAX_ROLL"/>
          <define VALUE="0.7" NAME="MAX_PITCH"/>
        </section>
        <section NAME="BAT">
          <define VALUE="7" UNIT="V" NAME="LOW_BAT_LEVEL"/>
          <define VALUE="6.5" UNIT="V" NAME="CRITIC_BAT_LEVEL"/>
          <define VALUE="6.0" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
        </section>
        <section NAME="MISC">
          <define VALUE="13." UNIT="m/s" NAME="NOMINAL_AIRSPEED"/>
          <define VALUE="5." UNIT="s" NAME="CARROT"/>
          <define VALUE="80." NAME="DEFAULT_CIRCLE_RADIUS"/>
          <define VALUE="10" NAME="GLIDE_AIRSPEED"/>
          <define VALUE="3." NAME="GLIDE_VSPEED"/>
          <define VALUE="45" UNIT="deg" NAME="GLIDE_PITCH"/>
        </section>
        <section PREFIX="V_CTL_" NAME="VERTICAL CONTROL">
          <define VALUE="11.1" UNIT="volt" NAME="POWER_CTL_BAT_NOMINAL"/>
          <define VALUE="0.03" NAME="ALTITUDE_PGAIN"/>
          <define VALUE="2." NAME="ALTITUDE_MAX_CLIMB"/>
          <define VALUE="0.32" NAME="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE"/>
          <define VALUE="0.25" NAME="AUTO_THROTTLE_MIN_CRUISE_THROTTLE"/>
          <define VALUE="0.65" NAME="AUTO_THROTTLE_MAX_CRUISE_THROTTLE"/>
          <define VALUE="1500" NAME="AUTO_THROTTLE_LOITER_TRIM"/>
          <define VALUE="-4000" NAME="AUTO_THROTTLE_DASH_TRIM"/>
          <define VALUE="0.15" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT"/>
          <define VALUE="0.01" NAME="AUTO_THROTTLE_PGAIN"/>
          <define VALUE="0.1" NAME="AUTO_THROTTLE_IGAIN"/>
          <define VALUE="0.05" NAME="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN"/>
          <define VALUE="2" UNIT="s" NAME="THROTTLE_SLEW_LIMITER"/>
          <define VALUE="0.15" NAME="AIRSPEED_PGAIN"/>
          <define VALUE="0.0" NAME="AUTO_THROTTLE_OF_AIRSPEED_PGAIN"/>
          <define VALUE="0.0" NAME="AUTO_THROTTLE_OF_AIRSPEED_IGAIN"/>
          <define VALUE="0.0" NAME="AUTO_PITCH_OF_AIRSPEED_PGAIN"/>
          <define VALUE="0.0" NAME="AUTO_PITCH_OF_AIRSPEED_IGAIN"/>
          <define VALUE="0.0" NAME="AUTO_PITCH_OF_AIRSPEED_DGAIN"/>
        </section>
        <section PREFIX="H_CTL_" NAME="HORIZONTAL CONTROL">
          <define VALUE="1.20000004768" NAME="COURSE_PGAIN"/>
          <define VALUE="0.3" NAME="COURSE_DGAIN"/>
          <define VALUE="0.2" NAME="COURSE_PRE_BANK_CORRECTION"/>
          <define VALUE="0.9" UNIT="radians" NAME="ROLL_MAX_SETPOINT"/>
          <define VALUE="0.5" UNIT="radians" NAME="PITCH_MAX_SETPOINT"/>
          <define VALUE="-0.5" UNIT="radians" NAME="PITCH_MIN_SETPOINT"/>
          <define VALUE="12000." NAME="PITCH_PGAIN"/>
          <define VALUE="0" NAME="PITCH_DGAIN"/>
          <define VALUE="1000." NAME="ELEVATOR_OF_ROLL"/>
          <define VALUE="11500" NAME="ROLL_ATTITUDE_GAIN"/>
          <define VALUE="600." NAME="ROLL_RATE_GAIN"/>
        </section>
        <section PREFIX="AGR_" NAME="AGGRESSIVE">
          <define VALUE="20" NAME="BLEND_START"/>
          <define VALUE="10" NAME="BLEND_END"/>
          <define VALUE="1.00" NAME="CLIMB_THROTTLE"/>
          <define VALUE="0.3" NAME="CLIMB_PITCH"/>
          <define VALUE="0.1" NAME="DESCENT_THROTTLE"/>
          <define VALUE="-0.25" NAME="DESCENT_PITCH"/>
          <define VALUE="0.8" NAME="CLIMB_NAV_RATIO"/>
          <define VALUE="1.0" NAME="DESCENT_NAV_RATIO"/>
        </section>
        <section PREFIX="FAILSAFE_" NAME="FAILSAFE">
          <define VALUE="0.35" UNIT="%" NAME="DEFAULT_THROTTLE"/>
          <define VALUE="0.17" UNIT="rad" NAME="DEFAULT_ROLL"/>
          <define VALUE="0.08" UNIT="rad" NAME="DEFAULT_PITCH"/>
          <define VALUE="DEFAULT_CIRCLE_RADIUS" UNIT="m" NAME="HOME_RADIUS"/>
          <define VALUE="(MAX_DIST_FROM_HOME*1.5)" NAME="KILL_MODE_DISTANCE"/>
          <define VALUE="3" UNIT="s" NAME="DELAY_WITHOUT_GPS"/>
        </section>
        <modules>
          <load NAME="ahrs_chimu_spi.xml">
            <define NAME="CHIMU_BIG_ENDIAN"/>
          </load>
          <load NAME="gps_ubx_ucenter.xml"/>
          <load NAME="nav_line.xml"/>
        </modules>
        <firmware NAME="fixedwing">
          <define NAME="STRONG_WIND"/>
          <define NAME="WIND_INFO"/>
          <define NAME="WIND_INFO_RET"/>
          <target NAME="ap" BOARD="tiny_2.11"/>
          <subsystem TYPE="ppm" NAME="radio_control"/>
          <subsystem TYPE="ublox" NAME="gps"/>
          <subsystem TYPE="xbee_api" NAME="telemetry">
            <configure VALUE="B9600" NAME="MODEM_BAUD"/>
          </subsystem>
          <subsystem TYPE="energy" NAME="control"/>
          <subsystem NAME="spi_slave_hs"/>
          <subsystem NAME="navigation"/>
          <subsystem TYPE="alt_float" NAME="ins"/>
        </firmware>
      </airframe>
      <telemetry>
        <process NAME="Ap">
          <mode NAME="default">
            <message PERIOD="1.4" NAME="AIRSPEED"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="0.5" NAME="GPS"/>
            <message PERIOD="1." NAME="NAVIGATION"/>
            <message PERIOD="0.7" NAME="ATTITUDE"/>
            <message PERIOD="0.6" NAME="ESTIMATOR"/>
            <message PERIOD="2.5" NAME="ENERGY"/>
            <message PERIOD="1.1" NAME="WP_MOVED"/>
            <message PERIOD="1.05" NAME="CIRCLE"/>
            <message PERIOD="1.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="1.2" NAME="SEGMENT"/>
            <message PERIOD="2.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="SETTINGS"/>
            <message PERIOD="2.2" NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.2" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="2.0" NAME="GPS_SOL"/>
            <message PERIOD=".8" NAME="IMU_ACCEL"/>
            <message PERIOD=".9" NAME="IMU_GYRO"/>
            <message PERIOD="1.9" NAME="IMU_MAG"/>
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
          </mode>
          <mode NAME="minimal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="4" NAME="ATTITUDE"/>
            <message PERIOD="1.05" NAME="GPS"/>
            <message PERIOD="1.3" NAME="ESTIMATOR"/>
            <message PERIOD="1.4" NAME="WP_MOVED"/>
            <message PERIOD="3.05" NAME="CIRCLE"/>
            <message PERIOD="4.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="3.2" NAME="SEGMENT"/>
            <message PERIOD="5.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="3." NAME="NAVIGATION"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="5.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="5.0" NAME="GPS_SOL"/>
          </mode>
          <mode NAME="extremal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="7.5" NAME="PPRZ_MODE"/>
            <message PERIOD="8." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".05" NAME="IMU_MAG_RAW"/>
            <message PERIOD="0.5" NAME="BARO_RAW"/>
          </mode>
          <mode NAME="scaled_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".075" NAME="IMU_GYRO"/>
            <message PERIOD=".075" NAME="IMU_ACCEL"/>
            <message PERIOD=".1" NAME="IMU_MAG"/>
          </mode>
          <mode NAME="debug_imu">
            <message PERIOD="0.1" NAME="ATTITUDE"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="5.5" NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
            <message PERIOD=".5" NAME="IMU_ACCEL"/>
            <message PERIOD=".5" NAME="IMU_GYRO"/>
            <message PERIOD=".5" NAME="IMU_MAG"/>
            <message PERIOD=".5" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".5" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".5" NAME="IMU_MAG_RAW"/>
          </mode>
        </process>
        <process NAME="Fbw">
          <mode NAME="default">
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
          <mode NAME="debug">
            <message PERIOD="0.5" NAME="PPM"/>
            <message PERIOD="0.5" NAME="RC"/>
            <message PERIOD="0.5" NAME="COMMANDS"/>
            <message PERIOD="1" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="flight params">
            <dl_setting VAR="flight_altitude" STEP="10" SHORTNAME="altitude" MIN="0" MAX="1000"/>
            <dl_setting VAR="nav_course" STEP="1" MIN="0" MAX="360"/>
            <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-10" MAX="10" HANDLER="IncreaseShift"/>
            <dl_setting VAR="autopilot_flight_time" STEP="1" SHORTNAME="flight time" MODULE="autopilot" MIN="0" MAX="0" HANDLER="ResetFlightTimeAndLaunch"/>
            <dl_setting VAR="nav_radius" STEP="10" MODULE="firmwares/fixedwing/nav" MIN="-200" MAX="200" HANDLER="SetNavRadius">
              <strip_button VALUE="1" NAME="Circle right" ICON="circle-right.png" GROUP="circle"/>
              <strip_button VALUE="-1" NAME="Circle left" ICON="circle-left.png" GROUP="circle"/>
              <key_press VALUE="1" KEY="greater"/>
              <key_press VALUE="-1" KEY="less"/>
            </dl_setting>
          </dl_settings>
          <dl_settings NAME="mode">
            <dl_setting VAR="pprz_mode" VALUES="MANUAL|AUTO1|AUTO2|HOME|NOGPS|FAILSAFE" STEP="1" MODULE="autopilot" MIN="0" MAX="2"/>
            <dl_setting VAR="launch" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="kill_throttle" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="gps.reset" STEP="1" SHORTNAME="GPS reset" MODULE="subsystems/gps" MIN="0" MAX="2" HANDLER="Reset"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="control">
            <dl_settings NAME="trim">
              <dl_setting VAR="ap_state->command_roll_trim" STEP="1" SHORTNAME="roll_trim" PARAM="COMMAND_ROLL_TRIM" MODULE="inter_mcu" MIN="-960" MAX="960"/>
              <dl_setting VAR="ap_state->command_pitch_trim" STEP="1" SHORTNAME="pitch_trim" PARAM="COMMAND_PITCH_TRIM" MIN="-960" MAX="960"/>
            </dl_settings>
            <dl_settings NAME="attitude">
              <dl_setting VAR="h_ctl_roll_pgain" STEP="250" SHORTNAME="roll_pgain" MODULE="stabilization/stabilization_attitude" MIN="000" MAX="25000"/>
              <dl_setting VAR="h_ctl_roll_max_setpoint" STEP="0.05" SHORTNAME="max_roll" PARAM="H_CTL_ROLL_MAX_SETPOINT" MIN="0" MAX="1"/>
              <dl_setting VAR="h_ctl_pitch_pgain" STEP="250" SHORTNAME="pitch_pgain" PARAM="H_CTL_PITCH_PGAIN" MIN="0" MAX="25000"/>
              <dl_setting VAR="h_ctl_pitch_dgain" STEP="10" SHORTNAME="pitch_dgain" PARAM="H_CTL_PITCH_DGAIN" MIN="0" MAX="50000"/>
              <dl_setting VAR="h_ctl_elevator_of_roll" STEP="100" SHORTNAME="elevator_of_roll" PARAM="H_CTL_ELEVATOR_OF_ROLL" MIN="0" MAX="5000"/>
              <dl_setting VAR="h_ctl_aileron_of_throttle" STEP="100" SHORTNAME="aileron_of_throttle" MIN="0" MAX="5000"/>
              <dl_setting VAR="h_ctl_roll_attitude_gain" STEP="250" SHORTNAME="roll attitude pgain" PARAM="H_CTL_ROLL_ATTITUDE_GAIN" MIN="0" MAX="15000"/>
              <dl_setting VAR="h_ctl_roll_rate_gain" STEP="250" SHORTNAME="roll rate gain" PARAM="H_CTL_ROLL_RATE_GAIN" MIN="0" MAX="15000"/>
            </dl_settings>
            <dl_settings NAME="climb_accel">
              <dl_setting VAR="v_ctl_altitude_pgain" STEP="0.01" SHORTNAME="alt_pgain" PARAM="V_CTL_ALTITUDE_PGAIN" MODULE="guidance/energy_ctrl" MIN="0" MAX="2.0"/>
              <dl_setting VAR="v_ctl_airspeed_pgain" STEP="0.01" SHORTNAME="speed_pgain" PARAM="V_CTL_AIRSPEED_PGAIN" MIN="0" MAX="1.0"/>
              <dl_setting VAR="v_ctl_max_climb" STEP="0.5" SHORTNAME="max_climb" PARAM="V_CTL_MAX_CLIMB" MIN="-10" MAX="10.0"/>
              <dl_setting VAR="v_ctl_max_acceleration" STEP="0.05" SHORTNAME="max_acc_g" PARAM="V_CTL_MAX_ACCELERATION" MIN="-2" MAX="2.0"/>
            </dl_settings>
            <dl_settings NAME="energy_loop">
              <dl_setting VAR="v_ctl_auto_airspeed_setpoint" STEP="0.5" SHORTNAME="airspeed sp" MIN="8.0" MAX="45"/>
              <dl_setting VAR="v_ctl_auto_throttle_nominal_cruise_throttle" STEP="0.05" SHORTNAME="cruise throttle" MIN="0.0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_nominal_cruise_pitch" STEP="0.05" SHORTNAME="cruise pitch" MIN="0.0" MAX="1"/>
              <dl_setting VAR="v_ctl_desired_acceleration" STEP="0.01" SHORTNAME="acc_cmd" MIN="0" MAX="1.0"/>
              <dl_setting VAR="v_ctl_auto_throttle_climb_throttle_increment" STEP="0.01" SHORTNAME="throttle_incr" PARAM="V_CTL_AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT" MIN="0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_pitch_of_vz_pgain" STEP="0.01" SHORTNAME="pitch_of_vz" PARAM="V_CTL_AUTO_THROTTLE_PITCH_OF_VZ_PGAIN" MIN="0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_of_airspeed_pgain" STEP="0.01" SHORTNAME="P_th_air" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_auto_throttle_of_airspeed_igain" STEP="0.001" SHORTNAME="I_th_air" MIN="0" MAX="0.1"/>
              <dl_setting VAR="v_ctl_auto_pitch_of_airspeed_pgain" STEP="0.001" SHORTNAME="P_pitch_air" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_auto_pitch_of_airspeed_igain" STEP="0.001" SHORTNAME="I_pitch_air" MIN="0" MAX="0.1"/>
              <dl_setting VAR="v_ctl_auto_pitch_of_airspeed_dgain" STEP="0.01" SHORTNAME="D_pitch_air" MIN="0" MAX="5."/>
              <dl_setting VAR="v_ctl_energy_total_pgain" STEP="0.01" SHORTNAME="P_en_tot" PARAM="V_CTL_ENERGY_TOT_PGAIN" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_energy_total_igain" STEP="0.01" SHORTNAME="I_en_tot" PARAM="V_CTL_ENERGY_TOT_IGAIN" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_energy_diff_pgain" STEP="0.01" SHORTNAME="P_en_dis" PARAM="V_CTL_ENERGY_DIFF_PGAIN" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_energy_diff_igain" STEP="0.01" SHORTNAME="I_en_dis" PARAM="V_CTL_ENERGY_DIFF_IGAIN" MIN="0" MAX="1."/>
            </dl_settings>
            <dl_settings NAME="groundspeed">
              <dl_setting VAR="v_ctl_auto_groundspeed_setpoint" STEP="0.1" SHORTNAME="gs_sp" PARAM="V_CTL_AUTO_GROUNDSPEED_SETPOINT" MODULE="guidance/energy_ctrl" MIN="5" MAX="40"/>
              <dl_setting VAR="v_ctl_auto_groundspeed_pgain" STEP="0.01" SHORTNAME="gs_pgain" PARAM="V_CTL_AUTO_GROUNDSPEED_PGAIN" MIN="0" MAX="2"/>
              <dl_setting VAR="v_ctl_auto_groundspeed_igain" STEP="0.01" SHORTNAME="gs_igain" PARAM="V_CTL_AUTO_GROUNDSPEED_IGAIN" MIN="0" MAX="2"/>
            </dl_settings>
            <dl_settings NAME="nav">
              <dl_setting VAR="h_ctl_course_pgain" STEP="0.05" SHORTNAME="course pgain" PARAM="H_CTL_COURSE_PGAIN" MIN="0.1" MAX="3"/>
              <dl_setting VAR="h_ctl_course_dgain" STEP="0.1" SHORTNAME="course dgain" PARAM="H_CTL_COURSE_DGAIN" MIN="0" MAX="2"/>
              <dl_setting VAR="h_ctl_course_pre_bank_correction" STEP="0.05" SHORTNAME="pre bank cor" PARAM="H_CTL_COURSE_PRE_BANK_CORRECTION" MIN="0.1" MAX="2"/>
              <dl_setting VAR="nav_glide_pitch_trim" STEP="0.05" SHORTNAME="glide pitch trim" PARAM="NAV_GLIDE_PITCH_TRIM" MIN="0.0" MAX="1"/>
              <dl_setting VAR="h_ctl_roll_slew" STEP="0.01" SHORTNAME="roll slew" MIN="0.02" MAX="1"/>
              <dl_setting VAR="nav_radius" STEP="5" MIN="-500" MAX="500"/>
              <dl_setting VAR="nav_course" STEP="5" MIN="0" MAX="359"/>
              <dl_setting VAR="nav_mode" STEP="1" MIN="1" MAX="2"/>
              <dl_setting VAR="nav_climb" STEP="0.5" MIN="-5" MAX="5"/>
              <dl_setting VAR="fp_pitch" STEP="1" MIN="-15" MAX="15"/>
              <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-50" MAX="50" HANDLER="IncreaseShift"/>
              <dl_setting VAR="nav_ground_speed_setpoint" STEP="0.5" SHORTNAME="ground speed" MIN="5" MAX="50"/>
              <dl_setting VAR="nav_ground_speed_pgain" STEP="0.01" SHORTNAME="ground speed pgain" MIN="0" MAX="0.2"/>
              <dl_setting VAR="nav_survey_shift" STEP="5" MIN="50" MAX="500"/>
            </dl_settings>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="ins">
            <dl_setting VAR="ins_roll_neutral" UNIT="rad" STEP="0.5" SHORTNAME="roll_neutral" PARAM="INS_ROLL_NEUTRAL_DEFAULT" MODULE="subsystems/ahrs" MIN="-15" MAX="15" ALT_UNIT="deg"/>
            <dl_setting VAR="ins_pitch_neutral" UNIT="rad" STEP="0.5" SHORTNAME="pitch_neutral" PARAM="INS_PITCH_NEUTRAL_DEFAULT" MIN="-15" MAX="15" ALT_UNIT="deg"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="performance">
            <dl_settings NAME="estimates">
              <dl_setting VAR="ac_char_climb_pitch" STEP="1" SHORTNAME="climb_pitch" MODULE="guidance/energy_ctrl" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_climb_max" STEP="1" SHORTNAME="climb_max" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_descend_pitch" STEP="1" SHORTNAME="descend_pitch" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_descend_max" STEP="1" SHORTNAME="descend_max" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_cruise_throttle" STEP="1" SHORTNAME="cruise_thr" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_cruise_pitch" STEP="1" SHORTNAME="cruise_pitch" MIN="-1" MAX="1"/>
            </dl_settings>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <ignoring_aircraft name="Mudita"/>
    <aircraft name="Psi" ac_id="213" airframe="airframes/OpenUAS/openuas_psi.xml" radio="radios/cockpitSX.xml" telemetry="telemetry/OpenUAS/openuas_ardrone_extended.xml" flight_plan="flight_plans/rotorcraft_basic.xml" settings=" settings/rotorcraft_basic.xml settings/control/rotorcraft_guidance.xml settings/control/stabilization_rate.xml settings/control/stabilization_att_int.xml" gui_color="yellow">
      <radio SYNC_MIN="5000" SYNC_MAX="15000" PULSE_TYPE="POSITIVE" NAME="cockpitSX (easy)" DATA_MIN="900" DATA_MAX="2100">
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="ROLL" CTL="D" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="PITCH" CTL="C" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="950" MAX="2050" FUNCTION="YAW" CTL="B" AVERAGE="0"/>
        <channel NEUTRAL="1223" MIN="1223" MAX="2050" FUNCTION="THROTTLE" CTL="A" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="UNUSED" CTL="G" AVERAGE="1"/>
        <channel NEUTRAL="1496" MIN="2050" MAX="948" FUNCTION="GAIN1" CTL="E" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="948" FUNCTION="MODE" CTL="PHAUX2" AVERAGE="1"/>
      </radio>
      <dump>
        <flight_plan security_height="2" name="Rotorcraft Basic (Enac)" max_dist_from_home="150" lon0="1 28 52.61" lat0="43 33 50.83" ground_alt="147" alt="152">
          <header>#include &quot;autopilot.h&quot;</header>
          <waypoints>
            <waypoint y="0.0" x="0.0" name="HOME"/>
            <waypoint y="5.0" x="0.0" name="CLIMB"/>
            <waypoint y="-5.0" x="-2.0" name="STDBY"/>
            <waypoint y="-13.9" x="3.6" name="p1"/>
            <waypoint y="-48.2" x="27.5" name="p2"/>
            <waypoint y="-19.6" x="16.7" name="p3"/>
            <waypoint y="-40.7" x="13.7" name="p4"/>
            <waypoint y="-50" x="-20" name="CAM" height="2."/>
            <waypoint y="-10.9" x="5.6" name="TD"/>
          </waypoints>
          <blocks>
            <block name="Wait GPS" no="0">
              <call fun="NavKillThrottle()" no="0"/>
              <while cond="!GpsFixValid()" no="1"/>
            </block>
            <block name="Geo init" no="1">
              <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
            </block>
            <block name="Holding point" no="2">
              <call fun="NavKillThrottle()" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0" roll="0" pitch="0" no="1"/>
            </block>
            <block name="Start Engine" no="3">
              <call fun="NavResurrect()" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0" roll="0" pitch="0" no="1"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff" name="Takeoff" no="4">
              <exception deroute="Standby" cond="stateGetPositionEnu_f()->z > 2.0"/>
              <call fun="NavSetWaypointHere(WP_CLIMB)" no="0"/>
              <stay wp="CLIMB" vmode="climb" climb="0.5" no="1"/>
            </block>
            <block strip_icon="home.png" strip_button="Standby" name="Standby" no="5">
              <stay wp="STDBY" no="0"/>
            </block>
            <block name="stay_p1" no="6">
              <stay wp="p1" no="0"/>
            </block>
            <block name="go_p2" no="7">
              <call fun="nav_set_heading_deg(90)" no="0"/>
              <go wp="p2" no="1"/>
              <deroute block="stay_p1" no="2"/>
            </block>
            <block name="line_p1_p2" no="8">
              <go wp="p2" hmode="route" from="p1" no="0"/>
              <stay wp="p2" until="stage_time>10" no="1"/>
              <go wp="p1" hmode="route" from="p2" no="2"/>
              <deroute block="stay_p1" no="3"/>
            </block>
            <block name="route" no="9">
              <go wp="p3" hmode="route" from="p1" no="0"/>
              <go wp="p4" hmode="route" from="p3" no="1"/>
              <go wp="p1" hmode="route" from="p4" no="2"/>
              <deroute block="stay_p1" no="3"/>
            </block>
            <block pre_call="nav_set_heading_towards_waypoint(WP_CAM)" name="circle CAM" no="10">
              <circle wp="CAM" radius="nav_radius" no="0"/>
            </block>
            <block strip_icon="land-right.png" strip_button="Land Here" name="land here" no="11">
              <call fun="NavSetWaypointHere(WP_TD)" no="0"/>
            </block>
            <block name="land" no="12">
              <go wp="TD" no="0"/>
            </block>
            <block name="flare" no="13">
              <exception deroute="Holding point" cond="NavDetectGround()"/>
              <exception deroute="landed" cond="!nav_is_in_flight()"/>
              <call fun="NavStartDetectGround()" no="0"/>
              <stay wp="TD" vmode="climb" climb="-0.8" no="1"/>
            </block>
            <block name="landed" no="14">
              <attitude vmode="throttle" until="FALSE" throttle="0" roll="0" pitch="0" no="0"/>
            </block>
            <block name="HOME" no="15">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="15" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="14" block_name="landed" stage="0">
            <attitude vmode="throttle" until="FALSE" throttle="0" roll="0" pitch="0" no="0"/>
          </stage>
          <stage block="13" block_name="flare" stage="1">
            <stay wp="TD" vmode="climb" climb="-0.8" no="1"/>
          </stage>
          <stage block="13" block_name="flare" stage="0">
            <call fun="NavStartDetectGround()" no="0"/>
          </stage>
          <stage block="12" block_name="land" stage="0">
            <go wp="TD" no="0"/>
          </stage>
          <stage block="11" block_name="land here" stage="0">
            <call fun="NavSetWaypointHere(WP_TD)" no="0"/>
          </stage>
          <stage block="10" block_name="circle CAM" stage="0">
            <circle wp="CAM" radius="nav_radius" no="0"/>
          </stage>
          <stage block="9" block_name="route" stage="3">
            <deroute block="stay_p1" no="3"/>
          </stage>
          <stage block="9" block_name="route" stage="2">
            <go wp="p1" hmode="route" from="p4" no="2"/>
          </stage>
          <stage block="9" block_name="route" stage="1">
            <go wp="p4" hmode="route" from="p3" no="1"/>
          </stage>
          <stage block="9" block_name="route" stage="0">
            <go wp="p3" hmode="route" from="p1" no="0"/>
          </stage>
          <stage block="8" block_name="line_p1_p2" stage="3">
            <deroute block="stay_p1" no="3"/>
          </stage>
          <stage block="8" block_name="line_p1_p2" stage="2">
            <go wp="p1" hmode="route" from="p2" no="2"/>
          </stage>
          <stage block="8" block_name="line_p1_p2" stage="1">
            <stay wp="p2" until="stage_time>10" no="1"/>
          </stage>
          <stage block="8" block_name="line_p1_p2" stage="0">
            <go wp="p2" hmode="route" from="p1" no="0"/>
          </stage>
          <stage block="7" block_name="go_p2" stage="2">
            <deroute block="stay_p1" no="2"/>
          </stage>
          <stage block="7" block_name="go_p2" stage="1">
            <go wp="p2" no="1"/>
          </stage>
          <stage block="7" block_name="go_p2" stage="0">
            <call fun="nav_set_heading_deg(90)" no="0"/>
          </stage>
          <stage block="6" block_name="stay_p1" stage="0">
            <stay wp="p1" no="0"/>
          </stage>
          <stage block="5" block_name="Standby" stage="0">
            <stay wp="STDBY" no="0"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="1">
            <stay wp="CLIMB" vmode="climb" climb="0.5" no="1"/>
          </stage>
          <stage block="4" block_name="Takeoff" stage="0">
            <call fun="NavSetWaypointHere(WP_CLIMB)" no="0"/>
          </stage>
          <stage block="3" block_name="Start Engine" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0" roll="0" pitch="0" no="1"/>
          </stage>
          <stage block="3" block_name="Start Engine" stage="0">
            <call fun="NavResurrect()" no="0"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0" roll="0" pitch="0" no="1"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="0">
            <call fun="NavKillThrottle()" no="0"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="0">
            <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="1">
            <while cond="!GpsFixValid()" no="1"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="0">
            <call fun="NavKillThrottle()" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Psi">
        <firmware NAME="rotorcraft">
          <target NAME="ap" BOARD="ardrone2_raw">
            <define NAME="AUTOPILOT_DISABLE_AHRS_KILL"/>
            <define VALUE="40" NAME="BAT_CHECKER_DELAY"/>
            <define VALUE="40" NAME="CATASTROPHIC_BATTERY_KILL_DELAY"/>
            <subsystem TYPE="udp" NAME="telemetry"/>
            <subsystem TYPE="datalink" NAME="radio_control"/>
            <define NAME="TRAFFIC_INFO"/>
          </target>
          <target NAME="nps" BOARD="pc">
            <subsystem TYPE="jsbsim" NAME="fdm"/>
            <subsystem TYPE="ppm" NAME="radio_control"/>
            <define NAME="TRAFFIC_INFO"/>
          </target>
          <define VALUE="TRUE" NAME="USE_SONAR"/>
          <subsystem NAME="motor_mixing"/>
          <subsystem TYPE="ardrone2" NAME="actuators"/>
          <subsystem TYPE="ardrone2" NAME="imu"/>
          <subsystem TYPE="ublox" NAME="gps"/>
          <subsystem TYPE="int_quat" NAME="stabilization"/>
          <subsystem TYPE="int_cmpl_quat" NAME="ahrs"/>
          <subsystem TYPE="extended" NAME="ins"/>
        </firmware>
        <modules MAIN_FREQ="512">
          <load NAME="gps_ubx_ucenter.xml"/>
        </modules>
        <commands>
          <axis NAME="PITCH" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="0"/>
          <axis NAME="YAW" FAILSAFE_VALUE="0"/>
          <axis NAME="THRUST" FAILSAFE_VALUE="3000"/>
        </commands>
        <servos DRIVER="Default">
          <servo NO="0" NEUTRAL="1" NAME="TOP_LEFT" MIN="0" MAX="500"/>
          <servo NO="1" NEUTRAL="1" NAME="TOP_RIGHT" MIN="0" MAX="500"/>
          <servo NO="2" NEUTRAL="1" NAME="BOTTOM_RIGHT" MIN="0" MAX="500"/>
          <servo NO="3" NEUTRAL="1" NAME="BOTTOM_LEFT" MIN="0" MAX="500"/>
        </servos>
        <section PREFIX="MOTOR_MIXING_" NAME="MIXING">
          <define VALUE="0" NAME="TRIM_ROLL"/>
          <define VALUE="0" NAME="TRIM_PITCH"/>
          <define VALUE="0" NAME="TRIM_YAW"/>
          <define VALUE="4" NAME="NB_MOTOR"/>
          <define VALUE="255" NAME="SCALE"/>
          <define VALUE="{   256, -256, -256,  256 }" NAME="ROLL_COEF"/>
          <define VALUE="{  256,  256, -256, -256 }" NAME="PITCH_COEF"/>
          <define VALUE="{   -256,  256, -256,  256 }" NAME="YAW_COEF"/>
          <define VALUE="{ 256,  256,  256,  256 }" NAME="THRUST_COEF"/>
        </section>
        <command_laws>
          <call FUN="motor_mixing_run(autopilot_motors_on,FALSE,values)"/>
          <set VALUE="motor_mixing.commands[0]" SERVO="TOP_LEFT"/>
          <set VALUE="motor_mixing.commands[1]" SERVO="TOP_RIGHT"/>
          <set VALUE="motor_mixing.commands[2]" SERVO="BOTTOM_RIGHT"/>
          <set VALUE="motor_mixing.commands[3]" SERVO="BOTTOM_LEFT"/>
        </command_laws>
        <section PREFIX="IMU_" NAME="IMU">
          <define VALUE="2055" NAME="ACCEL_X_NEUTRAL"/>
          <define VALUE="2048" NAME="ACCEL_Y_NEUTRAL"/>
          <define VALUE="2057" NAME="ACCEL_Z_NEUTRAL"/>
          <define VALUE="16" NAME="MAG_X_NEUTRAL"/>
          <define VALUE="-7" NAME="MAG_Y_NEUTRAL"/>
          <define VALUE="-310" NAME="MAG_Z_NEUTRAL"/>
          <define VALUE="14.1695267878" NAME="MAG_X_SENS" INTEGER="16"/>
          <define VALUE="14.4503209425" NAME="MAG_Y_SENS" INTEGER="16"/>
          <define VALUE="15.5169274923" NAME="MAG_Z_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="MAG_X_CURRENT_COEF"/>
          <define VALUE="0.0" NAME="MAG_Y_CURRENT_COEF"/>
          <define VALUE="0.0" NAME="MAG_Z_CURRENT_COEF"/>
          <define VALUE="0." UNIT="deg" NAME="BODY_TO_IMU_PHI"/>
          <define VALUE="0." UNIT="deg" NAME="BODY_TO_IMU_THETA"/>
          <define VALUE="0." UNIT="deg" NAME="BODY_TO_IMU_PSI"/>
        </section>
        <section PREFIX="AHRS_" NAME="AHRS">
          <define VALUE="0.51562740288882" NAME="H_X"/>
          <define VALUE="-0.05707735220832" NAME="H_Y"/>
          <define VALUE="0.85490967783446" NAME="H_Z"/>
        </section>
        <section PREFIX="INS_" NAME="INS">
          <define VALUE="2.2" NAME="SONAR_MAX_RANGE"/>
          <define VALUE="TRUE" NAME="SONAR_UPDATE_ON_AGL"/>
        </section>
        <section PREFIX="STABILIZATION_RATE_" NAME="STABILIZATION_RATE">
          <define VALUE="10000" NAME="SP_MAX_P"/>
          <define VALUE="10000" NAME="SP_MAX_Q"/>
          <define VALUE="10000" NAME="SP_MAX_R"/>
          <define VALUE="20" NAME="DEADBAND_P"/>
          <define VALUE="20" NAME="DEADBAND_Q"/>
          <define VALUE="200" NAME="DEADBAND_R"/>
          <define VALUE="4" NAME="REF_TAU"/>
          <define VALUE="400" NAME="GAIN_P"/>
          <define VALUE="400" NAME="GAIN_Q"/>
          <define VALUE="350" NAME="GAIN_R"/>
          <define VALUE="75" NAME="IGAIN_P"/>
          <define VALUE="75" NAME="IGAIN_Q"/>
          <define VALUE="50" NAME="IGAIN_R"/>
          <define VALUE="300" NAME="DDGAIN_P"/>
          <define VALUE="300" NAME="DDGAIN_Q"/>
          <define VALUE="300" NAME="DDGAIN_R"/>
        </section>
        <section PREFIX="STABILIZATION_ATTITUDE_" NAME="STABILIZATION_ATTITUDE">
          <define VALUE="45" UNIT="deg" NAME="SP_MAX_PHI"/>
          <define VALUE="45" UNIT="deg" NAME="SP_MAX_THETA"/>
          <define VALUE="600" UNIT="deg/s" NAME="SP_MAX_R"/>
          <define VALUE="0" NAME="DEADBAND_A"/>
          <define VALUE="0" NAME="DEADBAND_E"/>
          <define VALUE="250" NAME="DEADBAND_R"/>
          <define VALUE="450" UNIT="deg/s" NAME="REF_OMEGA_P"/>
          <define VALUE="0.9" NAME="REF_ZETA_P"/>
          <define VALUE="600." UNIT="deg/s" NAME="REF_MAX_P"/>
          <define VALUE="RadOfDeg(8000.)" NAME="REF_MAX_PDOT"/>
          <define VALUE="450" UNIT="deg/s" NAME="REF_OMEGA_Q"/>
          <define VALUE="0.9" NAME="REF_ZETA_Q"/>
          <define VALUE="600." UNIT="deg/s" NAME="REF_MAX_Q"/>
          <define VALUE="RadOfDeg(8000.)" NAME="REF_MAX_QDOT"/>
          <define VALUE="200" UNIT="deg/s" NAME="REF_OMEGA_R"/>
          <define VALUE="0.9" NAME="REF_ZETA_R"/>
          <define VALUE="300." UNIT="deg/s" NAME="REF_MAX_R"/>
          <define VALUE="RadOfDeg(4000.)" NAME="REF_MAX_RDOT"/>
          <define VALUE="592" NAME="PHI_PGAIN"/>
          <define VALUE="303" NAME="PHI_DGAIN"/>
          <define VALUE="0" NAME="PHI_IGAIN"/>
          <define VALUE="606" NAME="THETA_PGAIN"/>
          <define VALUE="303" NAME="THETA_DGAIN"/>
          <define VALUE="0" NAME="THETA_IGAIN"/>
          <define VALUE="529" NAME="PSI_PGAIN"/>
          <define VALUE="353" NAME="PSI_DGAIN"/>
          <define VALUE="0" NAME="PSI_IGAIN"/>
          <define VALUE="0" NAME="PHI_DDGAIN"/>
          <define VALUE="0" NAME="THETA_DDGAIN"/>
          <define VALUE="52" NAME="PSI_DDGAIN"/>
        </section>
        <section PREFIX="GUIDANCE_V_" NAME="GUIDANCE_V">
          <define VALUE="283" NAME="HOVER_KP"/>
          <define VALUE="82" NAME="HOVER_KD"/>
          <define VALUE="13" NAME="HOVER_KI"/>
          <define VALUE="0.655" NAME="NOMINAL_HOVER_THROTTLE"/>
          <define VALUE="FALSE" NAME="ADAPT_THROTTLE_ENABLED"/>
        </section>
        <section PREFIX="GUIDANCE_H_" NAME="GUIDANCE_H">
          <define VALUE="20" UNIT="deg" NAME="MAX_BANK"/>
          <define VALUE="79" NAME="PGAIN"/>
          <define VALUE="100" NAME="DGAIN"/>
          <define VALUE="40" NAME="IGAIN"/>
        </section>
        <section PREFIX="NPS_" NAME="SIMULATOR">
          <define VALUE="{&quot;nw_motor&quot;, &quot;ne_motor&quot;, &quot;se_motor&quot;, &quot;sw_motor&quot;}" NAME="ACTUATOR_NAMES"/>
          <define VALUE="&quot;simple_ardrone2&quot;" NAME="JSBSIM_MODEL"/>
          <define VALUE="&quot;reset00&quot;" NAME="JSBSIM_INIT"/>
          <define VALUE="&quot;nps_sensors_params_ardrone2.h&quot;" NAME="SENSORS_PARAMS"/>
        </section>
        <section NAME="AUTOPILOT">
          <define VALUE="AP_MODE_NAV" NAME="MODE_STARTUP"/>
          <define VALUE="AP_MODE_ATTITUDE_DIRECT" NAME="MODE_MANUAL"/>
          <define VALUE="AP_MODE_ATTITUDE_Z_HOLD" NAME="MODE_AUTO1"/>
          <define VALUE="AP_MODE_NAV" NAME="MODE_AUTO2"/>
        </section>
        <section NAME="BAT">
          <define VALUE="8700" NAME="MILLIAMP_AT_FULL_THROTTLE"/>
          <define VALUE="9.3" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
          <define VALUE="9.6" UNIT="V" NAME="CRITIC_BAT_LEVEL"/>
          <define VALUE="9.7" UNIT="V" NAME="LOW_BAT_LEVEL"/>
          <define VALUE="12.4" UNIT="V" NAME="MAX_BAT_LEVEL"/>
        </section>
      </airframe>
      <telemetry>
        <process NAME="Main">
          <mode NAME="default" KEY_PRESS="d">
            <message PERIOD="1.1" NAME="DL_VALUE"/>
            <message PERIOD="0.9" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="0.25" NAME="ROTORCRAFT_FP"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="INS_REF"/>
            <message PERIOD="1.6" NAME="ROTORCRAFT_NAV_STATUS"/>
            <message PERIOD="0.4" NAME="WP_MOVED"/>
            <message PERIOD="0.25" NAME="GPS_INT"/>
            <message PERIOD="0.25" NAME="INS"/>
            <message PERIOD="4.1" NAME="I2C_ERRORS"/>
            <message PERIOD="3.1" NAME="UART_ERRORS"/>
            <message PERIOD="0.05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD="0.05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD="0.25" NAME="IMU_MAG_RAW"/>
            <message PERIOD="0.1" NAME="BARO_RAW"/>
            <message PERIOD="0.13" NAME="ARDRONE_NAVDATA"/>
            <message PERIOD="0.25" NAME="IMU_GYRO_SCALED"/>
            <message PERIOD="0.25" NAME="IMU_ACCEL_SCALED"/>
            <message PERIOD="0.25" NAME="IMU_MAG_SCALED"/>
            <message PERIOD="2.2" NAME="FILTER_ALIGNER"/>
            <message PERIOD="0.7" NAME="FILTER"/>
            <message PERIOD="0.08" NAME="AHRS_GYRO_BIAS_INT"/>
            <message PERIOD="0.26" NAME="AHRS_QUAT_INT"/>
            <message PERIOD="0.11" NAME="AHRS_ARDRONE2"/>
            <message PERIOD="0.06" NAME="VFF"/>
            <message PERIOD="0.07" NAME="VERT_LOOP"/>
            <message PERIOD="0.08" NAME="INS"/>
            <message PERIOD="5.1" NAME="INS_REF"/>
            <message PERIOD="0.062" NAME="HOVER_LOOP"/>
            <message PERIOD="0.062" NAME="GUIDANCE_H_REF"/>
            <message PERIOD="0.4" NAME="STAB_ATTITUDE"/>
            <message PERIOD="2.1" NAME="STAB_ATTITUDE_REF"/>
            <message PERIOD="0.8" NAME="ROTORCRAFT_FP"/>
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="1.6" NAME="ROTORCRAFT_NAV_STATUS"/>
            <message PERIOD="5.1" NAME="INS_REF"/>
            <message PERIOD=".05" NAME="HFF"/>
            <message PERIOD=".03" NAME="HFF_GPS"/>
            <message PERIOD=".2" NAME="HFF_DBG"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".05" NAME="IMU_MAG_RAW"/>
            <message PERIOD=".1" NAME="BARO_RAW"/>
            <message PERIOD=".05" NAME="ARDRONE_NAVDATA"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="System">
            <dl_setting VAR="autopilot_mode_auto2" VALUES="KILL|Fail|HOME|Rate|Att|Rate_rcC|Att_rcC|Att_C|Rate_Z|Att_Z|Hover|Hover_C|Hover_Z|Nav|RC_D|CareFree" STEP="1" SHORTNAME="auto2" MODULE="autopilot" MIN="0" MAX="15"/>
            <dl_setting VAR="kill_throttle" VALUES="Resurrect|Kill" STEP="1" MODULE="autopilot" MIN="0" MAX="1" HANDLER="KillThrottle"/>
            <dl_setting VAR="autopilot_power_switch" VALUES="OFF|ON" STEP="1" MODULE="autopilot" MIN="0" MAX="1" HANDLER="SetPowerSwitch">
              <strip_button VALUE="1" NAME="POWER ON" ICON="on.png" GROUP="power_switch"/>
              <strip_button VALUE="0" NAME="POWER OFF" ICON="off.png" GROUP="power_switch"/>
            </dl_setting>
            <dl_setting VAR="autopilot_mode" VALUES="KILL|Fail|HOME" STEP="1" SHORTNAME="mode" MODULE="autopilot" MIN="0" MAX="2"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="Vert Loop">
            <dl_setting VAR="guidance_v_kp" STEP="1" SHORTNAME="kp" PARAM="GUIDANCE_V_HOVER_KP" MODULE="guidance/guidance_v" MIN="0" MAX="600"/>
            <dl_setting VAR="guidance_v_kd" STEP="1" SHORTNAME="kd" PARAM="GUIDANCE_V_HOVER_KD" MODULE="guidance/guidance_v" MIN="0" MAX="600"/>
            <dl_setting VAR="guidance_v_ki" STEP="1" SHORTNAME="ki" PARAM="GUIDANCE_V_HOVER_KI" MODULE="guidance/guidance_v" MIN="0" MAX="300" HANDLER="SetKi"/>
            <dl_setting VAR="guidance_v_nominal_throttle" STEP="0.01" SHORTNAME="nominal_throttle" PARAM="GUIDANCE_V_NOMINAL_HOVER_THROTTLE" MODULE="guidance/guidance_v" MIN="0.2" MAX="0.8"/>
            <dl_setting VAR="guidance_v_adapt_throttle_enabled" VALUES="FALSE|TRUE" STEP="1" SHORTNAME="adapt_throttle" PARAM="GUIDANCE_V_ADAPT_THROTTLE_ENABLED" MODULE="guidance/guidance_v" MIN="0" MAX="1"/>
            <dl_setting VAR="guidance_v_z_sp" UNIT="2e-8m" STEP="0.5" SHORTNAME="sp" MODULE="guidance/guidance_v" MIN="-5" MAX="3" ALT_UNIT_COEF="0.00390625" ALT_UNIT="m"/>
          </dl_settings>
          <dl_settings NAME="Horiz Loop">
            <dl_setting VAR="guidance_h_use_ref" VALUES="FALSE|TRUE" STEP="1" SHORTNAME="use_ref" PARAM="GUIDANCE_H_USE_REF" MODULE="guidance/guidance_h" MIN="0" MAX="1" HANDLER="SetUseRef"/>
            <dl_setting VAR="gh_max_speed" STEP="0.1" SHORTNAME="max_speed" PARAM="GUIDANCE_H_REF_MAX_SPEED" MODULE="guidance/guidance_h" MIN="0.1" MAX="15.0" HANDLER="SetMaxSpeed"/>
            <dl_setting VAR="guidance_h_approx_force_by_thrust" VALUES="FALSE|TRUE" STEP="1" SHORTNAME="approx_force" PARAM="GUIDANCE_H_APPROX_FORCE_BY_THRUST" MODULE="guidance/guidance_h" MIN="0" MAX="1"/>
            <dl_setting VAR="guidance_h_pgain" STEP="1" SHORTNAME="kp" PARAM="GUIDANCE_H_PGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400"/>
            <dl_setting VAR="guidance_h_dgain" STEP="1" SHORTNAME="kd" PARAM="GUIDANCE_H_DGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400"/>
            <dl_setting VAR="guidance_h_igain" STEP="1" SHORTNAME="ki" PARAM="GUIDANCE_H_IGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400" HANDLER="SetKi"/>
            <dl_setting VAR="guidance_h_vgain" STEP="1" SHORTNAME="kv" PARAM="GUIDANCE_H_VGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400"/>
            <dl_setting VAR="guidance_h_again" STEP="1" SHORTNAME="ka" PARAM="GUIDANCE_H_AGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400"/>
            <dl_setting VAR="guidance_h_pos_sp.x" UNIT="1/2^8m" STEP="1" SHORTNAME="sp_x_ned" MODULE="guidance/guidance_h" MIN="-10" MAX="10" ALT_UNIT_COEF="0.00390625" ALT_UNIT="m"/>
            <dl_setting VAR="guidance_h_pos_sp.y" UNIT="1/2^8m" STEP="1" SHORTNAME="sp_y_ned" MODULE="guidance/guidance_h" MIN="-10" MAX="10" ALT_UNIT_COEF="0.00390625" ALT_UNIT="m"/>
          </dl_settings>
          <dl_settings NAME="NAV">
            <dl_setting VAR="flight_altitude" UNIT="m" STEP="0.1" MODULE="navigation" MIN="0" MAX="400" HANDLER="SetFlightAltitude"/>
            <dl_setting VAR="nav_heading" UNIT="1/2^12r" STEP="1" MODULE="navigation" MIN="0" MAX="360" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
            <dl_setting VAR="nav_radius" UNIT="m" STEP="0.1" MODULE="navigation" MIN="-50" MAX="50"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="Rate Loop">
            <dl_setting VAR="stabilization_rate_gain.p" STEP="1" SHORTNAME="pgain p" PARAM="STABILIZATION_RATE_GAIN_P" MODULE="stabilization/stabilization_rate" MIN="1" MAX="1000"/>
            <dl_setting VAR="stabilization_rate_gain.q" STEP="1" SHORTNAME="pgain q" PARAM="STABILIZATION_RATE_GAIN_Q" MODULE="stabilization/stabilization_rate" MIN="1" MAX="1000"/>
            <dl_setting VAR="stabilization_rate_gain.r" STEP="1" SHORTNAME="pgain r" PARAM="STABILIZATION_RATE_GAIN_R" MODULE="stabilization/stabilization_rate" MIN="1" MAX="1000"/>
            <dl_setting VAR="stabilization_rate_igain.p" STEP="1" SHORTNAME="igain p" PARAM="STABILIZATION_RATE_IGAIN_P" MODULE="stabilization/stabilization_rate" MIN="0" MAX="500"/>
            <dl_setting VAR="stabilization_rate_igain.q" STEP="1" SHORTNAME="igain q" PARAM="STABILIZATION_RATE_IGAIN_Q" MODULE="stabilization/stabilization_rate" MIN="0" MAX="500"/>
            <dl_setting VAR="stabilization_rate_igain.r" STEP="1" SHORTNAME="igain r" PARAM="STABILIZATION_RATE_IGAIN_R" MODULE="stabilization/stabilization_rate" MIN="0" MAX="500"/>
            <dl_setting VAR="stabilization_rate_ddgain.p" STEP="1" SHORTNAME="ddgain p" PARAM="STABILIZATION_RATE_DDGAIN_P" MODULE="stabilization/stabilization_rate" MIN="0" MAX="500"/>
            <dl_setting VAR="stabilization_rate_ddgain.q" STEP="1" SHORTNAME="ddgain q" PARAM="STABILIZATION_RATE_DDGAIN_Q" MODULE="stabilization/stabilization_rate" MIN="0" MAX="500"/>
            <dl_setting VAR="stabilization_rate_ddgain.r" STEP="1" SHORTNAME="ddgain r" PARAM="STABILIZATION_RATE_DDGAIN_R" MODULE="stabilization/stabilization_rate" MIN="0" MAX="500"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="Att Loop">
            <dl_setting VAR="stabilization_gains.p.x" STEP="1" SHORTNAME="pgain phi" PARAM="STABILIZATION_ATTITUDE_PHI_PGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="1" MAX="8000"/>
            <dl_setting VAR="stabilization_gains.d.x" STEP="1" SHORTNAME="dgain p" PARAM="STABILIZATION_ATTITUDE_PHI_DGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="1" MAX="4000"/>
            <dl_setting VAR="stabilization_gains.i.x" STEP="1" SHORTNAME="igain phi" PARAM="STABILIZATION_ATTITUDE_PHI_IGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="0" MAX="800" HANDLER="SetKiPhi"/>
            <dl_setting VAR="stabilization_gains.dd.x" STEP="1" SHORTNAME="ddgain p" PARAM="STABILIZATION_ATTITUDE_PHI_DDGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="0" MAX="1000"/>
            <dl_setting VAR="stabilization_gains.p.y" STEP="1" SHORTNAME="pgain theta" PARAM="STABILIZATION_ATTITUDE_THETA_PGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="1" MAX="8000"/>
            <dl_setting VAR="stabilization_gains.d.y" STEP="1" SHORTNAME="dgain q" PARAM="STABILIZATION_ATTITUDE_THETA_DGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="1" MAX="4000"/>
            <dl_setting VAR="stabilization_gains.i.y" STEP="1" SHORTNAME="igain theta" PARAM="STABILIZATION_ATTITUDE_THETA_IGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="0" MAX="800"/>
            <dl_setting VAR="stabilization_gains.dd.y" STEP="1" SHORTNAME="ddgain q" PARAM="STABILIZATION_ATTITUDE_THETA_DDGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="0" MAX="1000"/>
            <dl_setting VAR="stabilization_gains.p.z" STEP="1" SHORTNAME="pgain psi" PARAM="STABILIZATION_ATTITUDE_PSI_PGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="1" MAX="4000"/>
            <dl_setting VAR="stabilization_gains.d.z" STEP="1" SHORTNAME="dgain r" PARAM="STABILIZATION_ATTITUDE_PSI_DGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="1" MAX="4000"/>
            <dl_setting VAR="stabilization_gains.i.z" STEP="1" SHORTNAME="igain psi" PARAM="STABILIZATION_ATTITUDE_PSI_IGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="0" MAX="400"/>
            <dl_setting VAR="stabilization_gains.dd.z" STEP="1" SHORTNAME="ddgain r" PARAM="STABILIZATION_ATTITUDE_PSI_DDGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="0" MAX="1000"/>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <ignoring_aircraft name="QS9"/>
    <aircraft name="Quattro" ac_id="214" airframe="airframes/OpenUAS/openuas_extra300.xml" radio="radios/OpenUAS/openuas_mx22_pprz-ap.xml" telemetry="telemetry/default_fixedwing_imu_9k6.xml" flight_plan="flight_plans/basic.xml" settings=" settings/fixedwing_basic.xml" gui_color="white">
      <radio SYNC_MIN="4000" SYNC_MAX="20000" PULSE_TYPE="NEGATIVE" NAME="MX22 PPRZ adherance" DATA_MIN="700" DATA_MAX="2300">
        <channel NEUTRAL="1500" MIN="1900" MAX="1100" FUNCTION="ROLL" CTL="A" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="PITCH" CTL="B" AVERAGE="0"/>
        <channel NEUTRAL="1100" MIN="1100" MAX="1900" FUNCTION="THROTTLE" CTL="C" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="YAW" CTL="D" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MODE" CTL="E" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="EXTRA1" CTL="F" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="FLAPS" CTL="G" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="NOTUSED1" CTL="SW1" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MANUALRELEASE" CTL="CONTROL9" AVERAGE="0"/>
      </radio>
      <dump>
        <flight_plan security_height="25" name="Basic" max_dist_from_home="1500" lon0="1.27289" lat0="43.46223" ground_alt="185" alt="260">
          <header>#include &quot;subsystems/datalink/datalink.h&quot;</header>
          <waypoints>
            <waypoint y="0" x="0" name="HOME"/>
            <waypoint y="100.1" x="49.5" name="STDBY"/>
            <waypoint y="189.9" x="10.1" name="1"/>
            <waypoint y="139.1" x="132.3" name="2"/>
            <waypoint y="-11.6" x="137.0" name="MOB"/>
            <waypoint y="69.6" x="-119.2" name="S1"/>
            <waypoint y="209.5" x="274.4" name="S2"/>
            <waypoint y="45.1" x="177.4" name="AF" alt="215.0"/>
            <waypoint y="57.0" x="28.8" name="TD" alt="185.0"/>
            <waypoint y="-13.8" x="168.8" name="_BASELEG"/>
            <waypoint y="162.3" x="-114.5" name="CLIMB"/>
          </waypoints>
          <exceptions/>
          <blocks>
            <block name="Wait GPS" no="0">
              <set var="kill_throttle" value="1" no="0"/>
              <while cond="!GpsFixValid()" no="1"/>
            </block>
            <block name="Geo init" no="1">
              <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
            </block>
            <block name="Holding point" no="2">
              <set var="kill_throttle" value="1" no="0"/>
              <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff (wp CLIMB)" name="Takeoff" key="t" group="home" no="3">
              <exception deroute="Standby" cond="GetPosAlt() > GetAltRef()+25"/>
              <set var="kill_throttle" value="0" no="0"/>
              <set var="autopilot_flight_time" value="0" no="1"/>
              <go wp="CLIMB" vmode="throttle" throttle="1.0" pitch="15" from="HOME" no="2"/>
            </block>
            <block strip_icon="home.png" strip_button="Standby" name="Standby" key="Ctrl+a" group="home" no="4">
              <circle wp="STDBY" radius="nav_radius" no="0"/>
            </block>
            <block strip_icon="eight.png" strip_button="Figure 8 (wp 1-2)" name="Figure 8 around wp 1" key="F8" group="base_pattern" no="5">
              <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
            </block>
            <block strip_icon="oval.png" strip_button="Oval (wp 1-2)" name="Oval 1-2" group="base_pattern" no="6">
              <oval radius="nav_radius" p2="2" p1="1" no="1"/>
            </block>
            <block strip_icon="mob.png" strip_button="Circle around here" name="MOB" group="base_pattern" no="7">
              <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
              <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="1"/>
              <circle wp="MOB" radius="nav_radius" no="2"/>
            </block>
            <block strip_icon="survey.png" strip_button="Survey (wp S1-S2)" name="Survey S1-S2" group="extra_pattern" no="8">
              <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
            </block>
            <block strip_icon="path.png" strip_button="Path (1,2,S1,S2,STDBY)" name="Path 1,2,S1,S2,STDBY" group="extra_pattern" no="9">
              <go from="1" hmode="route" wp="2" wpts="1,2 S1" no="0"/>
              <go from="2" hmode="route" wp="S1" wpts="1,2 S1" no="1"/>
              <go from="S1" hmode="route" wp="S2" wpts="S1, S2 STDBY" throttle="0.4" pitch="auto" approaching_time="1" no="2"/>
              <go from="S2" hmode="route" wp="STDBY" wpts="S1, S2 STDBY" throttle="0.4" pitch="auto" approaching_time="1" no="3"/>
              <deroute block="Standby" no="4"/>
            </block>
            <block strip_icon="land-right.png" strip_button="Land right (wp AF-TD)" name="Land Right AF-TD" group="land" no="10">
              <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block strip_icon="land-left.png" strip_button="Land left (wp AF-TD)" name="Land Left AF-TD" group="land" no="11">
              <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block name="land" no="12">
              <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP__BASELEG, nav_radius)" no="0"/>
              <circle wp="_BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
              <circle wp="_BASELEG" until="And(NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10), 10 > fabs(GetPosAlt() - WaypointAlt(WP__BASELEG)))" radius="nav_radius" no="2"/>
            </block>
            <block name="final" no="13">
              <exception deroute="flare" cond="GetAltRef() + 10 > GetPosAlt()"/>
              <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
            </block>
            <block name="flare" no="14">
              <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
            </block>
            <block name="HOME" no="15">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="15" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="14" block_name="flare" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
          </stage>
          <stage block="14" block_name="flare" stage="0">
            <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
          </stage>
          <stage block="13" block_name="final" stage="0">
            <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
          </stage>
          <stage block="12" block_name="land" stage="2">
            <circle wp="_BASELEG" until="And(NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10), 10 > fabs(GetPosAlt() - WaypointAlt(WP__BASELEG)))" radius="nav_radius" no="2"/>
          </stage>
          <stage block="12" block_name="land" stage="1">
            <circle wp="_BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
          </stage>
          <stage block="12" block_name="land" stage="0">
            <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP__BASELEG, nav_radius)" no="0"/>
          </stage>
          <stage block="11" block_name="Land Left AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="11" block_name="Land Left AF-TD" stage="0">
            <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="10" block_name="Land Right AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="10" block_name="Land Right AF-TD" stage="0">
            <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="9" block_name="Path 1,2,S1,S2,STDBY" stage="4">
            <deroute block="Standby" no="4"/>
          </stage>
          <stage block="9" block_name="Path 1,2,S1,S2,STDBY" stage="3">
            <go from="S2" hmode="route" wp="STDBY" wpts="S1, S2 STDBY" throttle="0.4" pitch="auto" approaching_time="1" no="3"/>
          </stage>
          <stage block="9" block_name="Path 1,2,S1,S2,STDBY" stage="2">
            <go from="S1" hmode="route" wp="S2" wpts="S1, S2 STDBY" throttle="0.4" pitch="auto" approaching_time="1" no="2"/>
          </stage>
          <stage block="9" block_name="Path 1,2,S1,S2,STDBY" stage="1">
            <go from="2" hmode="route" wp="S1" wpts="1,2 S1" no="1"/>
          </stage>
          <stage block="9" block_name="Path 1,2,S1,S2,STDBY" stage="0">
            <go from="1" hmode="route" wp="2" wpts="1,2 S1" no="0"/>
          </stage>
          <stage block="8" block_name="Survey S1-S2" stage="1">
            <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
          </stage>
          <stage block="7" block_name="MOB" stage="2">
            <circle wp="MOB" radius="nav_radius" no="2"/>
          </stage>
          <stage block="7" block_name="MOB" stage="1">
            <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="1"/>
          </stage>
          <stage block="7" block_name="MOB" stage="0">
            <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
          </stage>
          <stage block="6" block_name="Oval 1-2" stage="1">
            <oval radius="nav_radius" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="5" block_name="Figure 8 around wp 1" stage="1">
            <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
          </stage>
          <stage block="4" block_name="Standby" stage="0">
            <circle wp="STDBY" radius="nav_radius" no="0"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="2">
            <go wp="CLIMB" vmode="throttle" throttle="1.0" pitch="15" from="HOME" no="2"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="1">
            <set var="autopilot_flight_time" value="0" no="1"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="0">
            <set var="kill_throttle" value="0" no="0"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="1">
            <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="0">
            <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="1">
            <while cond="!GpsFixValid()" no="1"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Extra300">
        <servos>
          <servo NO="0" NEUTRAL="1100" NAME="MOTOR" MIN="1100" MAX="1900"/>
          <servo NO="1" NEUTRAL="1100" NAME="AILERON_LEFT" MIN="1100" MAX="1900"/>
          <servo NO="2" NEUTRAL="1100" NAME="ELEVATOR" MIN="1100" MAX="1900"/>
          <servo NO="5" NEUTRAL="1500" NAME="RUDDER" MIN="1100" MAX="1900"/>
          <servo NO="6" NEUTRAL="1500" NAME="AILERON_RIGHT" MIN="1100" MAX="1900"/>
        </servos>
        <commands>
          <axis NAME="THROTTLE" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="2000"/>
          <axis NAME="PITCH" FAILSAFE_VALUE="-1000"/>
          <axis NAME="YAW" FAILSAFE_VALUE="-1000"/>
        </commands>
        <rc_commands>
          <set VALUE="@THROTTLE" COMMAND="THROTTLE"/>
          <set VALUE="@ROLL" COMMAND="ROLL"/>
          <set VALUE="@PITCH" COMMAND="PITCH"/>
          <set VALUE="@YAW" COMMAND="YAW"/>
        </rc_commands>
        <command_laws>
          <set VALUE="@THROTTLE" SERVO="MOTOR"/>
          <set VALUE="@ROLL" SERVO="AILERON_LEFT"/>
          <set VALUE="@PITCH" SERVO="ELEVATOR"/>
          <set VALUE="@YAW" SERVO="RUDDER"/>
          <set VALUE="@ROLL" SERVO="AILERON_RIGHT"/>
        </command_laws>
        <section PREFIX="AHRS_" NAME="AHRS">
          <define VALUE="0.51562740288882" NAME="H_X"/>
          <define VALUE="-0.05707735220832" NAME="H_Y"/>
          <define VALUE="0.85490967783446" NAME="H_Z"/>
        </section>
        <section PREFIX="IMU_" NAME="IMU">
          <define VALUE="0" NAME="GYRO_P_NEUTRAL"/>
          <define VALUE="0" NAME="GYRO_Q_NEUTRAL"/>
          <define VALUE="0" NAME="GYRO_R_NEUTRAL"/>
          <define VALUE="4.359" NAME="GYRO_P_SENS" INTEGER="16"/>
          <define VALUE="4.359" NAME="GYRO_Q_SENS" INTEGER="16"/>
          <define VALUE="4.359" NAME="GYRO_R_SENS" INTEGER="16"/>
          <define VALUE="0" NAME="ACCEL_X_NEUTRAL"/>
          <define VALUE="0" NAME="ACCEL_Y_NEUTRAL"/>
          <define VALUE="0" NAME="ACCEL_Z_NEUTRAL"/>
          <define VALUE="4.905" NAME="ACCEL_X_SENS" INTEGER="16"/>
          <define VALUE="4.905" NAME="ACCEL_Y_SENS" INTEGER="16"/>
          <define VALUE="4.905" NAME="ACCEL_Z_SENS" INTEGER="16"/>
          <define VALUE="0" NAME="MAG_X_NEUTRAL"/>
          <define VALUE="0" NAME="MAG_Y_NEUTRAL"/>
          <define VALUE="0" NAME="MAG_Z_NEUTRAL"/>
          <define VALUE="1" NAME="MAG_X_SENS" INTEGER="16"/>
          <define VALUE="1" NAME="MAG_Y_SENS" INTEGER="16"/>
          <define VALUE="1" NAME="MAG_Z_SENS" INTEGER="16"/>
          <define VALUE="1" NAME="GYRO_P_SIGN"/>
          <define VALUE="1" NAME="GYRO_Q_SIGN"/>
          <define VALUE="1" NAME="GYRO_R_SIGN"/>
          <define VALUE="1" NAME="ACCEL_X_SIGN"/>
          <define VALUE="1" NAME="ACCEL_Y_SIGN"/>
          <define VALUE="1" NAME="ACCEL_Z_SIGN"/>
          <define VALUE="1" NAME="MAG_X_SIGN"/>
          <define VALUE="1" NAME="MAG_Y_SIGN"/>
          <define VALUE="1" NAME="MAG_Z_SIGN"/>
          <define VALUE="-0.085" NAME="BODY_TO_IMU_PHI"/>
          <define VALUE="-0.09" NAME="BODY_TO_IMU_THETA"/>
          <define VALUE="0." NAME="BODY_TO_IMU_PSI"/>
        </section>
        <section PREFIX="INS_" NAME="INS">
          <define VALUE="5.6" UNIT="deg" NAME="ROLL_NEUTRAL_DEFAULT"/>
          <define VALUE="5.35" UNIT="deg" NAME="PITCH_NEUTRAL_DEFAULT"/>
        </section>
        <section PREFIX="COMMAND_" NAME="TRIM">
          <define VALUE="0." NAME="ROLL_TRIM"/>
          <define VALUE="0." NAME="PITCH_TRIM"/>
        </section>
        <section PREFIX="AUTO1_" NAME="AUTO1">
          <define VALUE="0.9" NAME="MAX_ROLL"/>
          <define VALUE="0.9" NAME="MAX_PITCH"/>
        </section>
        <section NAME="BAT">
          <define VALUE="11.5" NAME="VoltageOfAdc(adc)"/>
          <define VALUE="12.4" UNIT="V" NAME="MAX_BAT_LEVEL"/>
          <define VALUE="10.4" UNIT="V" NAME="LOW_BAT_LEVEL"/>
          <define VALUE="10.0" UNIT="V" NAME="CRITIC_BAT_LEVEL"/>
          <define VALUE="9.3" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
        </section>
        <section NAME="MISC">
          <define VALUE="13." UNIT="m/s" NAME="NOMINAL_AIRSPEED"/>
          <define VALUE="5." UNIT="s" NAME="CARROT"/>
          <define VALUE="60" UNIT="Hz" NAME="CCONTROL_FREQUENCY"/>
          <define VALUE="TRUE" NAME="ALT_KALMAN_ENABLED"/>
          <define VALUE="80." NAME="DEFAULT_CIRCLE_RADIUS"/>
          <define VALUE="0." NAME="NAV_GLIDE_PITCH_TRIM"/>
        </section>
        <section PREFIX="V_CTL_" NAME="VERTICAL CONTROL">
          <define VALUE="11.1" UNIT="volt" NAME="POWER_CTL_BAT_NOMINAL"/>
          <define VALUE="0.104999996722" NAME="ALTITUDE_PGAIN"/>
          <define VALUE="3." NAME="ALTITUDE_MAX_CLIMB"/>
          <define VALUE="0.0960000008345" NAME="ALTITUDE_PRE_CLIMB_CORRECTION"/>
          <define VALUE="0.6" NAME="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE"/>
          <define VALUE="0.4" NAME="AUTO_THROTTLE_MIN_CRUISE_THROTTLE"/>
          <define VALUE="0.9" NAME="AUTO_THROTTLE_MAX_CRUISE_THROTTLE"/>
          <define VALUE="1500" NAME="AUTO_THROTTLE_LOITER_TRIM"/>
          <define VALUE="-4000" NAME="AUTO_THROTTLE_DASH_TRIM"/>
          <define VALUE="0.5" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT"/>
          <define VALUE="0.00" NAME="AUTO_THROTTLE_PGAIN"/>
          <define VALUE="0." NAME="AUTO_THROTTLE_IGAIN"/>
          <define VALUE="0.3" NAME="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN"/>
          <define VALUE="0.8" UNIT="s" NAME="THROTTLE_SLEW_LIMITER"/>
        </section>
        <section PREFIX="H_CTL_" NAME="HORIZONTAL CONTROL">
          <define VALUE="1.1" NAME="COURSE_PGAIN"/>
          <define VALUE="0.1" NAME="COURSE_DGAIN"/>
          <define VALUE="0.9" NAME="COURSE_PRE_BANK_CORRECTION"/>
          <define VALUE="0.6" UNIT="radians" NAME="ROLL_MAX_SETPOINT"/>
          <define VALUE="0.5" UNIT="radians" NAME="PITCH_MAX_SETPOINT"/>
          <define VALUE="-0.5" UNIT="radians" NAME="PITCH_MIN_SETPOINT"/>
          <define VALUE="12000" NAME="PITCH_PGAIN"/>
          <define VALUE="1.5" NAME="PITCH_DGAIN"/>
          <define VALUE="800" NAME="ELEVATOR_OF_ROLL"/>
          <define VALUE="1." NAME="ROLL_SLEW"/>
          <define VALUE="8000" NAME="ROLL_ATTITUDE_GAIN"/>
          <define VALUE="500" NAME="ROLL_RATE_GAIN"/>
        </section>
        <section PREFIX="AGR_" NAME="AGGRESSIVE">
          <define VALUE="50" NAME="BLEND_START"/>
          <define VALUE="30" NAME="BLEND_END"/>
          <define VALUE="0.99" NAME="CLIMB_THROTTLE"/>
          <define VALUE=".4" NAME="CLIMB_PITCH"/>
          <define VALUE="0.2" NAME="DESCENT_THROTTLE"/>
          <define VALUE="-0.4" NAME="DESCENT_PITCH"/>
          <define VALUE="0.8" NAME="CLIMB_NAV_RATIO"/>
          <define VALUE="0.99" NAME="DESCENT_NAV_RATIO"/>
        </section>
        <section PREFIX="FAILSAFE_" NAME="FAILSAFE">
          <define VALUE="0.3" UNIT="%" NAME="DEFAULT_THROTTLE"/>
          <define VALUE="0.2" UNIT="rad" NAME="DEFAULT_ROLL"/>
          <define VALUE="0.0" UNIT="rad" NAME="DEFAULT_PITCH"/>
          <define VALUE="DEFAULT_CIRCLE_RADIUS" UNIT="m" NAME="HOME_RADIUS"/>
          <define VALUE="(MAX_DIST_FROM_HOME*1.5)" NAME="KILL_MODE_DISTANCE"/>
          <define VALUE="3" UNIT="s" NAME="DELAY_WITHOUT_GPS"/>
        </section>
        <section PREFIX="PHOTOGRAMMETRY_" NAME="PHOTOGRAMMETRY">
          <define VALUE="24.0" UNIT="mm" NAME="FOCAL_LENGTH"/>
          <define VALUE="6.66" UNIT="mm" NAME="SENSOR_WIDTH"/>
          <define VALUE="5.32" UNIT="mm" NAME="SENSOR_HEIGHT"/>
          <define VALUE="4000" UNIT="" NAME="PIXELS_WIDTH"/>
          <define VALUE="0.3" UNIT="%" NAME="OVERLAP"/>
          <define VALUE="0.2" UNIT="%" NAME="SIDELAP"/>
          <define VALUE="50" UNIT="mm pixel projection" NAME="RESOLUTION"/>
          <define VALUE="50" UNIT="m" NAME="HEIGHT_MIN"/>
          <define VALUE="220" UNIT="m" NAME="HEIGHT_MAX"/>
          <define VALUE="60" UNIT="m" NAME="RADIUS_MIN"/>
        </section>
        <modules>
          <load NAME="gps_ubx_ucenter.xml"/>
          <load NAME="adc_generic.xml">
            <configure VALUE="4" NAME="ADC_CHANNEL_GENERIC1"/>
            <configure VALUE="1" NAME="ADC_CHANNEL_GENERIC2"/>
          </load>
        </modules>
        <firmware NAME="fixedwing">
          <target NAME="ap" BOARD="lisa_m_2.0">
            <configure VALUE="JTAG" NAME="FLASH_MODE"/>
            <configure VALUE="/dev/ttyACM0" NAME="BMP_PORT"/>
            <define NAME="LISA_M_LONGITUDINAL_X_FRONT"/>
            <define NAME="SENSOR_SYNC_SEND"/>
            <configure VALUE="120" NAME="PERIODIC_FREQUENCY"/>
            <configure VALUE="100" NAME="AHRS_PROPAGATE_FREQUENCY"/>
            <configure VALUE="100" NAME="AHRS_CORRECT_FREQUENCY"/>
            <define NAME="AHRS_TRIGGERED_ATTITUDE_LOOP"/>
            <define NAME="USE_I2C2"/>
            <define NAME="USE_0"/>
            <define NAME="USE_1"/>
            <configure VALUE="1" NAME="AHRS_ALIGNER_LED"/>
            <configure VALUE="1" NAME="CPU_LED"/>
            <subsystem TYPE="spektrum" NAME="radio_control">
              <define VALUE="RADIO_GEAR" NAME="RADIO_MODE"/>
              <define VALUE="RADIO_FLAP" NAME="RADIO_KILL_SWITCH"/>
            </subsystem>
          </target>
          <target NAME="sim" BOARD="pc">
            <subsystem TYPE="ppm" NAME="radio_control"/>
          </target>
          <define NAME="AGR_CLIMB"/>
          <define NAME="LOITER_TRIM"/>
          <define NAME="ALT_KALMAN"/>
          <define NAME="TUNE_AGRESSIVE_CLIMB"/>
          <define NAME="STRONG_WIND"/>
          <define NAME="WIND_INFO"/>
          <define NAME="WIND_INFO_RET"/>
          <subsystem TYPE="aspirin_v2.1" NAME="imu"/>
          <subsystem TYPE="float_dcm" NAME="ahrs">
            <define VALUE="FALSE" NAME="USE_MAGNETOMETER"/>
          </subsystem>
          <define NAME="USE_SERVOS_7AND8"/>
          <subsystem TYPE="transparent" NAME="telemetry">
            <configure VALUE="B57600" NAME="MODEM_BAUD"/>
            <configure VALUE="UART2" NAME="MODEM_PORT"/>
          </subsystem>
          <subsystem NAME="control"/>
          <subsystem TYPE="ublox" NAME="gps">
            <configure VALUE="UART3" NAME="GPS_PORT"/>
            <configure VALUE="B38400" NAME="GPS_BAUD"/>
          </subsystem>
          <subsystem TYPE="extra" NAME="navigation"/>
          <subsystem TYPE="alt_float" NAME="ins"/>
          <target NAME="test_spektrum" BOARD="lisa_m_2.0"/>
        </firmware>
      </airframe>
      <telemetry>
        <process NAME="Ap">
          <mode NAME="default">
            <message PERIOD="1.4" NAME="AIRSPEED"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="0.5" NAME="GPS"/>
            <message PERIOD="1." NAME="NAVIGATION"/>
            <message PERIOD="0.7" NAME="ATTITUDE"/>
            <message PERIOD="0.6" NAME="ESTIMATOR"/>
            <message PERIOD="2.5" NAME="ENERGY"/>
            <message PERIOD="1.1" NAME="WP_MOVED"/>
            <message PERIOD="1.05" NAME="CIRCLE"/>
            <message PERIOD="1.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="1.2" NAME="SEGMENT"/>
            <message PERIOD="2.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="SETTINGS"/>
            <message PERIOD="2.2" NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.2" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="2.0" NAME="GPS_SOL"/>
            <message PERIOD=".8" NAME="IMU_ACCEL"/>
            <message PERIOD=".9" NAME="IMU_GYRO"/>
            <message PERIOD="1.9" NAME="IMU_MAG"/>
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
          </mode>
          <mode NAME="minimal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="4" NAME="ATTITUDE"/>
            <message PERIOD="1.05" NAME="GPS"/>
            <message PERIOD="1.3" NAME="ESTIMATOR"/>
            <message PERIOD="1.4" NAME="WP_MOVED"/>
            <message PERIOD="3.05" NAME="CIRCLE"/>
            <message PERIOD="4.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="3.2" NAME="SEGMENT"/>
            <message PERIOD="5.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="3." NAME="NAVIGATION"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="5.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="5.0" NAME="GPS_SOL"/>
          </mode>
          <mode NAME="extremal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="7.5" NAME="PPRZ_MODE"/>
            <message PERIOD="8." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".05" NAME="IMU_MAG_RAW"/>
            <message PERIOD="0.5" NAME="BARO_RAW"/>
          </mode>
          <mode NAME="scaled_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".075" NAME="IMU_GYRO"/>
            <message PERIOD=".075" NAME="IMU_ACCEL"/>
            <message PERIOD=".1" NAME="IMU_MAG"/>
          </mode>
          <mode NAME="debug_imu">
            <message PERIOD="0.1" NAME="ATTITUDE"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="5.5" NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
            <message PERIOD=".5" NAME="IMU_ACCEL"/>
            <message PERIOD=".5" NAME="IMU_GYRO"/>
            <message PERIOD=".5" NAME="IMU_MAG"/>
            <message PERIOD=".5" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".5" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".5" NAME="IMU_MAG_RAW"/>
          </mode>
        </process>
        <process NAME="Fbw">
          <mode NAME="default">
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
          <mode NAME="debug">
            <message PERIOD="0.5" NAME="PPM"/>
            <message PERIOD="0.5" NAME="RC"/>
            <message PERIOD="0.5" NAME="COMMANDS"/>
            <message PERIOD="1" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="flight params">
            <dl_setting VAR="flight_altitude" STEP="10" SHORTNAME="altitude" MIN="0" MAX="1000"/>
            <dl_setting VAR="nav_course" STEP="1" MIN="0" MAX="360"/>
            <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-10" MAX="10" HANDLER="IncreaseShift"/>
            <dl_setting VAR="autopilot_flight_time" STEP="1" SHORTNAME="flight time" MODULE="autopilot" MIN="0" MAX="0" HANDLER="ResetFlightTimeAndLaunch"/>
            <dl_setting VAR="nav_radius" STEP="10" MODULE="firmwares/fixedwing/nav" MIN="-200" MAX="200" HANDLER="SetNavRadius">
              <strip_button VALUE="1" NAME="Circle right" ICON="circle-right.png" GROUP="circle"/>
              <strip_button VALUE="-1" NAME="Circle left" ICON="circle-left.png" GROUP="circle"/>
              <key_press VALUE="1" KEY="greater"/>
              <key_press VALUE="-1" KEY="less"/>
            </dl_setting>
          </dl_settings>
          <dl_settings NAME="mode">
            <dl_setting VAR="pprz_mode" VALUES="MANUAL|AUTO1|AUTO2|HOME|NOGPS|FAILSAFE" STEP="1" MODULE="autopilot" MIN="0" MAX="2"/>
            <dl_setting VAR="launch" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="kill_throttle" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="gps.reset" STEP="1" SHORTNAME="GPS reset" MODULE="subsystems/gps" MIN="0" MAX="2" HANDLER="Reset"/>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <aircraft name="Samsara" ac_id="215" airframe="airframes/OpenUAS/openuas_samsara.xml" radio="radios/OpenUAS/openuas_mx22_pprz-ap.xml" telemetry="telemetry/default_fixedwing_imu_9k6.xml" flight_plan="flight_plans/versatile.xml" settings="settings/fixedwing_basic.xml settings/control/ctl_basic.xml settings/estimation/ins_neutrals.xml" gui_color="white">
      <radio SYNC_MIN="4000" SYNC_MAX="20000" PULSE_TYPE="NEGATIVE" NAME="MX22 PPRZ adherance" DATA_MIN="700" DATA_MAX="2300">
        <channel NEUTRAL="1500" MIN="1900" MAX="1100" FUNCTION="ROLL" CTL="A" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="PITCH" CTL="B" AVERAGE="0"/>
        <channel NEUTRAL="1100" MIN="1100" MAX="1900" FUNCTION="THROTTLE" CTL="C" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="YAW" CTL="D" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MODE" CTL="E" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="EXTRA1" CTL="F" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="FLAPS" CTL="G" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="NOTUSED1" CTL="SW1" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MANUALRELEASE" CTL="CONTROL9" AVERAGE="0"/>
      </radio>
      <dump>
        <flight_plan security_height="25" qfu="270" name="Versatile" max_dist_from_home="1500" lon0="1.2729" lat0="43.4622" home_mode_height="50" ground_alt="185" alt="260">
          <header>#include &quot;subsystems/datalink/datalink.h&quot;</header>
          <waypoints>
            <waypoint y="0" x="0" name="HOME"/>
            <waypoint y="80" x="20" name="STDBY"/>
            <waypoint y="102.2" x="44.8" name="1"/>
            <waypoint y="122.9" x="-63.5" name="2"/>
            <waypoint y="-21.2" x="-11.5" name="MOB"/>
            <waypoint y="80.4" x="-151.6" name="S1"/>
            <waypoint y="214.9" x="180.1" name="S2"/>
            <waypoint y="-10" x="200" name="AF" alt="215.0"/>
            <waypoint y="20.0" x="80.0" name="TD" alt="185.0"/>
            <waypoint y="-23.0" x="26.9" name="BASELEG"/>
            <waypoint y="0" x="-100" name="_1"/>
            <waypoint y="200" x="-100" name="_2"/>
            <waypoint y="200" x="100" name="_3"/>
            <waypoint y="0" x="100" name="_4"/>
            <waypoint y="35.4" x="-122.5" name="CLIMB"/>
          </waypoints>
          <sectors>
            <sector name="Square">
              <corner name="_1"/>
              <corner name="_2"/>
              <corner name="_3"/>
              <corner name="_4"/>
            </sector>
          </sectors>
          <exceptions/>
          <blocks>
            <block name="Wait GPS" no="0">
              <set var="kill_throttle" value="1" no="0"/>
              <while cond="!GpsFixValid()" no="1"/>
            </block>
            <block name="Geo init" no="1">
              <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
            </block>
            <block name="Holding point" no="2">
              <set var="kill_throttle" value="1" no="0"/>
              <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff (wp CLIMB)" name="Takeoff" no="3">
              <exception deroute="Standby" cond="GetPosAlt() > GetAltRef()+25"/>
              <set var="kill_throttle" value="0" no="0"/>
              <go wp="CLIMB" no="1"/>
            </block>
            <block strip_icon="home.png" strip_button="Standby" name="Standby" no="4">
              <circle wp="STDBY" radius="nav_radius" no="0"/>
            </block>
            <block strip_icon="line.png" strip_button="Line (wp 1-2)" name="Line 1-2" group="extra_pattern" no="5">
              <call fun="nav_line_setup()" no="0"/>
              <call fun="nav_line_run(WP_1, WP_2, nav_radius)" no="1"/>
            </block>
            <block strip_icon="eight.png" strip_button="Figure 8 (wp 1-2)" name="Figure 8 around wp 1" no="6">
              <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
            </block>
            <block strip_icon="oval.png" strip_button="Oval (wp 1-2)" name="Oval 1-2" no="7">
              <oval radius="nav_radius" p2="2" p1="1" no="1"/>
            </block>
            <block strip_icon="mob.png" strip_button="Circle around here" name="MOB" no="8">
              <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
              <circle wp="MOB" radius="100" no="1"/>
            </block>
            <block name="Auto pitch (circle wp 1)" no="9">
              <circle wp="1" throttle="0.7" radius="75" pitch="auto" no="0"/>
            </block>
            <block name="Climb 75% throttle" no="10">
              <circle wp="1" vmode="throttle" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" throttle="0.75" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="10" no="0"/>
            </block>
            <block name="Climb 0m/s" no="11">
              <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="nav_radius" climb="0" no="0"/>
            </block>
            <block name="Climb 1m/s" no="12">
              <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="5" climb="1" no="0"/>
            </block>
            <block name="Climb nav_climb m/s" no="13">
              <circle wp="1" vmode="climb" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" radius="nav_radius" climb="nav_climb" no="0"/>
            </block>
            <block name="Circle 0% throttle" no="14">
              <circle wp="1" vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" no="0"/>
              <deroute block="Standby" no="1"/>
            </block>
            <block name="Oval 0% throttle" no="15">
              <oval vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" p2="2" p1="1" no="1"/>
              <deroute block="Standby" no="2"/>
            </block>
            <block name="Route 1-2" no="16">
              <go wp="2" hmode="route" from="1" approaching_time="0" no="0"/>
            </block>
            <block name="Stack wp 2" no="17">
              <circle wp="2" radius="75" no="0"/>
            </block>
            <block name="Route 2-1" no="18">
              <go wp="1" hmode="route" from="2" approaching_time="0" no="0"/>
            </block>
            <block name="Stack wp 1" no="19">
              <circle wp="1" radius="75" no="0"/>
            </block>
            <block name="Glide 1-2" no="20">
              <go wp="2" vmode="glide" hmode="route" from="1" no="0"/>
              <deroute block="Standby" no="1"/>
            </block>
            <block strip_icon="survey.png" strip_button="Survey (wp S1-S2)" name="Survey S1-S2" no="21">
              <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
            </block>
            <block strip_icon="land-right.png" strip_button="Land right (wp AF-TD)" name="Land Right AF-TD" no="22">
              <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block strip_icon="land-left.png" strip_button="Land left (wp AF-TD)" name="Land Left AF-TD" no="23">
              <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block name="land" no="24">
              <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP_BASELEG, nav_radius)" no="0"/>
              <circle wp="BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
              <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MIN_CRUISE_THROTTLE" no="2"/>
              <circle wp="BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 10 > fabs(GetPosAlt() - WaypointAlt(WP_BASELEG))" radius="nav_radius" no="3"/>
            </block>
            <block name="final" no="25">
              <exception deroute="flare" cond="GetAltRef() + 10 > GetPosAlt()"/>
              <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
            </block>
            <block name="flare" no="26">
              <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
            </block>
            <block name="Steps roll -10, +10" no="27">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
                <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
              </while>
            </block>
            <block name="Steps roll -20, +20" no="28">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
                <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
              </while>
            </block>
            <block name="Steps pitch -10, +10" no="29">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
                <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
              </while>
            </block>
            <block name="Heading 30" no="30">
              <heading until="FALSE" course="30" alt="GetAltRef()+50" no="0"/>
            </block>
            <block name="For loop (circles wp 1)" no="31">
              <for var="i" to="3" from="0" no="1">
                <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
              </for>
              <deroute block="Standby" no="4"/>
            </block>
            <block name="Test datalink (go to wp 2)" no="32">
              <exception deroute="Standby" cond="datalink_time > 22"/>
              <go wp="2" hmode="route" from="STDBY" no="0"/>
              <go wp="STDBY" hmode="route" from="2" no="1"/>
            </block>
            <block name="Fly in Square" no="33">
              <exception deroute="Come back wp 1" cond="! InsideSquare(GetPosX(), GetPosY())"/>
              <attitude vmode="alt" roll="0" alt="GetAltRef()+75" no="0"/>
            </block>
            <block name="Come back wp 1" no="34">
              <exception deroute="Fly in Square" cond="InsideSquare(GetPosX(), GetPosY())"/>
              <go wp="1" no="0"/>
              <deroute block="Fly in Square" no="1"/>
            </block>
            <block name="HOME" no="35">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="35" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="34" block_name="Come back wp 1" stage="1">
            <deroute block="Fly in Square" no="1"/>
          </stage>
          <stage block="34" block_name="Come back wp 1" stage="0">
            <go wp="1" no="0"/>
          </stage>
          <stage block="33" block_name="Fly in Square" stage="0">
            <attitude vmode="alt" roll="0" alt="GetAltRef()+75" no="0"/>
          </stage>
          <stage block="32" block_name="Test datalink (go to wp 2)" stage="1">
            <go wp="STDBY" hmode="route" from="2" no="1"/>
          </stage>
          <stage block="32" block_name="Test datalink (go to wp 2)" stage="0">
            <go wp="2" hmode="route" from="STDBY" no="0"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="4">
            <deroute block="Standby" no="4"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="2">
            <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="1">
            <for var="i" to="3" from="0" no="1">
              <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
            </for>
          </stage>
          <stage block="30" block_name="Heading 30" stage="0">
            <heading until="FALSE" course="30" alt="GetAltRef()+50" no="0"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="2">
            <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="1">
            <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
              <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="2">
            <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="1">
            <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
              <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="2">
            <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="1">
            <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
              <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="26" block_name="flare" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
          </stage>
          <stage block="26" block_name="flare" stage="0">
            <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
          </stage>
          <stage block="25" block_name="final" stage="0">
            <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
          </stage>
          <stage block="24" block_name="land" stage="3">
            <circle wp="BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 10 > fabs(GetPosAlt() - WaypointAlt(WP_BASELEG))" radius="nav_radius" no="3"/>
          </stage>
          <stage block="24" block_name="land" stage="2">
            <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MIN_CRUISE_THROTTLE" no="2"/>
          </stage>
          <stage block="24" block_name="land" stage="1">
            <circle wp="BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
          </stage>
          <stage block="24" block_name="land" stage="0">
            <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP_BASELEG, nav_radius)" no="0"/>
          </stage>
          <stage block="23" block_name="Land Left AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="23" block_name="Land Left AF-TD" stage="0">
            <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="22" block_name="Land Right AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="22" block_name="Land Right AF-TD" stage="0">
            <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="21" block_name="Survey S1-S2" stage="1">
            <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
          </stage>
          <stage block="20" block_name="Glide 1-2" stage="1">
            <deroute block="Standby" no="1"/>
          </stage>
          <stage block="20" block_name="Glide 1-2" stage="0">
            <go wp="2" vmode="glide" hmode="route" from="1" no="0"/>
          </stage>
          <stage block="19" block_name="Stack wp 1" stage="0">
            <circle wp="1" radius="75" no="0"/>
          </stage>
          <stage block="18" block_name="Route 2-1" stage="0">
            <go wp="1" hmode="route" from="2" approaching_time="0" no="0"/>
          </stage>
          <stage block="17" block_name="Stack wp 2" stage="0">
            <circle wp="2" radius="75" no="0"/>
          </stage>
          <stage block="16" block_name="Route 1-2" stage="0">
            <go wp="2" hmode="route" from="1" approaching_time="0" no="0"/>
          </stage>
          <stage block="15" block_name="Oval 0% throttle" stage="2">
            <deroute block="Standby" no="2"/>
          </stage>
          <stage block="15" block_name="Oval 0% throttle" stage="1">
            <oval vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="14" block_name="Circle 0% throttle" stage="1">
            <deroute block="Standby" no="1"/>
          </stage>
          <stage block="14" block_name="Circle 0% throttle" stage="0">
            <circle wp="1" vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" no="0"/>
          </stage>
          <stage block="13" block_name="Climb nav_climb m/s" stage="0">
            <circle wp="1" vmode="climb" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" radius="nav_radius" climb="nav_climb" no="0"/>
          </stage>
          <stage block="12" block_name="Climb 1m/s" stage="0">
            <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="5" climb="1" no="0"/>
          </stage>
          <stage block="11" block_name="Climb 0m/s" stage="0">
            <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="nav_radius" climb="0" no="0"/>
          </stage>
          <stage block="10" block_name="Climb 75% throttle" stage="0">
            <circle wp="1" vmode="throttle" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" throttle="0.75" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="10" no="0"/>
          </stage>
          <stage block="9" block_name="Auto pitch (circle wp 1)" stage="0">
            <circle wp="1" throttle="0.7" radius="75" pitch="auto" no="0"/>
          </stage>
          <stage block="8" block_name="MOB" stage="1">
            <circle wp="MOB" radius="100" no="1"/>
          </stage>
          <stage block="8" block_name="MOB" stage="0">
            <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
          </stage>
          <stage block="7" block_name="Oval 1-2" stage="1">
            <oval radius="nav_radius" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="6" block_name="Figure 8 around wp 1" stage="1">
            <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
          </stage>
          <stage block="5" block_name="Line 1-2" stage="1">
            <call fun="nav_line_run(WP_1, WP_2, nav_radius)" no="1"/>
          </stage>
          <stage block="5" block_name="Line 1-2" stage="0">
            <call fun="nav_line_setup()" no="0"/>
          </stage>
          <stage block="4" block_name="Standby" stage="0">
            <circle wp="STDBY" radius="nav_radius" no="0"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="1">
            <go wp="CLIMB" no="1"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="0">
            <set var="kill_throttle" value="0" no="0"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="1">
            <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="0">
            <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="1">
            <while cond="!GpsFixValid()" no="1"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Mentor">
        <firmware NAME="fixedwing">
          <target NAME="sim" BOARD="pc"/>
          <target NAME="ap" BOARD="lisa_m_1.0"/>
          <subsystem TYPE="ppm" NAME="radio_control"/>
          <subsystem TYPE="transparent" NAME="telemetry">
            <configure VALUE="B57600" NAME="MODEM_BAUD"/>
            <configure VALUE="UART2" NAME="MODEM_PORT"/>
          </subsystem>
          <subsystem NAME="control"/>
          <subsystem TYPE="infrared" NAME="attitude"/>
          <subsystem TYPE="ublox" NAME="gps">
            <configure VALUE="UART3" NAME="GPS_PORT"/>
          </subsystem>
          <subsystem NAME="navigation"/>
        </firmware>
        <firmware NAME="lisa_test_progs">
          <target NAME="tunnel" BOARD="lisa_l_1.0"/>
          <target NAME="test_led" BOARD="lisa_l_1.0"/>
          <target NAME="test_uart" BOARD="lisa_l_1.0"/>
          <target NAME="test_servos" BOARD="lisa_l_1.0"/>
          <target NAME="test_telemetry" BOARD="lisa_l_1.0"/>
          <target NAME="test_baro" BOARD="lisa_l_1.0"/>
          <target NAME="test_imu_aspirin" BOARD="lisa_l_1.0"/>
          <target NAME="test_rc_spektrum" BOARD="lisa_l_1.0"/>
          <target NAME="test_rc_ppm" BOARD="lisa_l_1.0"/>
          <target NAME="test_adc" BOARD="lisa_l_1.0"/>
          <target NAME="test_hmc5843" BOARD="lisa_l_1.0"/>
          <target NAME="test_itg3200" BOARD="lisa_l_1.0"/>
          <target NAME="test_adxl345" BOARD="lisa_l_1.0"/>
        </firmware>
        <section PREFIX="IMU_" NAME="IMU">
          <define VALUE="-82" NAME="GYRO_P_NEUTRAL"/>
          <define VALUE="6" NAME="GYRO_Q_NEUTRAL"/>
          <define VALUE="-13" NAME="GYRO_R_NEUTRAL"/>
          <define VALUE="4.412" NAME="GYRO_P_SENS" INTEGER="16"/>
          <define VALUE="4.412" NAME="GYRO_Q_SENS" INTEGER="16"/>
          <define VALUE="4.412" NAME="GYRO_R_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="GYRO_PQ_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="GYRO_PR_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="GYRO_QR_SENS" INTEGER="16"/>
          <define VALUE="13" NAME="ACCEL_X_NEUTRAL"/>
          <define VALUE="-1" NAME="ACCEL_Y_NEUTRAL"/>
          <define VALUE="-7" NAME="ACCEL_Z_NEUTRAL"/>
          <define VALUE="38.3290362827" NAME="ACCEL_X_SENS" INTEGER="16"/>
          <define VALUE="39.0356011103" NAME="ACCEL_Y_SENS" INTEGER="16"/>
          <define VALUE="39.9829500484" NAME="ACCEL_Z_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="ACCEL_XY_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="ACCEL_XZ_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="ACCEL_YZ_SENS" INTEGER="16"/>
          <define VALUE="0" NAME="MAG_X_NEUTRAL"/>
          <define VALUE="0" NAME="MAG_Y_NEUTRAL"/>
          <define VALUE="0" NAME="MAG_Z_NEUTRAL"/>
          <define VALUE="1." NAME="MAG_X_SENS" INTEGER="16"/>
          <define VALUE="1." NAME="MAG_Y_SENS" INTEGER="16"/>
          <define VALUE="1." NAME="MAG_Z_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="MAG_XY_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="MAG_XZ_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="MAG_YZ_SENS" INTEGER="16"/>
        </section>
        <commands>
          <axis NAME="THROTTLE" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="0"/>
          <axis NAME="PITCH" FAILSAFE_VALUE="0"/>
          <axis NAME="YAW" FAILSAFE_VALUE="0"/>
        </commands>
        <servos>
          <servo NO="0" NEUTRAL="1500" NAME="AILERON_RIGHT" MIN="2000" MAX="1000"/>
          <servo NO="2" NEUTRAL="1500" NAME="ELEVATOR" MIN="2000" MAX="1000"/>
          <servo NO="3" NEUTRAL="1000" NAME="THROTTLE" MIN="1000" MAX="2000"/>
          <servo NO="4" NEUTRAL="1500" NAME="RUDDER" MIN="2000" MAX="1000"/>
          <servo NO="6" NEUTRAL="1500" NAME="AILERON_LEFT" MIN="2000" MAX="1000"/>
          <servo NO="7" NEUTRAL="1500" NAME="SWITCH" MIN="1000" MAX="2000"/>
        </servos>
        <rc_commands>
          <set VALUE="@ROLL" COMMAND="ROLL"/>
          <set VALUE="@PITCH" COMMAND="PITCH"/>
          <set VALUE="@THROTTLE" COMMAND="THROTTLE"/>
          <set VALUE="@YAW" COMMAND="YAW"/>
        </rc_commands>
        <auto_rc_commands/>
        <section NAME="MIXER">
          <define VALUE="0.66" NAME="AILERON_DIFF"/>
          <define VALUE="0.3" NAME="COMBI_SWITCH"/>
        </section>
        <command_laws>
          <set VALUE="@THROTTLE" SERVO="THROTTLE"/>
          <set VALUE="@PITCH" SERVO="ELEVATOR"/>
          <set VALUE="@YAW + @ROLL*COMBI_SWITCH" SERVO="RUDDER"/>
          <let VAR="roll" VALUE="@ROLL"/>
          <set VALUE="($roll > 0 ? 1 : AILERON_DIFF) * $roll" SERVO="AILERON_LEFT"/>
          <set VALUE="($roll > 0 ? AILERON_DIFF : 1) * $roll" SERVO="AILERON_RIGHT"/>
        </command_laws>
        <section PREFIX="AUTO1_" NAME="AUTO1">
          <define VALUE="RadOfDeg(95)" NAME="MAX_ROLL"/>
          <define VALUE="RadOfDeg(95)" NAME="MAX_PITCH"/>
        </section>
        <section NAME="BAT">
          <define VALUE="10000" UNIT="mA" NAME="MILLIAMP_AT_FULL_THROTTLE"/>
          <define VALUE="9.3" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
          <define VALUE="9.6" UNIT="V" NAME="CRITIC_BAT_LEVEL"/>
          <define VALUE="10.0" UNIT="V" NAME="LOW_BAT_LEVEL"/>
          <define VALUE="12.6" UNIT="V" NAME="MAX_BAT_LEVEL"/>
        </section>
        <section NAME="MISC">
          <define VALUE="12." UNIT="m/s" NAME="MINIMUM_AIRSPEED"/>
          <define VALUE="16." UNIT="m/s" NAME="NOMINAL_AIRSPEED"/>
          <define VALUE="22." UNIT="m/s" NAME="MAXIMUM_AIRSPEED"/>
          <define VALUE="5." UNIT="s" NAME="CARROT"/>
          <define VALUE="(1.5*MAX_DIST_FROM_HOME)" NAME="KILL_MODE_DISTANCE"/>
          <define VALUE="60" UNIT="Hz" NAME="CONTROL_RATE"/>
          <define VALUE="TRUE" NAME="ALT_KALMAN_ENABLED"/>
          <define VALUE="1." NAME="TRIGGER_DELAY"/>
          <define VALUE="50." NAME="DEFAULT_CIRCLE_RADIUS"/>
          <define VALUE="50." NAME="MIN_CIRCLE_RADIUS"/>
        </section>
        <section PREFIX="V_CTL_" NAME="VERTICAL CONTROL">
          <define VALUE="11.1" UNIT="volt" NAME="POWER_CTL_BAT_NOMINAL"/>
          <define VALUE="0.06" NAME="ALTITUDE_PGAIN"/>
          <define VALUE="2." NAME="ALTITUDE_MAX_CLIMB"/>
          <define VALUE="0.45" NAME="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE"/>
          <define VALUE="0.35" NAME="AUTO_THROTTLE_MIN_CRUISE_THROTTLE"/>
          <define VALUE="0.85" NAME="AUTO_THROTTLE_MAX_CRUISE_THROTTLE"/>
          <define VALUE="0.2" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT"/>
          <define VALUE="0.023" NAME="AUTO_THROTTLE_PGAIN"/>
          <define VALUE="0.01" NAME="AUTO_THROTTLE_IGAIN"/>
          <define VALUE="0.05" NAME="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN"/>
          <define VALUE="0.06" NAME="AUTO_PITCH_PGAIN"/>
          <define VALUE="0.0" NAME="AUTO_PITCH_IGAIN"/>
          <define VALUE="0.35" NAME="AUTO_PITCH_MAX_PITCH"/>
          <define VALUE="-0.35" NAME="AUTO_PITCH_MIN_PITCH"/>
          <define VALUE="0.1" NAME="THROTTLE_SLEW"/>
        </section>
        <section PREFIX="H_CTL_" NAME="HORIZONTAL CONTROL">
          <define VALUE="0.9" NAME="COURSE_PGAIN"/>
          <define VALUE="0.70" UNIT="radians" NAME="ROLL_MAX_SETPOINT"/>
          <define VALUE="0.5" UNIT="radians" NAME="PITCH_MAX_SETPOINT"/>
          <define VALUE="-0.5" UNIT="radians" NAME="PITCH_MIN_SETPOINT"/>
          <define VALUE="6600." NAME="ROLL_PGAIN"/>
          <define VALUE="0.0" NAME="AILERON_OF_THROTTLE"/>
          <define VALUE="5500." NAME="PITCH_PGAIN"/>
          <define VALUE="0.4" NAME="PITCH_DGAIN"/>
          <define VALUE="2400" NAME="ELEVATOR_OF_ROLL"/>
        </section>
        <section PREFIX="AGR_" NAME="AGGRESSIVE">
          <define VALUE="18" NAME="BLEND_START"/>
          <define VALUE="8" NAME="BLEND_END"/>
          <define VALUE="0.99" NAME="CLIMB_THROTTLE"/>
          <define VALUE="RadOfDeg(45)" NAME="CLIMB_PITCH"/>
          <define VALUE="0.5" NAME="DESCENT_THROTTLE"/>
          <define VALUE="RadOfDeg(-30)" NAME="DESCENT_PITCH"/>
          <define VALUE="0.8" NAME="CLIMB_NAV_RATIO"/>
          <define VALUE="0.99" NAME="DESCENT_NAV_RATIO"/>
        </section>
        <section NAME="SIMU">
          <define VALUE="0.5" NAME="YAW_RESPONSE_FACTOR"/>
        </section>
      </airframe>
      <telemetry>
        <process NAME="Ap">
          <mode NAME="default">
            <message PERIOD="1.4" NAME="AIRSPEED"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="0.5" NAME="GPS"/>
            <message PERIOD="1." NAME="NAVIGATION"/>
            <message PERIOD="0.7" NAME="ATTITUDE"/>
            <message PERIOD="0.6" NAME="ESTIMATOR"/>
            <message PERIOD="2.5" NAME="ENERGY"/>
            <message PERIOD="1.1" NAME="WP_MOVED"/>
            <message PERIOD="1.05" NAME="CIRCLE"/>
            <message PERIOD="1.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="1.2" NAME="SEGMENT"/>
            <message PERIOD="2.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="SETTINGS"/>
            <message PERIOD="2.2" NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.2" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="2.0" NAME="GPS_SOL"/>
            <message PERIOD=".8" NAME="IMU_ACCEL"/>
            <message PERIOD=".9" NAME="IMU_GYRO"/>
            <message PERIOD="1.9" NAME="IMU_MAG"/>
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
          </mode>
          <mode NAME="minimal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="4" NAME="ATTITUDE"/>
            <message PERIOD="1.05" NAME="GPS"/>
            <message PERIOD="1.3" NAME="ESTIMATOR"/>
            <message PERIOD="1.4" NAME="WP_MOVED"/>
            <message PERIOD="3.05" NAME="CIRCLE"/>
            <message PERIOD="4.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="3.2" NAME="SEGMENT"/>
            <message PERIOD="5.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="3." NAME="NAVIGATION"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="5.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="5.0" NAME="GPS_SOL"/>
          </mode>
          <mode NAME="extremal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="7.5" NAME="PPRZ_MODE"/>
            <message PERIOD="8." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".05" NAME="IMU_MAG_RAW"/>
            <message PERIOD="0.5" NAME="BARO_RAW"/>
          </mode>
          <mode NAME="scaled_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".075" NAME="IMU_GYRO"/>
            <message PERIOD=".075" NAME="IMU_ACCEL"/>
            <message PERIOD=".1" NAME="IMU_MAG"/>
          </mode>
          <mode NAME="debug_imu">
            <message PERIOD="0.1" NAME="ATTITUDE"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="5.5" NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
            <message PERIOD=".5" NAME="IMU_ACCEL"/>
            <message PERIOD=".5" NAME="IMU_GYRO"/>
            <message PERIOD=".5" NAME="IMU_MAG"/>
            <message PERIOD=".5" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".5" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".5" NAME="IMU_MAG_RAW"/>
          </mode>
        </process>
        <process NAME="Fbw">
          <mode NAME="default">
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
          <mode NAME="debug">
            <message PERIOD="0.5" NAME="PPM"/>
            <message PERIOD="0.5" NAME="RC"/>
            <message PERIOD="0.5" NAME="COMMANDS"/>
            <message PERIOD="1" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="flight params">
            <dl_setting VAR="flight_altitude" STEP="10" SHORTNAME="altitude" MIN="0" MAX="1000"/>
            <dl_setting VAR="nav_course" STEP="1" MIN="0" MAX="360"/>
            <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-10" MAX="10" HANDLER="IncreaseShift"/>
            <dl_setting VAR="autopilot_flight_time" STEP="1" SHORTNAME="flight time" MODULE="autopilot" MIN="0" MAX="0" HANDLER="ResetFlightTimeAndLaunch"/>
            <dl_setting VAR="nav_radius" STEP="10" MODULE="firmwares/fixedwing/nav" MIN="-200" MAX="200" HANDLER="SetNavRadius">
              <strip_button VALUE="1" NAME="Circle right" ICON="circle-right.png" GROUP="circle"/>
              <strip_button VALUE="-1" NAME="Circle left" ICON="circle-left.png" GROUP="circle"/>
              <key_press VALUE="1" KEY="greater"/>
              <key_press VALUE="-1" KEY="less"/>
            </dl_setting>
          </dl_settings>
          <dl_settings NAME="mode">
            <dl_setting VAR="pprz_mode" VALUES="MANUAL|AUTO1|AUTO2|HOME|NOGPS|FAILSAFE" STEP="1" MODULE="autopilot" MIN="0" MAX="2"/>
            <dl_setting VAR="launch" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="kill_throttle" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="gps.reset" STEP="1" SHORTNAME="GPS reset" MODULE="subsystems/gps" MIN="0" MAX="2" HANDLER="Reset"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="control">
            <dl_settings NAME="trim">
              <dl_setting VAR="ap_state->command_roll_trim" STEP="1" SHORTNAME="roll_trim" PARAM="COMMAND_ROLL_TRIM" MODULE="inter_mcu" MIN="-960" MAX="960"/>
              <dl_setting VAR="ap_state->command_pitch_trim" STEP="1" SHORTNAME="pitch_trim" PARAM="COMMAND_PITCH_TRIM" MIN="-960" MAX="960"/>
              <dl_setting VAR="ap_state->command_yaw_trim" STEP="1" SHORTNAME="yaw_trim" PARAM="COMMAND_YAW_TRIM" MIN="-9000" MAX="9000"/>
            </dl_settings>
            <dl_settings NAME="attitude">
              <dl_setting VAR="h_ctl_roll_pgain" STEP="250" SHORTNAME="roll_pgain" MODULE="stabilization/stabilization_attitude" MIN="000" MAX="25000"/>
              <dl_setting VAR="h_ctl_roll_max_setpoint" STEP="0.05" SHORTNAME="max_roll" PARAM="H_CTL_ROLL_MAX_SETPOINT" MIN="0" MAX="1"/>
              <dl_setting VAR="h_ctl_pitch_pgain" STEP="250" SHORTNAME="pitch_pgain" PARAM="H_CTL_PITCH_PGAIN" MIN="0" MAX="25000"/>
              <dl_setting VAR="h_ctl_pitch_dgain" STEP="10" SHORTNAME="pitch_dgain" PARAM="H_CTL_PITCH_DGAIN" MIN="0" MAX="50000"/>
              <dl_setting VAR="h_ctl_elevator_of_roll" STEP="100" SHORTNAME="elevator_of_roll" PARAM="H_CTL_ELEVATOR_OF_ROLL" MIN="0" MAX="5000"/>
              <dl_setting VAR="h_ctl_aileron_of_throttle" STEP="100" SHORTNAME="aileron_of_throttle" MIN="0" MAX="5000"/>
              <dl_setting VAR="h_ctl_roll_attitude_gain" STEP="250" SHORTNAME="roll attitude pgain" PARAM="H_CTL_ROLL_ATTITUDE_GAIN" MIN="0" MAX="15000"/>
              <dl_setting VAR="h_ctl_roll_rate_gain" STEP="250" SHORTNAME="roll rate gain" PARAM="H_CTL_ROLL_RATE_GAIN" MIN="0" MAX="15000"/>
            </dl_settings>
            <dl_settings NAME="alt">
              <dl_setting VAR="v_ctl_altitude_pgain" STEP="0.01" SHORTNAME="alt_pgain" PARAM="V_CTL_ALTITUDE_PGAIN" MIN="0" MAX="0.2"/>
            </dl_settings>
            <dl_settings NAME="auto_throttle">
              <dl_setting VAR="v_ctl_auto_throttle_cruise_throttle" STEP="0.05" SHORTNAME="cruise throttle" PARAM="V_CTL_AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE" MODULE="guidance/guidance_v" MIN="0.0" MAX="1" HANDLER="SetCruiseThrottle">
                <strip_button VALUE="0.1" NAME="Loiter" GROUP="dash_loiter"/>
                <strip_button VALUE="0" NAME="Cruise" GROUP="dash_loiter"/>
                <strip_button VALUE="1" NAME="Dash" GROUP="dash_loiter"/>
              </dl_setting>
              <dl_setting VAR="v_ctl_auto_throttle_pgain" STEP="0.005" SHORTNAME="throttle_pgain" PARAM="V_CTL_AUTO_THROTTLE_PGAIN" MIN="0.00" MAX="0.05"/>
              <dl_setting VAR="v_ctl_auto_throttle_igain" STEP="0.05" SHORTNAME="throttle_igain" PARAM="V_CTL_AUTO_THROTTLE_IGAIN" MIN="0.0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_dgain" STEP="0.1" SHORTNAME="throttle_dgain" MIN="0.0" MAX="2"/>
              <dl_setting VAR="v_ctl_auto_throttle_climb_throttle_increment" STEP="0.01" SHORTNAME="throttle_incr" PARAM="V_CTL_AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT" MIN="0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_pitch_of_vz_pgain" STEP="0.01" SHORTNAME="pitch_of_vz" PARAM="V_CTL_AUTO_THROTTLE_PITCH_OF_VZ_PGAIN" MIN="0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_pitch_of_vz_dgain" STEP="0.1" SHORTNAME="pitch_of_vz (d)" MIN="-10" MAX="10"/>
            </dl_settings>
            <dl_settings NAME="auto_pitch">
              <dl_setting VAR="v_ctl_auto_pitch_pgain" STEP="0.01" SHORTNAME="pgain" PARAM="V_CTL_AUTO_PITCH_PGAIN" MIN="0.01" MAX="0.1"/>
              <dl_setting VAR="v_ctl_auto_pitch_igain" STEP="0.01" SHORTNAME="igain" PARAM="V_CTL_AUTO_PITCH_IGAIN" MIN="0" MAX="1"/>
            </dl_settings>
            <dl_settings NAME="nav">
              <dl_setting VAR="h_ctl_course_pgain" STEP="0.05" SHORTNAME="course pgain" PARAM="H_CTL_COURSE_PGAIN" MIN="0.1" MAX="3"/>
              <dl_setting VAR="h_ctl_course_dgain" STEP="0.1" SHORTNAME="course dgain" PARAM="H_CTL_COURSE_DGAIN" MIN="0" MAX="2"/>
              <dl_setting VAR="h_ctl_course_pre_bank_correction" STEP="0.05" SHORTNAME="pre bank cor" PARAM="H_CTL_COURSE_PRE_BANK_CORRECTION" MIN="0.1" MAX="2"/>
              <dl_setting VAR="nav_glide_pitch_trim" STEP="0.05" SHORTNAME="glide pitch trim" PARAM="NAV_GLIDE_PITCH_TRIM" MIN="0.0" MAX="1"/>
              <dl_setting VAR="h_ctl_roll_slew" STEP="0.01" SHORTNAME="roll slew" MIN="0.02" MAX="1"/>
              <dl_setting VAR="nav_radius" STEP="5" MIN="-500" MAX="500"/>
              <dl_setting VAR="nav_course" STEP="5" MIN="0" MAX="359"/>
              <dl_setting VAR="nav_mode" STEP="1" MIN="1" MAX="2"/>
              <dl_setting VAR="nav_climb" STEP="0.5" MIN="-5" MAX="5"/>
              <dl_setting VAR="fp_pitch" STEP="1" MIN="-15" MAX="15"/>
              <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-50" MAX="50" HANDLER="IncreaseShift"/>
              <dl_setting VAR="nav_ground_speed_setpoint" STEP="0.5" SHORTNAME="ground speed" MIN="5" MAX="50"/>
              <dl_setting VAR="nav_ground_speed_pgain" STEP="0.01" SHORTNAME="ground speed pgain" MIN="0" MAX="0.2"/>
              <dl_setting VAR="nav_survey_shift" STEP="5" MIN="50" MAX="500"/>
            </dl_settings>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="ins">
            <dl_setting VAR="ins_roll_neutral" UNIT="rad" STEP="0.5" SHORTNAME="roll_neutral" PARAM="INS_ROLL_NEUTRAL_DEFAULT" MODULE="subsystems/ahrs" MIN="-15" MAX="15" ALT_UNIT="deg"/>
            <dl_setting VAR="ins_pitch_neutral" UNIT="rad" STEP="0.5" SHORTNAME="pitch_neutral" PARAM="INS_PITCH_NEUTRAL_DEFAULT" MIN="-15" MAX="15" ALT_UNIT="deg"/>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <aircraft name="TEST_Lisa_board" ac_id="224" airframe="airframes/examples/setup_lisam2.xml" radio="radios/cockpitSX.xml" telemetry="telemetry/dummy.xml" flight_plan="flight_plans/dummy.xml" settings=" settings/dummy.xml" gui_color="blue">
      <radio SYNC_MIN="5000" SYNC_MAX="15000" PULSE_TYPE="POSITIVE" NAME="cockpitSX (easy)" DATA_MIN="900" DATA_MAX="2100">
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="ROLL" CTL="D" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="PITCH" CTL="C" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="950" MAX="2050" FUNCTION="YAW" CTL="B" AVERAGE="0"/>
        <channel NEUTRAL="1223" MIN="1223" MAX="2050" FUNCTION="THROTTLE" CTL="A" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="UNUSED" CTL="G" AVERAGE="1"/>
        <channel NEUTRAL="1496" MIN="2050" MAX="948" FUNCTION="GAIN1" CTL="E" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="948" FUNCTION="MODE" CTL="PHAUX2" AVERAGE="1"/>
      </radio>
      <dump>
        <flight_plan name="Dummy" lon0="1.27289" max_dist_from_home="1000" ground_alt="185" security_height="25" qfu="270" alt="250" lat0="43.46223">
          <waypoints>
            <waypoint name="HOME" x="0.0" y="120.0" alt="250."/>
          </waypoints>
          <blocks>
            <block name="HOME" no="0">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="0" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe name="setup_lisam2">
        <firmware name="setup">
          <target name="tunnel" board="lisa_m_2.0"/>
          <target name="setup_actuators" board="lisa_m_2.0">
            <subsystem name="actuators" type="pwm"/>
            <define name="SERVO_HZ" value="400"/>
            <define name="USE_SERVOS_7AND8"/>
          </target>
        </firmware>
        <firmware name="test_progs">
          <target name="test_sys_time_timer" board="lisa_m_2.0"/>
          <target name="test_sys_time_usleep" board="lisa_m_2.0"/>
          <target name="test_telemetry" board="lisa_m_2.0"/>
          <target name="test_ms2100" board="lisa_m_2.0"/>
          <target name="test_actuators_pwm" board="lisa_m_2.0">
            <define name="SERVO_HZ" value="400"/>
            <define name="USE_SERVOS_7AND8"/>
          </target>
          <target name="test_actuators_pwm_sin" board="lisa_m_2.0">
            <define name="USE_SERVOS_7AND8"/>
          </target>
          <target name="test_esc_mkk_simple" board="lisa_m_2.0"/>
          <target name="test_esc_asctecv1_simple" board="lisa_m_2.0"/>
          <target name="test_baro" board="lisa_m_2.0"/>
          <target name="test_adc" board="lisa_m_2.0"/>
          <target name="test_can" board="lisa_m_2.0"/>
          <target name="test_uart" board="lisa_m_2.0">
            <define name="USE_UART2"/>
            <define name="UART2_BAUD" value="B57600"/>
            <define name="USE_UART3"/>
            <define name="UART3_BAUD" value="B57600"/>
          </target>
        </firmware>
        <servos>
          <servo name="1" no="0" min="900" neutral="1000" max="2100"/>
          <servo name="2" no="1" min="900" neutral="1000" max="2100"/>
          <servo name="3" no="2" min="900" neutral="1000" max="2100"/>
          <servo name="4" no="3" min="900" neutral="1000" max="2100"/>
          <servo name="5" no="4" min="900" neutral="1000" max="2100"/>
          <servo name="6" no="5" min="900" neutral="1000" max="2100"/>
          <servo name="7" no="6" min="900" neutral="1000" max="2100"/>
          <servo name="8" no="7" min="900" neutral="1000" max="2100"/>
        </servos>
        <command_laws/>
      </airframe>
      <telemetry>
        <process NAME="Main">
          <mode NAME="default"/>
        </process>
        <process NAME="Ap">
          <mode NAME="default"/>
        </process>
        <process NAME="Fbw">
          <mode NAME="default"/>
        </process>
      </telemetry>
      <settings/>
    </aircraft>
    <aircraft name="TaxiIII" ac_id="203" airframe="airframes/OpenUAS/openuas_taxiiii.xml" radio="radios/OpenUAS/openuas_mx22_taxiiii-ap.xml" telemetry="telemetry/default_fixedwing_imu_9k6.xml" flight_plan="flight_plans/versatile.xml" settings=" settings/fixedwing_basic.xml settings/estimation/ins_neutrals.xml" gui_color="#ffffdc92dc92">
      <radio SYNC_MIN="5000" SYNC_MAX="15000" PULSE_TYPE="NEGATIVE" NAME="OpenUAS MX22 TaxiIII-AP" DATA_MIN="1000" DATA_MAX="2000">
        <channel NEUTRAL="1110" MIN="1100" MAX="1900" FUNCTION="THROTTLE" CTL="LeftStickVertical" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="ROLL" CTL="RightStickHorizontal" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1900" MAX="1100" FUNCTION="PITCH" CTL="RightStickVertical" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1900" MAX="1100" FUNCTION="YAW" CTL="LeftStickHorizontal" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="MODE" CTL="CONTROL8" AVERAGE="1"/>
        <channel NEUTRAL="1110" MIN="1100" MAX="1900" FUNCTION="MANUALRELEASE" CTL="SW8" AVERAGE="2"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="GAIN1" CTL="CONTROL9" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="CALIB" CTL="SW1" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="1100" MAX="1900" FUNCTION="NOTUSED" CTL="NONE" AVERAGE="0"/>
      </radio>
      <dump>
        <flight_plan security_height="25" qfu="270" name="Versatile" max_dist_from_home="1500" lon0="1.2729" lat0="43.4622" home_mode_height="50" ground_alt="185" alt="260">
          <header>#include &quot;subsystems/datalink/datalink.h&quot;</header>
          <waypoints>
            <waypoint y="0" x="0" name="HOME"/>
            <waypoint y="80" x="20" name="STDBY"/>
            <waypoint y="102.2" x="44.8" name="1"/>
            <waypoint y="122.9" x="-63.5" name="2"/>
            <waypoint y="-21.2" x="-11.5" name="MOB"/>
            <waypoint y="80.4" x="-151.6" name="S1"/>
            <waypoint y="214.9" x="180.1" name="S2"/>
            <waypoint y="-10" x="200" name="AF" alt="215.0"/>
            <waypoint y="20.0" x="80.0" name="TD" alt="185.0"/>
            <waypoint y="-23.0" x="26.9" name="BASELEG"/>
            <waypoint y="0" x="-100" name="_1"/>
            <waypoint y="200" x="-100" name="_2"/>
            <waypoint y="200" x="100" name="_3"/>
            <waypoint y="0" x="100" name="_4"/>
            <waypoint y="35.4" x="-122.5" name="CLIMB"/>
          </waypoints>
          <sectors>
            <sector name="Square">
              <corner name="_1"/>
              <corner name="_2"/>
              <corner name="_3"/>
              <corner name="_4"/>
            </sector>
          </sectors>
          <exceptions/>
          <blocks>
            <block name="Wait GPS" no="0">
              <set var="kill_throttle" value="1" no="0"/>
              <while cond="!GpsFixValid()" no="1"/>
            </block>
            <block name="Geo init" no="1">
              <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
            </block>
            <block name="Holding point" no="2">
              <set var="kill_throttle" value="1" no="0"/>
              <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff (wp CLIMB)" name="Takeoff" no="3">
              <exception deroute="Standby" cond="GetPosAlt() > GetAltRef()+25"/>
              <set var="kill_throttle" value="0" no="0"/>
              <go wp="CLIMB" no="1"/>
            </block>
            <block strip_icon="home.png" strip_button="Standby" name="Standby" no="4">
              <circle wp="STDBY" radius="nav_radius" no="0"/>
            </block>
            <block strip_icon="line.png" strip_button="Line (wp 1-2)" name="Line 1-2" group="extra_pattern" no="5">
              <call fun="nav_line_setup()" no="0"/>
              <call fun="nav_line_run(WP_1, WP_2, nav_radius)" no="1"/>
            </block>
            <block strip_icon="eight.png" strip_button="Figure 8 (wp 1-2)" name="Figure 8 around wp 1" no="6">
              <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
            </block>
            <block strip_icon="oval.png" strip_button="Oval (wp 1-2)" name="Oval 1-2" no="7">
              <oval radius="nav_radius" p2="2" p1="1" no="1"/>
            </block>
            <block strip_icon="mob.png" strip_button="Circle around here" name="MOB" no="8">
              <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
              <circle wp="MOB" radius="100" no="1"/>
            </block>
            <block name="Auto pitch (circle wp 1)" no="9">
              <circle wp="1" throttle="0.7" radius="75" pitch="auto" no="0"/>
            </block>
            <block name="Climb 75% throttle" no="10">
              <circle wp="1" vmode="throttle" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" throttle="0.75" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="10" no="0"/>
            </block>
            <block name="Climb 0m/s" no="11">
              <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="nav_radius" climb="0" no="0"/>
            </block>
            <block name="Climb 1m/s" no="12">
              <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="5" climb="1" no="0"/>
            </block>
            <block name="Climb nav_climb m/s" no="13">
              <circle wp="1" vmode="climb" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" radius="nav_radius" climb="nav_climb" no="0"/>
            </block>
            <block name="Circle 0% throttle" no="14">
              <circle wp="1" vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" no="0"/>
              <deroute block="Standby" no="1"/>
            </block>
            <block name="Oval 0% throttle" no="15">
              <oval vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" p2="2" p1="1" no="1"/>
              <deroute block="Standby" no="2"/>
            </block>
            <block name="Route 1-2" no="16">
              <go wp="2" hmode="route" from="1" approaching_time="0" no="0"/>
            </block>
            <block name="Stack wp 2" no="17">
              <circle wp="2" radius="75" no="0"/>
            </block>
            <block name="Route 2-1" no="18">
              <go wp="1" hmode="route" from="2" approaching_time="0" no="0"/>
            </block>
            <block name="Stack wp 1" no="19">
              <circle wp="1" radius="75" no="0"/>
            </block>
            <block name="Glide 1-2" no="20">
              <go wp="2" vmode="glide" hmode="route" from="1" no="0"/>
              <deroute block="Standby" no="1"/>
            </block>
            <block strip_icon="survey.png" strip_button="Survey (wp S1-S2)" name="Survey S1-S2" no="21">
              <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
            </block>
            <block strip_icon="land-right.png" strip_button="Land right (wp AF-TD)" name="Land Right AF-TD" no="22">
              <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block strip_icon="land-left.png" strip_button="Land left (wp AF-TD)" name="Land Left AF-TD" no="23">
              <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block name="land" no="24">
              <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP_BASELEG, nav_radius)" no="0"/>
              <circle wp="BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
              <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MIN_CRUISE_THROTTLE" no="2"/>
              <circle wp="BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 10 > fabs(GetPosAlt() - WaypointAlt(WP_BASELEG))" radius="nav_radius" no="3"/>
            </block>
            <block name="final" no="25">
              <exception deroute="flare" cond="GetAltRef() + 10 > GetPosAlt()"/>
              <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
            </block>
            <block name="flare" no="26">
              <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
            </block>
            <block name="Steps roll -10, +10" no="27">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
                <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
              </while>
            </block>
            <block name="Steps roll -20, +20" no="28">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
                <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
              </while>
            </block>
            <block name="Steps pitch -10, +10" no="29">
              <while cond="TRUE" no="0">
                <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
                <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
              </while>
            </block>
            <block name="Heading 30" no="30">
              <heading until="FALSE" course="30" alt="GetAltRef()+50" no="0"/>
            </block>
            <block name="For loop (circles wp 1)" no="31">
              <for var="i" to="3" from="0" no="1">
                <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
              </for>
              <deroute block="Standby" no="4"/>
            </block>
            <block name="Test datalink (go to wp 2)" no="32">
              <exception deroute="Standby" cond="datalink_time > 22"/>
              <go wp="2" hmode="route" from="STDBY" no="0"/>
              <go wp="STDBY" hmode="route" from="2" no="1"/>
            </block>
            <block name="Fly in Square" no="33">
              <exception deroute="Come back wp 1" cond="! InsideSquare(GetPosX(), GetPosY())"/>
              <attitude vmode="alt" roll="0" alt="GetAltRef()+75" no="0"/>
            </block>
            <block name="Come back wp 1" no="34">
              <exception deroute="Fly in Square" cond="InsideSquare(GetPosX(), GetPosY())"/>
              <go wp="1" no="0"/>
              <deroute block="Fly in Square" no="1"/>
            </block>
            <block name="HOME" no="35">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="35" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="34" block_name="Come back wp 1" stage="1">
            <deroute block="Fly in Square" no="1"/>
          </stage>
          <stage block="34" block_name="Come back wp 1" stage="0">
            <go wp="1" no="0"/>
          </stage>
          <stage block="33" block_name="Fly in Square" stage="0">
            <attitude vmode="alt" roll="0" alt="GetAltRef()+75" no="0"/>
          </stage>
          <stage block="32" block_name="Test datalink (go to wp 2)" stage="1">
            <go wp="STDBY" hmode="route" from="2" no="1"/>
          </stage>
          <stage block="32" block_name="Test datalink (go to wp 2)" stage="0">
            <go wp="2" hmode="route" from="STDBY" no="0"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="4">
            <deroute block="Standby" no="4"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="2">
            <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
          </stage>
          <stage block="31" block_name="For loop (circles wp 1)" stage="1">
            <for var="i" to="3" from="0" no="1">
              <circle wp="1" until="NavCircleCount() > 1" radius="DEFAULT_CIRCLE_RADIUS+ $i*10" no="2"/>
            </for>
          </stage>
          <stage block="30" block_name="Heading 30" stage="0">
            <heading until="FALSE" course="30" alt="GetAltRef()+50" no="0"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="2">
            <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="1">
            <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
          </stage>
          <stage block="29" block_name="Steps pitch -10, +10" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="10" alt="250" no="1"/>
              <attitude vmode="alt" until=" stage_time > 2" roll="0.0" pitch="-10" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="2">
            <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="1">
            <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
          </stage>
          <stage block="28" block_name="Steps roll -20, +20" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 3" roll="20.0" alt="250" no="1"/>
              <attitude vmode="alt" until="stage_time > 3" roll="-20.0" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="2">
            <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="1">
            <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
          </stage>
          <stage block="27" block_name="Steps roll -10, +10" stage="0">
            <while cond="TRUE" no="0">
              <attitude vmode="alt" until=" stage_time > 6" roll="10.0" alt="250" no="1"/>
              <attitude vmode="alt" until="stage_time > 6" roll="-10.0" alt="250" no="2"/>
            </while>
          </stage>
          <stage block="26" block_name="flare" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
          </stage>
          <stage block="26" block_name="flare" stage="0">
            <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
          </stage>
          <stage block="25" block_name="final" stage="0">
            <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
          </stage>
          <stage block="24" block_name="land" stage="3">
            <circle wp="BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 10 > fabs(GetPosAlt() - WaypointAlt(WP_BASELEG))" radius="nav_radius" no="3"/>
          </stage>
          <stage block="24" block_name="land" stage="2">
            <set var="v_ctl_auto_throttle_cruise_throttle" value="V_CTL_AUTO_THROTTLE_MIN_CRUISE_THROTTLE" no="2"/>
          </stage>
          <stage block="24" block_name="land" stage="1">
            <circle wp="BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
          </stage>
          <stage block="24" block_name="land" stage="0">
            <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP_BASELEG, nav_radius)" no="0"/>
          </stage>
          <stage block="23" block_name="Land Left AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="23" block_name="Land Left AF-TD" stage="0">
            <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="22" block_name="Land Right AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="22" block_name="Land Right AF-TD" stage="0">
            <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="21" block_name="Survey S1-S2" stage="1">
            <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
          </stage>
          <stage block="20" block_name="Glide 1-2" stage="1">
            <deroute block="Standby" no="1"/>
          </stage>
          <stage block="20" block_name="Glide 1-2" stage="0">
            <go wp="2" vmode="glide" hmode="route" from="1" no="0"/>
          </stage>
          <stage block="19" block_name="Stack wp 1" stage="0">
            <circle wp="1" radius="75" no="0"/>
          </stage>
          <stage block="18" block_name="Route 2-1" stage="0">
            <go wp="1" hmode="route" from="2" approaching_time="0" no="0"/>
          </stage>
          <stage block="17" block_name="Stack wp 2" stage="0">
            <circle wp="2" radius="75" no="0"/>
          </stage>
          <stage block="16" block_name="Route 1-2" stage="0">
            <go wp="2" hmode="route" from="1" approaching_time="0" no="0"/>
          </stage>
          <stage block="15" block_name="Oval 0% throttle" stage="2">
            <deroute block="Standby" no="2"/>
          </stage>
          <stage block="15" block_name="Oval 0% throttle" stage="1">
            <oval vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="14" block_name="Circle 0% throttle" stage="1">
            <deroute block="Standby" no="1"/>
          </stage>
          <stage block="14" block_name="Circle 0% throttle" stage="0">
            <circle wp="1" vmode="throttle" until="GetAltRef()+50 > GetPosAlt()" throttle="0.0" radius="nav_radius" pitch="fp_pitch" no="0"/>
          </stage>
          <stage block="13" block_name="Climb nav_climb m/s" stage="0">
            <circle wp="1" vmode="climb" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" radius="nav_radius" climb="nav_climb" no="0"/>
          </stage>
          <stage block="12" block_name="Climb 1m/s" stage="0">
            <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="5" climb="1" no="0"/>
          </stage>
          <stage block="11" block_name="Climb 0m/s" stage="0">
            <circle wp="1" vmode="climb" until="10 > PowerVoltage()" radius="nav_radius" climb="0" no="0"/>
          </stage>
          <stage block="10" block_name="Climb 75% throttle" stage="0">
            <circle wp="1" vmode="throttle" until="(10 > PowerVoltage()) || (GetPosAlt() > GetAltRef()+ 1350)" throttle="0.75" radius="50+(GetPosAlt()-GetAltRef())/2" pitch="10" no="0"/>
          </stage>
          <stage block="9" block_name="Auto pitch (circle wp 1)" stage="0">
            <circle wp="1" throttle="0.7" radius="75" pitch="auto" no="0"/>
          </stage>
          <stage block="8" block_name="MOB" stage="1">
            <circle wp="MOB" radius="100" no="1"/>
          </stage>
          <stage block="8" block_name="MOB" stage="0">
            <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
          </stage>
          <stage block="7" block_name="Oval 1-2" stage="1">
            <oval radius="nav_radius" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="6" block_name="Figure 8 around wp 1" stage="1">
            <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
          </stage>
          <stage block="5" block_name="Line 1-2" stage="1">
            <call fun="nav_line_run(WP_1, WP_2, nav_radius)" no="1"/>
          </stage>
          <stage block="5" block_name="Line 1-2" stage="0">
            <call fun="nav_line_setup()" no="0"/>
          </stage>
          <stage block="4" block_name="Standby" stage="0">
            <circle wp="STDBY" radius="nav_radius" no="0"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="1">
            <go wp="CLIMB" no="1"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="0">
            <set var="kill_throttle" value="0" no="0"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="1">
            <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="0">
            <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="1">
            <while cond="!GpsFixValid()" no="1"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="TaxiIII">
        <firmware NAME="fixedwing">
          <target NAME="sim" BOARD="pc"/>
          <target NAME="ap" BOARD="tiny_2.11"/>
          <define NAME="ALT_KALMAN"/>
          <define NAME="STRONG_WIND"/>
          <define NAME="WIND_INFO"/>
          <define NAME="WIND_INFO_RET"/>
          <define NAME="AGR_CLIMB"/>
          <define NAME="TUNE_AGRESSIVE_CLIMB"/>
          <define NAME="LOITER_TRIM"/>
          <define NAME="USE_I2C0"/>
          <subsystem TYPE="transparent" NAME="telemetry">
            <configure VALUE="B9600" NAME="MODEM_BAUD"/>
            <configure VALUE="UART1" NAME="MODEM_PORT"/>
          </subsystem>
          <subsystem TYPE="ppm" NAME="radio_control"/>
          <subsystem TYPE="rc" NAME="settings"/>
          <subsystem NAME="control"/>
          <subsystem TYPE="infrared" NAME="ahrs"/>
          <subsystem TYPE="ublox" NAME="gps"/>
          <subsystem TYPE="extra" NAME="navigation"/>
          <subsystem TYPE="bomb" NAME="navigation"/>
        </firmware>
        <modules MAIN_FREQ="60">
          <load NAME="gps_ubx_ucenter.xml"/>
          <load NAME="infrared_adc.xml"/>
          <load NAME="digital_cam.xml">
            <define VALUE="3" NAME="DC_SHUTTER_LED"/>
          </load>
          <load NAME="photogrammetry_calculator.xml"/>
        </modules>
        <servos>
          <servo NO="0" NEUTRAL="1300" NAME="MOTOR" MIN="1250" MAX="1850"/>
          <servo NO="2" NEUTRAL="1500" NAME="AILERON" MIN="1900" MAX="1100"/>
          <servo NO="3" NEUTRAL="1500" NAME="ELEVATOR" MIN="1100" MAX="1900"/>
          <servo NO="4" NEUTRAL="1500" NAME="RUDDER" MIN="1100" MAX="1900"/>
          <servo NO="7" NEUTRAL="1110" NAME="HATCH" MIN="1100" MAX="1900"/>
        </servos>
        <commands>
          <axis NAME="THROTTLE" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="0"/>
          <axis NAME="PITCH" FAILSAFE_VALUE="0"/>
          <axis NAME="YAW" FAILSAFE_VALUE="0"/>
          <axis NAME="HATCH" FAILSAFE_VALUE="0"/>
        </commands>
        <rc_commands>
          <set VALUE="@THROTTLE" COMMAND="THROTTLE"/>
          <set VALUE="@ROLL" COMMAND="ROLL"/>
          <set VALUE="@PITCH" COMMAND="PITCH"/>
          <set VALUE="@YAW" COMMAND="YAW"/>
          <set VALUE="@MANUALRELEASE" COMMAND="HATCH"/>
        </rc_commands>
        <auto_rc_commands>
          <set VALUE="@YAW" COMMAND="YAW"/>
          <set VALUE="@MANUALRELEASE" COMMAND="HATCH"/>
        </auto_rc_commands>
        <section NAME="MIXER">
          <define VALUE="0.09" NAME="ASSIST_ROLL_WITH_RUDDER"/>
        </section>
        <command_laws>
          <set VALUE="@THROTTLE" SERVO="MOTOR"/>
          <set VALUE="@ROLL" SERVO="AILERON"/>
          <set VALUE="@PITCH" SERVO="ELEVATOR"/>
          <set VALUE="@YAW - @ROLL*ASSIST_ROLL_WITH_RUDDER" SERVO="RUDDER"/>
          <set VALUE="@HATCH" SERVO="HATCH"/>
        </command_laws>
        <section PREFIX="AUTO1_" NAME="AUTO1">
          <define VALUE="0.95" NAME="MAX_ROLL"/>
          <define VALUE="0.95" NAME="MAX_PITCH"/>
        </section>
        <section PREFIX="IR_" NAME="INFRARED">
          <define VALUE="512" NAME="ADC_IR1_NEUTRAL"/>
          <define VALUE="512" NAME="ADC_IR2_NEUTRAL"/>
          <define VALUE="512" NAME="ADC_TOP_NEUTRAL"/>
          <define VALUE="1.0" NAME="CORRECTION_UP"/>
          <define VALUE="1.0" NAME="CORRECTION_DOWN"/>
          <define VALUE="1.0" NAME="CORRECTION_LEFT"/>
          <define VALUE="1.0" NAME="CORRECTION_RIGHT"/>
          <define VALUE="0.8" NAME="LATERAL_CORRECTION"/>
          <define VALUE="0.8" NAME="LONGITUDINAL_CORRECTION"/>
          <define VALUE="1.1" NAME="VERTICAL_CORRECTION"/>
          <define VALUE="1" NAME="HORIZ_SENSOR_ALIGNED"/>
          <define VALUE="-1" NAME="IR1_SIGN"/>
          <define VALUE="-1" NAME="IR2_SIGN"/>
          <define VALUE="1" NAME="TOP_SIGN"/>
          <define VALUE="0" UNIT="deg" NAME="ROLL_NEUTRAL_DEFAULT"/>
          <define VALUE="2" UNIT="deg" NAME="PITCH_NEUTRAL_DEFAULT"/>
        </section>
        <section NAME="BAT">
          <define VALUE="18000" UNIT="mA" NAME="MILLIAMP_AT_FULL_THROTTLE"/>
          <define VALUE="9.3" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
          <define VALUE="10.0" UNIT="V" NAME="CRITIC_BAT_LEVEL"/>
          <define VALUE="10.6" UNIT="V" NAME="LOW_BAT_LEVEL"/>
          <define VALUE="12.6" UNIT="V" NAME="MAX_BAT_LEVEL"/>
        </section>
        <section NAME="MISC">
          <define VALUE="10.0" UNIT="m/s" NAME="MINIMUM_AIRSPEED"/>
          <define VALUE="14.0" UNIT="m/s" NAME="NOMINAL_AIRSPEED"/>
          <define VALUE="20.0" UNIT="m/s" NAME="MAXIMUM_AIRSPEED"/>
          <define VALUE="5.0" UNIT="s" NAME="CARROT"/>
          <define VALUE="(1.3*MAX_DIST_FROM_HOME)" NAME="KILL_MODE_DISTANCE"/>
          <define VALUE="60" UNIT="Hz" NAME="CONTROL_RATE"/>
          <define VALUE="TRUE" NAME="NO_XBEE_API_INIT"/>
          <define VALUE="TRUE" NAME="UNLOCKED_HOME_MODE"/>
          <define VALUE="PPRZ_MODE_AUTO2" NAME="RC_LOST_MODE"/>
          <define VALUE="TRUE" NAME="ALT_KALMAN_ENABLED"/>
          <define VALUE="1.0" NAME="TRIGGER_DELAY"/>
          <define VALUE="60.0" NAME="DEFAULT_CIRCLE_RADIUS"/>
          <define VALUE="40.0" NAME="MIN_CIRCLE_RADIUS"/>
          <define VALUE="11." NAME="GLIDE_AIRSPEED"/>
          <define VALUE="1." UNIT="m/s" NAME="GLIDE_VSPEED"/>
          <define VALUE="7." UNIT="deg" NAME="GLIDE_PITCH"/>
        </section>
        <section PREFIX="V_CTL_" NAME="VERTICAL CONTROL">
          <define VALUE="11.2" UNIT="volt" NAME="POWER_CTL_BAT_NOMINAL"/>
          <define VALUE="0.04" UNIT="(m/s)/m" NAME="ALTITUDE_PGAIN"/>
          <define VALUE="1.8" UNIT="m/s" NAME="ALTITUDE_MAX_CLIMB"/>
          <define VALUE="0.85" UNIT="%" NAME="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE"/>
          <define VALUE="0.65" UNIT="%" NAME="AUTO_THROTTLE_MIN_CRUISE_THROTTLE"/>
          <define VALUE="0.99" UNIT="%" NAME="AUTO_THROTTLE_MAX_CRUISE_THROTTLE"/>
          <define VALUE="1000" UNIT="pprz_t" NAME="AUTO_THROTTLE_LOITER_TRIM"/>
          <define VALUE="-2000" UNIT="pprz_t" NAME="AUTO_THROTTLE_DASH_TRIM"/>
          <define VALUE="0.1" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT"/>
          <define VALUE="0.0007" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_PGAIN"/>
          <define VALUE="0.002" NAME="AUTO_THROTTLE_IGAIN"/>
          <define VALUE="0.0" NAME="AUTO_THROTTLE_DGAIN"/>
          <define VALUE="0.2" UNIT="rad/(m/s)" NAME="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN"/>
          <define VALUE="0.8" UNIT="s" NAME="THROTTLE_SLEW_LIMITER"/>
          <define VALUE="0.052" NAME="AUTO_PITCH_PGAIN"/>
          <define VALUE="0.065" NAME="AUTO_PITCH_IGAIN"/>
          <define VALUE="0.45" NAME="AUTO_PITCH_MAX_PITCH"/>
          <define VALUE="-0.40" NAME="AUTO_PITCH_MIN_PITCH"/>
        </section>
        <section PREFIX="H_CTL_" NAME="HORIZONTAL CONTROL">
          <define VALUE="0.9" NAME="COURSE_PGAIN"/>
          <define VALUE="0.1" NAME="COURSE_DGAIN"/>
          <define VALUE="0.9" UNIT="pct" NAME="COURSE_PRE_BANK_CORRECTION"/>
          <define VALUE="0.80" UNIT="rad" NAME="ROLL_MAX_SETPOINT"/>
          <define VALUE="0.4" UNIT="rad" NAME="PITCH_MAX_SETPOINT"/>
          <define VALUE="-0.4" UNIT="rad" NAME="PITCH_MIN_SETPOINT"/>
          <define VALUE="8000." NAME="ROLL_ATTITUDE_GAIN"/>
          <define VALUE="1000" NAME="ROLL_RATE_GAIN"/>
          <define VALUE="0.40" NAME="ROLL_SLEW"/>
          <define VALUE="0.0" NAME="AILERON_OF_THROTTLE"/>
          <define VALUE="8000." NAME="PITCH_PGAIN"/>
          <define VALUE="0.9" NAME="PITCH_DGAIN"/>
          <define VALUE="1150" NAME="ELEVATOR_OF_ROLL"/>
        </section>
        <section PREFIX="DC_" NAME="DIGITAL_CAMERA">
          <define VALUE="12" UNIT="quarter_second" NAME="AUTOSHOOT_QUARTERSEC_PERIOD"/>
          <define VALUE="50" UNIT="meter" NAME="AUTOSHOOT_METER_GRID"/>
          <define VALUE="LED_ON" NAME="PUSH"/>
          <define VALUE="LED_OFF" NAME="RELEASE"/>
        </section>
        <section PREFIX="PHOTOGRAMMETRY_" NAME="PHOTOGRAMMETRY">
          <define VALUE="24.0" UNIT="mm" NAME="FOCAL_LENGTH"/>
          <define VALUE="6.66" UNIT="mm" NAME="SENSOR_WIDTH"/>
          <define VALUE="5.32" UNIT="mm" NAME="SENSOR_HEIGHT"/>
          <define VALUE="1280" UNIT="" NAME="PIXELS_WIDTH"/>
          <define VALUE="0.3" UNIT="%" NAME="OVERLAP"/>
          <define VALUE="0.2" UNIT="%" NAME="SIDELAP"/>
          <define VALUE="50" UNIT="mm pixel projection" NAME="RESOLUTION"/>
          <define VALUE="50" UNIT="m" NAME="HEIGHT_MIN"/>
          <define VALUE="220" UNIT="m" NAME="HEIGHT_MAX"/>
          <define VALUE="40" UNIT="m" NAME="RADIUS_MIN"/>
        </section>
        <section NAME="NAV">
          <define VALUE="0." NAME="NAV_PITCH"/>
          <define VALUE="0" NAME="NAV_GLIDE_PITCH_TRIM"/>
        </section>
        <section PREFIX="AGR_" NAME="AGGRESSIVE">
          <define VALUE="20" NAME="BLEND_START"/>
          <define VALUE="8" NAME="BLEND_END"/>
          <define VALUE="0.90" NAME="CLIMB_THROTTLE"/>
          <define VALUE="RadOfDeg(45)" NAME="CLIMB_PITCH"/>
          <define VALUE="0.4" NAME="DESCENT_THROTTLE"/>
          <define VALUE="RadOfDeg(-30)" NAME="DESCENT_PITCH"/>
          <define VALUE="0.8" NAME="CLIMB_NAV_RATIO"/>
          <define VALUE="0.99" NAME="DESCENT_NAV_RATIO"/>
        </section>
        <section PREFIX="FAILSAFE_" NAME="FAILSAFE">
          <define VALUE="3" UNIT="s" NAME="DELAY_WITHOUT_GPS"/>
          <define VALUE="0" UNIT="%" NAME="DEFAULT_THROTTLE"/>
          <define VALUE="0.15" UNIT="rad" NAME="DEFAULT_ROLL"/>
          <define VALUE="-0.1" UNIT="rad" NAME="DEFAULT_PITCH"/>
          <define VALUE="70" UNIT="m" NAME="HOME_RADIUS"/>
        </section>
        <section PREFIX="DATALINK_" NAME="DATALINK">
          <define VALUE="PPRZ" NAME="DEVICE_TYPE"/>
          <define VALUE="...." NAME="DEVICE_ADDRESS"/>
        </section>
        <section NAME="SIMU">
          <define VALUE="0.5" NAME="YAW_RESPONSE_FACTOR"/>
        </section>
      </airframe>
      <telemetry>
        <process NAME="Ap">
          <mode NAME="default">
            <message PERIOD="1.4" NAME="AIRSPEED"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="0.5" NAME="GPS"/>
            <message PERIOD="1." NAME="NAVIGATION"/>
            <message PERIOD="0.7" NAME="ATTITUDE"/>
            <message PERIOD="0.6" NAME="ESTIMATOR"/>
            <message PERIOD="2.5" NAME="ENERGY"/>
            <message PERIOD="1.1" NAME="WP_MOVED"/>
            <message PERIOD="1.05" NAME="CIRCLE"/>
            <message PERIOD="1.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="1.2" NAME="SEGMENT"/>
            <message PERIOD="2.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="SETTINGS"/>
            <message PERIOD="2.2" NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.2" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="2.0" NAME="GPS_SOL"/>
            <message PERIOD=".8" NAME="IMU_ACCEL"/>
            <message PERIOD=".9" NAME="IMU_GYRO"/>
            <message PERIOD="1.9" NAME="IMU_MAG"/>
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
          </mode>
          <mode NAME="minimal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="4" NAME="ATTITUDE"/>
            <message PERIOD="1.05" NAME="GPS"/>
            <message PERIOD="1.3" NAME="ESTIMATOR"/>
            <message PERIOD="1.4" NAME="WP_MOVED"/>
            <message PERIOD="3.05" NAME="CIRCLE"/>
            <message PERIOD="4.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="3.2" NAME="SEGMENT"/>
            <message PERIOD="5.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="3." NAME="NAVIGATION"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="5.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="5.0" NAME="GPS_SOL"/>
          </mode>
          <mode NAME="extremal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="7.5" NAME="PPRZ_MODE"/>
            <message PERIOD="8." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".05" NAME="IMU_MAG_RAW"/>
            <message PERIOD="0.5" NAME="BARO_RAW"/>
          </mode>
          <mode NAME="scaled_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".075" NAME="IMU_GYRO"/>
            <message PERIOD=".075" NAME="IMU_ACCEL"/>
            <message PERIOD=".1" NAME="IMU_MAG"/>
          </mode>
          <mode NAME="debug_imu">
            <message PERIOD="0.1" NAME="ATTITUDE"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="5.5" NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
            <message PERIOD=".5" NAME="IMU_ACCEL"/>
            <message PERIOD=".5" NAME="IMU_GYRO"/>
            <message PERIOD=".5" NAME="IMU_MAG"/>
            <message PERIOD=".5" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".5" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".5" NAME="IMU_MAG_RAW"/>
          </mode>
        </process>
        <process NAME="Fbw">
          <mode NAME="default">
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
          <mode NAME="debug">
            <message PERIOD="0.5" NAME="PPM"/>
            <message PERIOD="0.5" NAME="RC"/>
            <message PERIOD="0.5" NAME="COMMANDS"/>
            <message PERIOD="1" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="flight params">
            <dl_setting VAR="flight_altitude" STEP="10" SHORTNAME="altitude" MIN="0" MAX="1000"/>
            <dl_setting VAR="nav_course" STEP="1" MIN="0" MAX="360"/>
            <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-10" MAX="10" HANDLER="IncreaseShift"/>
            <dl_setting VAR="autopilot_flight_time" STEP="1" SHORTNAME="flight time" MODULE="autopilot" MIN="0" MAX="0" HANDLER="ResetFlightTimeAndLaunch"/>
            <dl_setting VAR="nav_radius" STEP="10" MODULE="firmwares/fixedwing/nav" MIN="-200" MAX="200" HANDLER="SetNavRadius">
              <strip_button VALUE="1" NAME="Circle right" ICON="circle-right.png" GROUP="circle"/>
              <strip_button VALUE="-1" NAME="Circle left" ICON="circle-left.png" GROUP="circle"/>
              <key_press VALUE="1" KEY="greater"/>
              <key_press VALUE="-1" KEY="less"/>
            </dl_setting>
          </dl_settings>
          <dl_settings NAME="mode">
            <dl_setting VAR="pprz_mode" VALUES="MANUAL|AUTO1|AUTO2|HOME|NOGPS|FAILSAFE" STEP="1" MODULE="autopilot" MIN="0" MAX="2"/>
            <dl_setting VAR="launch" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="kill_throttle" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="gps.reset" STEP="1" SHORTNAME="GPS reset" MODULE="subsystems/gps" MIN="0" MAX="2" HANDLER="Reset"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="ins">
            <dl_setting VAR="ins_roll_neutral" UNIT="rad" STEP="0.5" SHORTNAME="roll_neutral" PARAM="INS_ROLL_NEUTRAL_DEFAULT" MODULE="subsystems/ahrs" MIN="-15" MAX="15" ALT_UNIT="deg"/>
            <dl_setting VAR="ins_pitch_neutral" UNIT="rad" STEP="0.5" SHORTNAME="pitch_neutral" PARAM="INS_PITCH_NEUTRAL_DEFAULT" MIN="-15" MAX="15" ALT_UNIT="deg"/>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <aircraft name="VivifyMK1" ac_id="217" airframe="airframes/OpenUAS/openuas_vivify_mk1.xml" radio="radios/spektrum.xml" telemetry="telemetry/default_fixedwing_imu_9k6.xml" flight_plan="flight_plans/OpenUAS/openuas_simplesquare_airspeed_mbg.xml" settings=" settings/control/ctl_energy.xml settings/estimation/ins_neutrals.xml settings/estimation/ac_char.xml settings/fixedwing_basic.xml" gui_color="#fffffac7c07a">
      <radio SYNC_MIN="5000" SYNC_MAX="15000" PULSE_TYPE="NEGATIVE" NAME="JR XP903" DATA_MIN="900" DATA_MAX="2100">
        <channel NEUTRAL="950" MIN="950" MAX="2050" FUNCTION="THROTTLE" CTL="left_stick_vert" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="ROLL" CTL="right_stick_horiz" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="PITCH" CTL="right_stick_vert" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="950" MAX="2050" FUNCTION="YAW" CTL="left_stick_horiz" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="948" FUNCTION="UNUSED" CTL="switch_g" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="MODE" CTL="switch_C" AVERAGE="1"/>
        <channel NEUTRAL="1496" MIN="2050" MAX="948" FUNCTION="KILL" CTL="aux2" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="AUX3" CTL="aux3" AVERAGE="1"/>
        <channel NEUTRAL="1496" MIN="2050" MAX="948" FUNCTION="AUX4" CTL="aux4" AVERAGE="1"/>
      </radio>
      <dump>
        <flight_plan security_height="120" qfu="310" name="opennuas simplesquare airspeed" max_dist_from_home="580" lon0="7.567305" lat0="50.726999" ground_alt="292" alt="395">
          <header>#include &quot;subsystems/electrical.h&quot;
#include &quot;subsystems/datalink/datalink.h&quot;
#include &quot;firmwares/fixedwing/guidance/energy_ctrl.h&quot;
static inline uint16_t obcrulesdatalinklosscounter = 0;</header>
          <waypoints>
            <waypoint y="19.5" x="-51.5" name="AIRFIELDHOME"/>
            <waypoint y="0.0" x="0.0" name="HOME"/>
            <waypoint y="64.0" x="42.1" name="STDBY"/>
            <waypoint y="44.0" x="20.0" name="COMMSHOLD"/>
            <waypoint y="65.2" x="-155.4" name="CLIMB"/>
            <waypoint y="200" x="-200" name="TO"/>
            <waypoint y="377.0" x="34.8" name="TESTTOOFAR"/>
            <waypoint y="179.2" x="79.6" name="MOB"/>
            <waypoint y="51.2" x="236.2" name="1"/>
            <waypoint y="41.8" x="-120.0" name="2"/>
            <waypoint y="240.1" x="-105.9" name="3"/>
            <waypoint y="246.4" x="228.8" name="4"/>
            <waypoint y="-68.7" x="416.3" name="_MB1"/>
            <waypoint y="-186.3" x="-391.6" name="_MB2"/>
            <waypoint y="293.2" x="-376.2" name="_MB3"/>
            <waypoint y="389.7" x="357.2" name="_MB4"/>
            <waypoint y="91.3" x="-34.7" name="AF" height="30"/>
            <waypoint y="-36." x="-1600." name="SD"/>
            <waypoint y="-36." x="-1600." name="TOD"/>
            <waypoint y="-17.7" x="-130.2" name="TD" height="0.0"/>
            <waypoint y="113.7" x="41.5" name="_BASELEG" height="200.0"/>
          </waypoints>
          <sectors>
            <sector name="MissionBoundary" color="yellow">
              <corner name="_MB1"/>
              <corner name="_MB2"/>
              <corner name="_MB3"/>
              <corner name="_MB4"/>
            </sector>
          </sectors>
          <exceptions>
            <exception deroute="CommsHoldLoiter" cond="(datalink_time > 10) && !(nav_block == IndexOfBlock('WaitForGPSFix')) && !(nav_block == IndexOfBlock('Initialize')) && !(nav_block == IndexOfBlock('Set_base_location')) && !(nav_block == IndexOfBlock('Takeoff')) && !(nav_block == IndexOfBlock('AutoTakeoff')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Final')) && !(nav_block == IndexOfBlock('Flare'))"/>
            <exception deroute="Standby" cond="electrical.bat_low && !(nav_block == IndexOfBlock('WaitForGPSFix')) && !(nav_block == IndexOfBlock('Initialize')) && !(nav_block == IndexOfBlock('Set_base_location')) && !(nav_block == IndexOfBlock('Takeoff')) && !(nav_block == IndexOfBlock('AutoTakeoff')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Final')) && !(nav_block == IndexOfBlock('Flare'))"/>
            <exception deroute="Standby" cond="!(InsideMissionBoundary(GetPosX(), GetPosY())) && !(nav_block == IndexOfBlock('WaitForGPSFix')) && !(nav_block == IndexOfBlock('Initialize')) && !(nav_block == IndexOfBlock('Set_base_location')) && !(nav_block == IndexOfBlock('Takeoff')) && !(nav_block == IndexOfBlock('AutoTakeoff')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Final')) && !(nav_block == IndexOfBlock('Flare'))"/>
          </exceptions>
          <blocks>
            <block name="WaitForGPSFix" no="0">
              <set var="kill_throttle" value="1" no="0"/>
              <while cond="!GpsFixValid() || gps.pacc > 1700" no="1"/>
            </block>
            <block name="Initialize" no="1">
              <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
            </block>
            <block name="Set_base_location" no="2">
              <set var="obcrulesdatalinklosscounter" value="0" no="0"/>
              <call fun="NavSetWaypointHere(WP_HOME)" no="1"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
              <while cond="LessThan(NavBlockTime(), 8)" no="3"/>
              <call fun="NavSetWaypointHere(WP_AIRFIELDHOME)" no="5"/>
              <while cond="RCLost()" no="6"/>
              <deroute block="AutoTakeoff" no="8"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff (wp CLIMB)" name="Takeoff" no="3">
              <set var="launch" value="1" no="0"/>
              <set var="autopilot_flight_time" value="0" no="1"/>
              <exception deroute="Standby" cond="GetPosAlt() > GetAltRef()+35"/>
              <go wp="CLIMB" no="2"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff (wp CLIMB)" name="TakeoffEx" no="4">
              <exception deroute="Standby" cond="GetPosAlt() > GetAltRef()+20"/>
              <set var="kill_throttle" value="0" no="0"/>
              <set var="launch" value="1" no="1"/>
              <set var="autopilot_flight_time" value="0" no="2"/>
              <set var="v_ctl_auto_airspeed_setpoint" value="CLIMB_AIRSPEED" no="3"/>
              <go wp="CLIMB" no="4"/>
            </block>
            <block name="AutoTakeoff" no="5">
              <exception deroute="SimpleSquareRoute" cond="GetPosAlt() > GetAltRef()+20"/>
              <set var="kill_throttle" value="0" no="0"/>
              <set var="launch" value="1" no="1"/>
              <set var="autopilot_flight_time" value="0" no="2"/>
              <attitude vmode="throttle" until="GetPosAlt() > GetAltRef()+30" throttle="1" roll="0" pitch="30" no="3"/>
            </block>
            <block strip_icon="home.png" strip_button="Standby" name="Standby" key="a" no="6">
              <set var="v_ctl_auto_airspeed_setpoint" value="NOMINAL_AIRSPEED" no="0"/>
              <circle wp="STDBY" radius="nav_radius" no="1"/>
            </block>
            <block strip_icon="recenter.png" strip_button="CommsHold" name="CommsHoldLoiter" no="7">
              <set var="v_ctl_auto_airspeed_setpoint" value="NOMINAL_AIRSPEED" no="0"/>
              <exception deroute="AirfieldHomeLoiter" cond="(stage_time > 120) || (obcrulesdatalinklosscounter > 2)"/>
              <exception deroute="Standby" cond="datalink_time == 0"/>
              <set var="obcrulesdatalinklosscounter" value="obcrulesdatalinklosscounter+1" no="1"/>
              <circle wp="COMMSHOLD" radius="nav_radius" no="2"/>
            </block>
            <block name="AirfieldHomeLoiter" no="8">
              <go wp="AIRFIELDHOME" hmode="route" approaching_time="0" no="0"/>
              <circle wp="AIRFIELDHOME" radius="nav_radius" no="1"/>
            </block>
            <block strip_icon="eight.png" strip_button="Figure 8 (wp 1-2)" name="Figure 8 around wp 1" key="8" no="9">
              <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
            </block>
            <block strip_icon="oval.png" strip_button="Oval (wp 1-2)" name="Oval 1-2" key="o" no="10">
              <oval radius="nav_radius" p2="2" p1="1" no="1"/>
            </block>
            <block strip_icon="mob.png" strip_button="Circle around here" name="MOB" key="m" no="11">
              <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
              <circle wp="MOB" radius="100" no="1"/>
            </block>
            <block name="SimpleSquareRoute" key="s" no="12">
              <set var="v_ctl_auto_airspeed_setpoint" value="NOMINAL_AIRSPEED" no="0"/>
              <while cond="TRUE" no="1">
                <go wp="2" hmode="route" from="1" no="2"/>
                <go wp="3" hmode="route" from="2" no="3"/>
                <go wp="4" hmode="route" from="3" no="4"/>
                <go wp="1" hmode="route" from="4" no="5"/>
              </while>
            </block>
            <block strip_icon="land-right.png" strip_button="Land right (wp AF-TD)" name="Constant Slope Land Right AF-TD" key="l" no="13">
              <call fun="nav_compute_final_from_glide(WP_AF, WP_TD, 15.)" no="0"/>
              <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="1"/>
              <deroute block="Land" no="2"/>
            </block>
            <block strip_icon="land-left.png" strip_button="Land left (wp AF-TD)" name="Constant Slope Land Left AF-TD" no="14">
              <call fun="nav_compute_final_from_glide(WP_AF, WP_TD, 15.)" no="0"/>
              <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="1"/>
              <deroute block="Land" no="2"/>
            </block>
            <block name="Land" no="15">
              <set var="v_ctl_auto_airspeed_setpoint" value="NOMINAL_AIRSPEED" no="0"/>
              <set var="nav_radius" value="80" no="1"/>
              <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP__BASELEG, nav_radius)" no="2"/>
              <circle wp="_BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="3"/>
              <set var="v_ctl_auto_airspeed_setpoint" value="GLIDE_AIRSPEED" no="4"/>
              <circle wp="_BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 15 > fabs(GetPosAlt() - WaypointAlt(WP__BASELEG))" radius="nav_radius" no="5"/>
            </block>
            <block name="Final" no="16">
              <go wp="TD" vmode="glide" hmode="route" from="AF" approaching_time="5" no="0"/>
              <set var="v_ctl_auto_airspeed_setpoint" value="(GLIDE_AIRSPEED*10.0/12.0)" no="1"/>
            </block>
            <block name="Flare" no="17">
              <go wp="TD" vmode="glide" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
            </block>
            <block strip_icon="OpenUAS/openuas_return.png" strip_button="To Far" name="TestToFar" key="<Control>t" no="18">
              <go wp="TESTTOOFAR" no="0"/>
            </block>
            <block name="HOME" no="19">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="19" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="18" block_name="TestToFar" stage="0">
            <go wp="TESTTOOFAR" no="0"/>
          </stage>
          <stage block="17" block_name="Flare" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
          </stage>
          <stage block="17" block_name="Flare" stage="0">
            <go wp="TD" vmode="glide" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
          </stage>
          <stage block="16" block_name="Final" stage="1">
            <set var="v_ctl_auto_airspeed_setpoint" value="(GLIDE_AIRSPEED*10.0/12.0)" no="1"/>
          </stage>
          <stage block="16" block_name="Final" stage="0">
            <go wp="TD" vmode="glide" hmode="route" from="AF" approaching_time="5" no="0"/>
          </stage>
          <stage block="15" block_name="Land" stage="5">
            <circle wp="_BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 15 > fabs(GetPosAlt() - WaypointAlt(WP__BASELEG))" radius="nav_radius" no="5"/>
          </stage>
          <stage block="15" block_name="Land" stage="4">
            <set var="v_ctl_auto_airspeed_setpoint" value="GLIDE_AIRSPEED" no="4"/>
          </stage>
          <stage block="15" block_name="Land" stage="3">
            <circle wp="_BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="3"/>
          </stage>
          <stage block="15" block_name="Land" stage="2">
            <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP__BASELEG, nav_radius)" no="2"/>
          </stage>
          <stage block="15" block_name="Land" stage="1">
            <set var="nav_radius" value="80" no="1"/>
          </stage>
          <stage block="15" block_name="Land" stage="0">
            <set var="v_ctl_auto_airspeed_setpoint" value="NOMINAL_AIRSPEED" no="0"/>
          </stage>
          <stage block="14" block_name="Constant Slope Land Left AF-TD" stage="2">
            <deroute block="Land" no="2"/>
          </stage>
          <stage block="14" block_name="Constant Slope Land Left AF-TD" stage="1">
            <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="1"/>
          </stage>
          <stage block="14" block_name="Constant Slope Land Left AF-TD" stage="0">
            <call fun="nav_compute_final_from_glide(WP_AF, WP_TD, 15.)" no="0"/>
          </stage>
          <stage block="13" block_name="Constant Slope Land Right AF-TD" stage="2">
            <deroute block="Land" no="2"/>
          </stage>
          <stage block="13" block_name="Constant Slope Land Right AF-TD" stage="1">
            <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="1"/>
          </stage>
          <stage block="13" block_name="Constant Slope Land Right AF-TD" stage="0">
            <call fun="nav_compute_final_from_glide(WP_AF, WP_TD, 15.)" no="0"/>
          </stage>
          <stage block="12" block_name="SimpleSquareRoute" stage="5">
            <go wp="1" hmode="route" from="4" no="5"/>
          </stage>
          <stage block="12" block_name="SimpleSquareRoute" stage="4">
            <go wp="4" hmode="route" from="3" no="4"/>
          </stage>
          <stage block="12" block_name="SimpleSquareRoute" stage="3">
            <go wp="3" hmode="route" from="2" no="3"/>
          </stage>
          <stage block="12" block_name="SimpleSquareRoute" stage="2">
            <go wp="2" hmode="route" from="1" no="2"/>
          </stage>
          <stage block="12" block_name="SimpleSquareRoute" stage="1">
            <while cond="TRUE" no="1">
              <go wp="2" hmode="route" from="1" no="2"/>
              <go wp="3" hmode="route" from="2" no="3"/>
              <go wp="4" hmode="route" from="3" no="4"/>
              <go wp="1" hmode="route" from="4" no="5"/>
            </while>
          </stage>
          <stage block="12" block_name="SimpleSquareRoute" stage="0">
            <set var="v_ctl_auto_airspeed_setpoint" value="NOMINAL_AIRSPEED" no="0"/>
          </stage>
          <stage block="11" block_name="MOB" stage="1">
            <circle wp="MOB" radius="100" no="1"/>
          </stage>
          <stage block="11" block_name="MOB" stage="0">
            <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
          </stage>
          <stage block="10" block_name="Oval 1-2" stage="1">
            <oval radius="nav_radius" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="9" block_name="Figure 8 around wp 1" stage="1">
            <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
          </stage>
          <stage block="8" block_name="AirfieldHomeLoiter" stage="1">
            <circle wp="AIRFIELDHOME" radius="nav_radius" no="1"/>
          </stage>
          <stage block="8" block_name="AirfieldHomeLoiter" stage="0">
            <go wp="AIRFIELDHOME" hmode="route" approaching_time="0" no="0"/>
          </stage>
          <stage block="7" block_name="CommsHoldLoiter" stage="2">
            <circle wp="COMMSHOLD" radius="nav_radius" no="2"/>
          </stage>
          <stage block="7" block_name="CommsHoldLoiter" stage="1">
            <set var="obcrulesdatalinklosscounter" value="obcrulesdatalinklosscounter+1" no="1"/>
          </stage>
          <stage block="7" block_name="CommsHoldLoiter" stage="0">
            <set var="v_ctl_auto_airspeed_setpoint" value="NOMINAL_AIRSPEED" no="0"/>
          </stage>
          <stage block="6" block_name="Standby" stage="1">
            <circle wp="STDBY" radius="nav_radius" no="1"/>
          </stage>
          <stage block="6" block_name="Standby" stage="0">
            <set var="v_ctl_auto_airspeed_setpoint" value="NOMINAL_AIRSPEED" no="0"/>
          </stage>
          <stage block="5" block_name="AutoTakeoff" stage="3">
            <attitude vmode="throttle" until="GetPosAlt() > GetAltRef()+30" throttle="1" roll="0" pitch="30" no="3"/>
          </stage>
          <stage block="5" block_name="AutoTakeoff" stage="2">
            <set var="autopilot_flight_time" value="0" no="2"/>
          </stage>
          <stage block="5" block_name="AutoTakeoff" stage="1">
            <set var="launch" value="1" no="1"/>
          </stage>
          <stage block="5" block_name="AutoTakeoff" stage="0">
            <set var="kill_throttle" value="0" no="0"/>
          </stage>
          <stage block="4" block_name="TakeoffEx" stage="4">
            <go wp="CLIMB" no="4"/>
          </stage>
          <stage block="4" block_name="TakeoffEx" stage="3">
            <set var="v_ctl_auto_airspeed_setpoint" value="CLIMB_AIRSPEED" no="3"/>
          </stage>
          <stage block="4" block_name="TakeoffEx" stage="2">
            <set var="autopilot_flight_time" value="0" no="2"/>
          </stage>
          <stage block="4" block_name="TakeoffEx" stage="1">
            <set var="launch" value="1" no="1"/>
          </stage>
          <stage block="4" block_name="TakeoffEx" stage="0">
            <set var="kill_throttle" value="0" no="0"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="2">
            <go wp="CLIMB" no="2"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="1">
            <set var="autopilot_flight_time" value="0" no="1"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="0">
            <set var="launch" value="1" no="0"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="8">
            <deroute block="AutoTakeoff" no="8"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="6">
            <while cond="RCLost()" no="6"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="5">
            <call fun="NavSetWaypointHere(WP_AIRFIELDHOME)" no="5"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="3">
            <while cond="LessThan(NavBlockTime(), 8)" no="3"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="1">
            <call fun="NavSetWaypointHere(WP_HOME)" no="1"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="0">
            <set var="obcrulesdatalinklosscounter" value="0" no="0"/>
          </stage>
          <stage block="1" block_name="Initialize" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="1" block_name="Initialize" stage="0">
            <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
          </stage>
          <stage block="0" block_name="WaitForGPSFix" stage="1">
            <while cond="!GpsFixValid() || gps.pacc > 1700" no="1"/>
          </stage>
          <stage block="0" block_name="WaitForGPSFix" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Vivify">
        <firmware NAME="fixedwing">
          <target NAME="ap" BOARD="lisa_m_2.0">
            <define VALUE="FALSE" NAME="autopilot_motors_on"/>
            <define NAME="SENSOR_SYNC_SEND"/>
            <configure VALUE="120" NAME="PERIODIC_FREQUENCY"/>
            <configure VALUE="100" NAME="AHRS_PROPAGATE_FREQUENCY"/>
            <configure VALUE="100" NAME="AHRS_CORRECT_FREQUENCY"/>
            <define NAME="AHRS_TRIGGERED_ATTITUDE_LOOP"/>
            <define NAME="USE_I2C2"/>
            <define NAME="USE_AHRS_GPS_ACCELERATIONS"/>
            <configure VALUE="TRUE" NAME="USE_BARO_BOARD"/>
            <configure VALUE="1" NAME="AHRS_ALIGNER_LED"/>
            <configure VALUE="1" NAME="CPU_LED"/>
            <define VALUE="80" NAME="BAT_CHECKER_DELAY"/>
            <define VALUE="80" NAME="CATASTROPHIC_BATTERY_KILL_DELAY"/>
            <subsystem TYPE="spektrum" NAME="radio_control">
              <define VALUE="RADIO_GEAR" NAME="RADIO_MODE"/>
              <define VALUE="RADIO_AUX2" NAME="RADIO_BRAKE"/>
              <define VALUE="RADIO_AUX3" NAME="RADIO_HATCH"/>
            </subsystem>
          </target>
          <target NAME="fbw" BOARD="lisa_m_2.0">
            <configure VALUE="2" NAME="SYS_TIME_LED"/>
            <define VALUE="4" NAME="RADIO_CONTROL_LED"/>
            <define VALUE="3" NAME="LINK_MCU_LED"/>
            <subsystem TYPE="spektrum" NAME="radio_control"/>
            <define VALUE="RADIO_GEAR" NAME="RADIO_MODE"/>
            <define VALUE="RADIO_AUX2" NAME="RADIO_BRAKE"/>
            <define VALUE="RADIO_AUX3" NAME="RADIO_HATCH"/>
            <configure VALUE="JTAG" NAME="FLASH_MODE"/>
            <configure VALUE="1" NAME="NO_LUFTBOOT"/>
            <configure VALUE="/dev/ttyACM0" NAME="BMP_PORT"/>
            <define VALUE="1" NAME="OUTBACK_CHALLENGE_DANGEROUS_RULE_RC_LOST_NO_AP"/>
            <define VALUE="1" NAME="OUTBACK_CHALLENGE_VERY_DANGEROUS_RULE_AP_CAN_FORCE_FAILSAFE"/>
            <subsystem TYPE="pwm" NAME="actuators"/>
            <subsystem TYPE="uart" NAME="intermcu">
              <configure VALUE="UART2" NAME="INTERMCU_PORT"/>
              <configure VALUE="B57600" NAME="INTERMCU_BAUD"/>
            </subsystem>
          </target>
          <target NAME="sim" BOARD="pc">
            <subsystem TYPE="ppm" NAME="radio_control">
              <define VALUE="0" NAME="RADIO_AUX2"/>
              <define VALUE="0" NAME="RADIO_AUX4"/>
              <define VALUE="0" NAME="RADIO_BRAKE"/>
              <define VALUE="900" NAME="BAT_CHECKER_DELAY"/>
              <define VALUE="900" NAME="CATASTROPHIC_BATTERY_KILL_DELAY"/>
            </subsystem>
            <define VALUE="BARO_SIM_SENDER_ID" NAME="INS_BARO_ID"/>
          </target>
          <define NAME="USE_AIRSPEED"/>
          <define NAME="AIRSPEED_ETS_SYNC_SEND"/>
          <define NAME="AGR_CLIMB"/>
          <define NAME="TUNE_AGRESSIVE_CLIMB"/>
          <define NAME="STRONG_WIND"/>
          <define NAME="WIND_INFO"/>
          <define NAME="WIND_INFO_RET"/>
          <define NAME="RADIO_CONTROL_AUTO1"/>
          <subsystem TYPE="aspirin_v2.2" NAME="imu"/>
          <subsystem TYPE="int_cmpl_quat" NAME="ahrs">
            <define NAME="AHRS_GRAVITY_UPDATE_COORDINATED_TURN"/>
            <define VALUE="FALSE" NAME="USE_MAGNETOMETER"/>
          </subsystem>
          <define NAME="USE_SERVOS_7AND8"/>
          <subsystem TYPE="transparent" NAME="telemetry">
            <configure VALUE="B9600" NAME="MODEM_BAUD"/>
            <configure VALUE="UART2" NAME="MODEM_PORT"/>
          </subsystem>
          <subsystem TYPE="energy" NAME="control"/>
          <subsystem TYPE="ublox" NAME="gps">
            <configure VALUE="UART3" NAME="GPS_PORT"/>
            <configure VALUE="B38400" NAME="GPS_BAUD"/>
          </subsystem>
          <subsystem NAME="navigation"/>
          <subsystem TYPE="alt_float" NAME="ins"/>
        </firmware>
        <modules>
          <load NAME="gps_ubx_ucenter.xml"/>
          <load NAME="airspeed_ets.xml">
            <define VALUE="1" UNIT="s" NAME="AIRSPEED_ETS_START_DELAY"/>
            <define NAME="AIRSPEED_ETS_SYNC_SEND"/>
            <define VALUE="i2c2" NAME="AIRSPEED_ETS_I2C_DEV"/>
            <define VALUE="1.44" NAME="AIRSPEED_ETS_SCALE"/>
            <define VALUE="0" NAME="AIRSPEED_ETS_OFFSET"/>
          </load>
          <load NAME="photogrammetry_calculator.xml"/>
          <load NAME="nav_catapult.xml"/>
          <load NAME="baro_sim.xml"/>
          <load NAME="nav_line.xml"/>
          <load NAME="nav_drop.xml">
            <define VALUE="1" UNIT="s" NAME="TRIGGER_DELAY"/>
            <define VALUE="14" UNIT="m/s" NAME="VELOCITY_AT_RELEASE"/>
            <define VALUE="44.18e-4" NAME="ALPHA"/>
            <define VALUE="5.00e-3" UNIT="KG" NAME="MASS"/>
            <define VALUE="10" UNIT="m" NAME="SAFE_CLIMB"/>
            <define VALUE="3" UNIT="s" NAME="CLIMB_TIME"/>
          </load>
        </modules>
        <servos>
          <servo NO="0" NEUTRAL="1110" NAME="MOTOR" MIN="1100" MAX="1900"/>
          <servo NO="1" NEUTRAL="1475" NAME="ELEVON_LEFT" MIN="1100" MAX="1900"/>
          <servo NO="2" NEUTRAL="1450" NAME="ELEVON_RIGHT" MIN="1100" MAX="1900"/>
          <servo NO="3" NEUTRAL="1508" NAME="FLAPPERON_LEFT" MIN="1150" MAX="1900"/>
          <servo NO="4" NEUTRAL="1495" NAME="FLAPPERON_RIGHT" MIN="1150" MAX="1900"/>
          <servo NO="5" NEUTRAL="1900" NAME="HATCH" MIN="1950" MAX="1100"/>
          <servo NO="6" NEUTRAL="1500" NAME="LIGHTS" MIN="1100" MAX="1900"/>
        </servos>
        <commands>
          <axis NAME="THROTTLE" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="2000"/>
          <axis NAME="PITCH" FAILSAFE_VALUE="-1000"/>
          <axis NAME="YAW" FAILSAFE_VALUE="0"/>
          <axis NAME="HATCH" FAILSAFE_VALUE="9599"/>
          <axis NAME="BRAKE" FAILSAFE_VALUE="-6000"/>
          <axis NAME="FORCECRASH" FAILSAFE_VALUE="0"/>
        </commands>
        <rc_commands>
          <set VALUE="@THROTTLE" COMMAND="THROTTLE"/>
          <set VALUE="@ROLL" COMMAND="ROLL"/>
          <set VALUE="@PITCH" COMMAND="PITCH"/>
          <set VALUE="@YAW" COMMAND="YAW"/>
          <set VALUE="@BRAKE" COMMAND="BRAKE"/>
          <set VALUE="@AUX3" COMMAND="HATCH"/>
        </rc_commands>
        <section PREFIX="AUTO1_" NAME="AUTO1">
          <define VALUE="85." UNIT="deg" NAME="MAX_ROLL"/>
          <define VALUE="60." UNIT="deg" NAME="MAX_PITCH"/>
        </section>
        <section NAME="MIXER">
          <define VALUE="0.7f" NAME="ELEVON_ROLL_FACTOR"/>
          <define VALUE="0.6f" NAME="ELEVON_PITCH_FACTOR"/>
          <define VALUE="0.9f" NAME="ELEVON_YAW_FACTOR"/>
          <define VALUE="0.9f" NAME="FLAPERON_YAW_FACTOR"/>
          <define VALUE="0.1f" NAME="BRAKE_PITCH_COMPENSATION"/>
          <define VALUE="80" NAME="BRAKE_ENABLED_SLOWDOWN_FACTOR_EXTEND"/>
          <define VALUE="420" NAME="BRAKE_ENABLED_SLOWDOWN_FACTOR_RETRACT"/>
          <define VALUE="0.55f" NAME="BRAKE_MAX_PCT"/>
          <define VALUE="0.1f" NAME="BRAKE_PITCH_COMPENSATION"/>
          <define VALUE="0.3f" NAME="AILERON_DIFF"/>
        </section>
        <command_laws>
          <let VAR="brake_value_nofilt" VALUE="Chop(-@BRAKE, 0, MAX_PPRZ)"/>
          <ratelimit VAR="brake_value" VALUE="$brake_value_nofilt" RATE_MIN="-BRAKE_ENABLED_SLOWDOWN_FACTOR_RETRACT" RATE_MAX="BRAKE_ENABLED_SLOWDOWN_FACTOR_EXTEND"/>
          <let VAR="aileron" VALUE="@ROLL  * ELEVON_ROLL_FACTOR"/>
          <let VAR="elevator" VALUE="@PITCH * ELEVON_PITCH_FACTOR"/>
          <let VAR="crowbrake" VALUE="$brake_value * BRAKE_MAX_PCT"/>
          <let VAR="leftyaw" VALUE="(@YAW >= 0? 0 : 1)"/>
          <let VAR="rightyaw" VALUE="(1 - $leftyaw)"/>
          <let VAR="rudderleft" VALUE="(@YAW * $leftyaw) * ELEVON_YAW_FACTOR"/>
          <let VAR="rudderright" VALUE="(@YAW * $rightyaw) * ELEVON_YAW_FACTOR"/>
          <set VALUE="@THROTTLE" SERVO="MOTOR"/>
          <set VALUE="-$elevator + $aileron + $crowbrake + $rudderleft" SERVO="ELEVON_LEFT"/>
          <set VALUE="$elevator + $aileron - $crowbrake + $rudderright" SERVO="ELEVON_RIGHT"/>
          <set VALUE="-$elevator + $aileron - $crowbrake - $rudderleft" SERVO="FLAPPERON_LEFT"/>
          <set VALUE="$elevator + $aileron + $crowbrake - $rudderright" SERVO="FLAPPERON_RIGHT"/>
          <set VALUE="@HATCH" SERVO="HATCH"/>
        </command_laws>
        <section PREFIX="COMMAND_" NAME="TRIM">
          <define VALUE="0" UNIT="deg" NAME="ROLL_TRIM"/>
          <define VALUE="0" NAME="PITCH_TRIM"/>
        </section>
        <section PREFIX="FAILSAFE_" NAME="FAILSAFE">
          <define VALUE="0.0" UNIT="%" NAME="DEFAULT_THROTTLE"/>
          <define VALUE="0.2" UNIT="rad" NAME="DEFAULT_ROLL"/>
          <define VALUE="0.05" UNIT="rad" NAME="DEFAULT_PITCH"/>
          <define VALUE="DEFAULT_CIRCLE_RADIUS" UNIT="m" NAME="HOME_RADIUS"/>
          <define VALUE="(MAX_DIST_FROM_HOME*1.5)" NAME="KILL_MODE_DISTANCE"/>
          <define VALUE="5" UNIT="s" NAME="DELAY_WITHOUT_GPS"/>
        </section>
        <section PREFIX="IMU_" NAME="IMU">
          <define VALUE="1" NAME="ACCEL_X_SIGN"/>
          <define VALUE="1" NAME="ACCEL_Y_SIGN"/>
          <define VALUE="1" NAME="ACCEL_Z_SIGN"/>
          <define VALUE="1" NAME="GYRO_P_SIGN"/>
          <define VALUE="1" NAME="GYRO_Q_SIGN"/>
          <define VALUE="1" NAME="GYRO_R_SIGN"/>
          <define VALUE="-136" NAME="MAG_X_NEUTRAL"/>
          <define VALUE="-130" NAME="MAG_Y_NEUTRAL"/>
          <define VALUE="141" NAME="MAG_Z_NEUTRAL"/>
          <define VALUE="3.51854936936" NAME="MAG_X_SENS" INTEGER="16"/>
          <define VALUE="3.48065294671" NAME="MAG_Y_SENS" INTEGER="16"/>
          <define VALUE="4.08548845489" NAME="MAG_Z_SENS" INTEGER="16"/>
          <define VALUE="1" NAME="MAG_X_SIGN"/>
          <define VALUE="1" NAME="MAG_Y_SIGN"/>
          <define VALUE="1" NAME="MAG_Z_SIGN"/>
          <define VALUE="-0.0" UNIT="rad" NAME="BODY_TO_IMU_PHI"/>
          <define VALUE="0.0" UNIT="rad" NAME="BODY_TO_IMU_THETA"/>
          <define VALUE="-90.0" UNIT="deg" NAME="BODY_TO_IMU_PSI"/>
        </section>
        <section PREFIX="AHRS_" NAME="AHRS">
          <define VALUE="0.51562740288882" NAME="H_X"/>
          <define VALUE="-0.05707735220832" NAME="H_Y"/>
          <define VALUE="0.85490967783446" NAME="H_Z"/>
        </section>
        <section PREFIX="INS_" NAME="INS">
          <define VALUE="2.4" UNIT="deg" NAME="ROLL_NEUTRAL_DEFAULT"/>
          <define VALUE="0." UNIT="deg" NAME="PITCH_NEUTRAL_DEFAULT"/>
        </section>
        <section PREFIX="H_CTL_" NAME="HORIZONTAL CONTROL">
          <define VALUE="0.8" NAME="COURSE_PGAIN"/>
          <define VALUE="0.10" NAME="COURSE_DGAIN"/>
          <define VALUE="1.0" NAME="COURSE_PRE_BANK_CORRECTION"/>
          <define VALUE="70.0" UNIT="deg" NAME="ROLL_MAX_SETPOINT"/>
          <define VALUE="11000" NAME="ROLL_ATTITUDE_GAIN"/>
          <define VALUE="1500" NAME="ROLL_RATE_GAIN"/>
          <define VALUE="30" NAME="ROLL_IGAIN"/>
          <define VALUE="0" NAME="ROLL_KFFA"/>
          <define VALUE="0" NAME="ROLL_KFFD"/>
          <define VALUE="60" UNIT="deg" NAME="PITCH_MAX_SETPOINT"/>
          <define VALUE="-60" UNIT="deg" NAME="PITCH_MIN_SETPOINT"/>
          <define VALUE="10000." NAME="PITCH_PGAIN"/>
          <define VALUE="5" NAME="PITCH_DGAIN"/>
          <define VALUE="0." NAME="PITCH_KFFA"/>
          <define VALUE="0." NAME="PITCH_KFFD"/>
          <define VALUE="500" NAME="ELEVATOR_OF_ROLL"/>
          <define VALUE="0.0" NAME="AILERON_OF_THROTTLE"/>
          <define VALUE="0.2" NAME="ROLL_SLEW"/>
        </section>
        <section PREFIX="V_CTL_" NAME="VERTICAL CONTROL">
          <define VALUE="11.2" UNIT="volt" NAME="POWER_CTL_BAT_NOMINAL"/>
          <define VALUE="0.15" NAME="ALTITUDE_PGAIN"/>
          <define VALUE="3." UNIT="m/s" NAME="ALTITUDE_MAX_CLIMB"/>
          <define VALUE="0.6" NAME="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE"/>
          <define VALUE="0." NAME="AUTO_THROTTLE_NOMINAL_CRUISE_PITCH"/>
          <define VALUE="1.0" NAME="AUTO_THROTTLE_MAX_CRUISE_THROTTLE"/>
          <define VALUE="0." UNIT="%/(m/s)" NAME="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT"/>
          <define VALUE="0." NAME="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN"/>
          <define VALUE="0.15" NAME="AIRSPEED_PGAIN"/>
          <define VALUE="0.0" NAME="AUTO_THROTTLE_OF_AIRSPEED_PGAIN"/>
          <define VALUE="0.0" NAME="AUTO_THROTTLE_OF_AIRSPEED_IGAIN"/>
          <define VALUE="0.0" NAME="AUTO_PITCH_OF_AIRSPEED_PGAIN"/>
          <define VALUE="0.0" NAME="AUTO_PITCH_OF_AIRSPEED_IGAIN"/>
          <define VALUE="0.0" NAME="AUTO_PITCH_OF_AIRSPEED_DGAIN"/>
          <define VALUE="0.5" UNIT="m/s/s" NAME="THROTTLE_SLEW_LIMITER"/>
          <define VALUE="7" NAME="GLIDE_RATIO"/>
          <define VALUE="0.30" NAME="ENERGY_TOT_PGAIN"/>
          <define VALUE="0.25" NAME="ENERGY_TOT_IGAIN"/>
          <define VALUE="0.30" NAME="ENERGY_DIFF_PGAIN"/>
          <define VALUE="0.25" NAME="ENERGY_DIFF_IGAIN"/>
        </section>
        <section PREFIX="AGR_" NAME="AGGRESSIVE">
          <define VALUE="20" NAME="BLEND_START"/>
          <define VALUE="10" NAME="BLEND_END"/>
          <define VALUE=".999" NAME="CLIMB_THROTTLE"/>
          <define VALUE=".4" UNIT="rad" NAME="CLIMB_PITCH"/>
          <define VALUE="0.2" NAME="DESCENT_THROTTLE"/>
          <define VALUE="-0.3" NAME="DESCENT_PITCH"/>
          <define VALUE="0.8" NAME="CLIMB_NAV_RATIO"/>
          <define VALUE="0.99" NAME="DESCENT_NAV_RATIO"/>
        </section>
        <auto_rc_commands>
          <set VALUE="@YAW" COMMAND="YAW"/>
          <set VALUE="@BRAKE" COMMAND="BRAKE"/>
          <set VALUE="@AUX3" COMMAND="HATCH"/>
        </auto_rc_commands>
        <section NAME="BAT">
          <define VALUE="20000" UNIT="mA" NAME="MILLIAMP_AT_FULL_THROTTLE"/>
          <define VALUE="12.6" UNIT="V" NAME="MAX_BAT_LEVEL"/>
          <define VALUE="10.0" UNIT="V" NAME="LOW_BAT_LEVEL"/>
          <define VALUE="9.6" UNIT="V" NAME="CRITIC_BAT_LEVEL"/>
          <define VALUE="9.3" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
        </section>
        <section NAME="MISC">
          <define VALUE="15." UNIT="m/s" NAME="CLIMB_AIRSPEED"/>
          <define VALUE="19." UNIT="m/s" NAME="NOMINAL_AIRSPEED"/>
          <define VALUE="13." UNIT="m/s" NAME="GLIDE_AIRSPEED"/>
          <define VALUE="30." UNIT="m/s" NAME="RACE_AIRSPEED"/>
          <define VALUE="11." UNIT="m/s" NAME="STALL_AIRSPEED"/>
          <define VALUE="0.5" UNIT="m/s/s" NAME="AIRSPEED_SETPOINT_SLEW"/>
          <define VALUE="-1.04" UNIT="deg" NAME="NAV_GLIDE_PITCH_TRIM"/>
          <define VALUE="6." UNIT="s" NAME="CARROT"/>
          <define VALUE="100." UNIT="Hz" NAME="CONTROL_FREQUENCY"/>
          <define VALUE="110." NAME="DEFAULT_CIRCLE_RADIUS"/>
          <define VALUE="80." NAME="MIN_CIRCLE_RADIUS"/>
          <define VALUE="TRUE" NAME="UNLOCKED_HOME_MODE"/>
          <define VALUE="PPRZ_MODE_AUTO2" NAME="RC_LOST_MODE"/>
        </section>
        <section PREFIX="NAV_CATAPULT_" NAME="CATAPULT">
          <define VALUE=".1" UNIT="seconds" NAME="MOTOR_DELAY"/>
          <define VALUE="(120*3)" UNIT="seconds" NAME="HEADING_DELAY"/>
          <define VALUE="1.3" UNIT="g" NAME="ACCELERATION_THRESHOLD"/>
          <define VALUE="0.52" UNIT="rad" NAME="INITIAL_PITCH"/>
          <define VALUE=".99" NAME="INITIAL_THROTTLE"/>
          <define VALUE="3.0" UNIT="seconds" NAME="HEADING_DELAY"/>
        </section>
        <section NAME="GCS">
          <define VALUE="Vivify" NAME="SPEECH_NAME"/>
        </section>
        <section PREFIX="PHOTOGRAMMETRY_" NAME="PHOTOGRAMMETRY">
          <define VALUE="24.0" UNIT="mm" NAME="FOCAL_LENGTH"/>
          <define VALUE="6.66" UNIT="mm" NAME="SENSOR_WIDTH"/>
          <define VALUE="5.32" UNIT="mm" NAME="SENSOR_HEIGHT"/>
          <define VALUE="4000" NAME="PIXELS_WIDTH"/>
          <define VALUE="0.3" UNIT="%" NAME="OVERLAP"/>
          <define VALUE="0.2" UNIT="%" NAME="SIDELAP"/>
          <define VALUE="50" UNIT="mm pixel projection" NAME="RESOLUTION"/>
          <define VALUE="50" UNIT="m" NAME="HEIGHT_MIN"/>
          <define VALUE="220" UNIT="m" NAME="HEIGHT_MAX"/>
          <define VALUE="80" UNIT="m" NAME="RADIUS_MIN"/>
        </section>
        <section PREFIX="APP_" NAME="GLS_APPROACH">
          <define VALUE="7" UNIT="deg" NAME="ANGLE"/>
          <define VALUE="80" UNIT="m" NAME="INTERCEPT_AF_SD"/>
          <define VALUE="13" UNIT="m/s" NAME="TARGET_SPEED"/>
        </section>
      </airframe>
      <telemetry>
        <process NAME="Ap">
          <mode NAME="default">
            <message PERIOD="1.4" NAME="AIRSPEED"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="0.5" NAME="GPS"/>
            <message PERIOD="1." NAME="NAVIGATION"/>
            <message PERIOD="0.7" NAME="ATTITUDE"/>
            <message PERIOD="0.6" NAME="ESTIMATOR"/>
            <message PERIOD="2.5" NAME="ENERGY"/>
            <message PERIOD="1.1" NAME="WP_MOVED"/>
            <message PERIOD="1.05" NAME="CIRCLE"/>
            <message PERIOD="1.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="1.2" NAME="SEGMENT"/>
            <message PERIOD="2.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="SETTINGS"/>
            <message PERIOD="2.2" NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.2" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="2.0" NAME="GPS_SOL"/>
            <message PERIOD=".8" NAME="IMU_ACCEL"/>
            <message PERIOD=".9" NAME="IMU_GYRO"/>
            <message PERIOD="1.9" NAME="IMU_MAG"/>
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
          </mode>
          <mode NAME="minimal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="4" NAME="ATTITUDE"/>
            <message PERIOD="1.05" NAME="GPS"/>
            <message PERIOD="1.3" NAME="ESTIMATOR"/>
            <message PERIOD="1.4" NAME="WP_MOVED"/>
            <message PERIOD="3.05" NAME="CIRCLE"/>
            <message PERIOD="4.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="3.2" NAME="SEGMENT"/>
            <message PERIOD="5.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="3." NAME="NAVIGATION"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="5.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="5.0" NAME="GPS_SOL"/>
          </mode>
          <mode NAME="extremal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="7.5" NAME="PPRZ_MODE"/>
            <message PERIOD="8." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".05" NAME="IMU_MAG_RAW"/>
            <message PERIOD="0.5" NAME="BARO_RAW"/>
          </mode>
          <mode NAME="scaled_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".075" NAME="IMU_GYRO"/>
            <message PERIOD=".075" NAME="IMU_ACCEL"/>
            <message PERIOD=".1" NAME="IMU_MAG"/>
          </mode>
          <mode NAME="debug_imu">
            <message PERIOD="0.1" NAME="ATTITUDE"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="5.5" NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
            <message PERIOD=".5" NAME="IMU_ACCEL"/>
            <message PERIOD=".5" NAME="IMU_GYRO"/>
            <message PERIOD=".5" NAME="IMU_MAG"/>
            <message PERIOD=".5" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".5" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".5" NAME="IMU_MAG_RAW"/>
          </mode>
        </process>
        <process NAME="Fbw">
          <mode NAME="default">
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
          <mode NAME="debug">
            <message PERIOD="0.5" NAME="PPM"/>
            <message PERIOD="0.5" NAME="RC"/>
            <message PERIOD="0.5" NAME="COMMANDS"/>
            <message PERIOD="1" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="control">
            <dl_settings NAME="trim">
              <dl_setting VAR="ap_state->command_roll_trim" STEP="1" SHORTNAME="roll_trim" PARAM="COMMAND_ROLL_TRIM" MODULE="inter_mcu" MIN="-960" MAX="960"/>
              <dl_setting VAR="ap_state->command_pitch_trim" STEP="1" SHORTNAME="pitch_trim" PARAM="COMMAND_PITCH_TRIM" MIN="-960" MAX="960"/>
            </dl_settings>
            <dl_settings NAME="attitude">
              <dl_setting VAR="h_ctl_roll_pgain" STEP="250" SHORTNAME="roll_pgain" MODULE="stabilization/stabilization_attitude" MIN="000" MAX="25000"/>
              <dl_setting VAR="h_ctl_roll_max_setpoint" STEP="0.05" SHORTNAME="max_roll" PARAM="H_CTL_ROLL_MAX_SETPOINT" MIN="0" MAX="1"/>
              <dl_setting VAR="h_ctl_pitch_pgain" STEP="250" SHORTNAME="pitch_pgain" PARAM="H_CTL_PITCH_PGAIN" MIN="0" MAX="25000"/>
              <dl_setting VAR="h_ctl_pitch_dgain" STEP="10" SHORTNAME="pitch_dgain" PARAM="H_CTL_PITCH_DGAIN" MIN="0" MAX="50000"/>
              <dl_setting VAR="h_ctl_elevator_of_roll" STEP="100" SHORTNAME="elevator_of_roll" PARAM="H_CTL_ELEVATOR_OF_ROLL" MIN="0" MAX="5000"/>
              <dl_setting VAR="h_ctl_aileron_of_throttle" STEP="100" SHORTNAME="aileron_of_throttle" MIN="0" MAX="5000"/>
              <dl_setting VAR="h_ctl_roll_attitude_gain" STEP="250" SHORTNAME="roll attitude pgain" PARAM="H_CTL_ROLL_ATTITUDE_GAIN" MIN="0" MAX="15000"/>
              <dl_setting VAR="h_ctl_roll_rate_gain" STEP="250" SHORTNAME="roll rate gain" PARAM="H_CTL_ROLL_RATE_GAIN" MIN="0" MAX="15000"/>
            </dl_settings>
            <dl_settings NAME="climb_accel">
              <dl_setting VAR="v_ctl_altitude_pgain" STEP="0.01" SHORTNAME="alt_pgain" PARAM="V_CTL_ALTITUDE_PGAIN" MODULE="guidance/energy_ctrl" MIN="0" MAX="2.0"/>
              <dl_setting VAR="v_ctl_airspeed_pgain" STEP="0.01" SHORTNAME="speed_pgain" PARAM="V_CTL_AIRSPEED_PGAIN" MIN="0" MAX="1.0"/>
              <dl_setting VAR="v_ctl_max_climb" STEP="0.5" SHORTNAME="max_climb" PARAM="V_CTL_MAX_CLIMB" MIN="-10" MAX="10.0"/>
              <dl_setting VAR="v_ctl_max_acceleration" STEP="0.05" SHORTNAME="max_acc_g" PARAM="V_CTL_MAX_ACCELERATION" MIN="-2" MAX="2.0"/>
            </dl_settings>
            <dl_settings NAME="energy_loop">
              <dl_setting VAR="v_ctl_auto_airspeed_setpoint" STEP="0.5" SHORTNAME="airspeed sp" MIN="8.0" MAX="45"/>
              <dl_setting VAR="v_ctl_auto_throttle_nominal_cruise_throttle" STEP="0.05" SHORTNAME="cruise throttle" MIN="0.0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_nominal_cruise_pitch" STEP="0.05" SHORTNAME="cruise pitch" MIN="0.0" MAX="1"/>
              <dl_setting VAR="v_ctl_desired_acceleration" STEP="0.01" SHORTNAME="acc_cmd" MIN="0" MAX="1.0"/>
              <dl_setting VAR="v_ctl_auto_throttle_climb_throttle_increment" STEP="0.01" SHORTNAME="throttle_incr" PARAM="V_CTL_AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT" MIN="0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_pitch_of_vz_pgain" STEP="0.01" SHORTNAME="pitch_of_vz" PARAM="V_CTL_AUTO_THROTTLE_PITCH_OF_VZ_PGAIN" MIN="0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_of_airspeed_pgain" STEP="0.01" SHORTNAME="P_th_air" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_auto_throttle_of_airspeed_igain" STEP="0.001" SHORTNAME="I_th_air" MIN="0" MAX="0.1"/>
              <dl_setting VAR="v_ctl_auto_pitch_of_airspeed_pgain" STEP="0.001" SHORTNAME="P_pitch_air" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_auto_pitch_of_airspeed_igain" STEP="0.001" SHORTNAME="I_pitch_air" MIN="0" MAX="0.1"/>
              <dl_setting VAR="v_ctl_auto_pitch_of_airspeed_dgain" STEP="0.01" SHORTNAME="D_pitch_air" MIN="0" MAX="5."/>
              <dl_setting VAR="v_ctl_energy_total_pgain" STEP="0.01" SHORTNAME="P_en_tot" PARAM="V_CTL_ENERGY_TOT_PGAIN" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_energy_total_igain" STEP="0.01" SHORTNAME="I_en_tot" PARAM="V_CTL_ENERGY_TOT_IGAIN" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_energy_diff_pgain" STEP="0.01" SHORTNAME="P_en_dis" PARAM="V_CTL_ENERGY_DIFF_PGAIN" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_energy_diff_igain" STEP="0.01" SHORTNAME="I_en_dis" PARAM="V_CTL_ENERGY_DIFF_IGAIN" MIN="0" MAX="1."/>
            </dl_settings>
            <dl_settings NAME="groundspeed">
              <dl_setting VAR="v_ctl_auto_groundspeed_setpoint" STEP="0.1" SHORTNAME="gs_sp" PARAM="V_CTL_AUTO_GROUNDSPEED_SETPOINT" MODULE="guidance/energy_ctrl" MIN="5" MAX="40"/>
              <dl_setting VAR="v_ctl_auto_groundspeed_pgain" STEP="0.01" SHORTNAME="gs_pgain" PARAM="V_CTL_AUTO_GROUNDSPEED_PGAIN" MIN="0" MAX="2"/>
              <dl_setting VAR="v_ctl_auto_groundspeed_igain" STEP="0.01" SHORTNAME="gs_igain" PARAM="V_CTL_AUTO_GROUNDSPEED_IGAIN" MIN="0" MAX="2"/>
            </dl_settings>
            <dl_settings NAME="nav">
              <dl_setting VAR="h_ctl_course_pgain" STEP="0.05" SHORTNAME="course pgain" PARAM="H_CTL_COURSE_PGAIN" MIN="0.1" MAX="3"/>
              <dl_setting VAR="h_ctl_course_dgain" STEP="0.1" SHORTNAME="course dgain" PARAM="H_CTL_COURSE_DGAIN" MIN="0" MAX="2"/>
              <dl_setting VAR="h_ctl_course_pre_bank_correction" STEP="0.05" SHORTNAME="pre bank cor" PARAM="H_CTL_COURSE_PRE_BANK_CORRECTION" MIN="0.1" MAX="2"/>
              <dl_setting VAR="nav_glide_pitch_trim" STEP="0.05" SHORTNAME="glide pitch trim" PARAM="NAV_GLIDE_PITCH_TRIM" MIN="0.0" MAX="1"/>
              <dl_setting VAR="h_ctl_roll_slew" STEP="0.01" SHORTNAME="roll slew" MIN="0.02" MAX="1"/>
              <dl_setting VAR="nav_radius" STEP="5" MIN="-500" MAX="500"/>
              <dl_setting VAR="nav_course" STEP="5" MIN="0" MAX="359"/>
              <dl_setting VAR="nav_mode" STEP="1" MIN="1" MAX="2"/>
              <dl_setting VAR="nav_climb" STEP="0.5" MIN="-5" MAX="5"/>
              <dl_setting VAR="fp_pitch" STEP="1" MIN="-15" MAX="15"/>
              <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-50" MAX="50" HANDLER="IncreaseShift"/>
              <dl_setting VAR="nav_ground_speed_setpoint" STEP="0.5" SHORTNAME="ground speed" MIN="5" MAX="50"/>
              <dl_setting VAR="nav_ground_speed_pgain" STEP="0.01" SHORTNAME="ground speed pgain" MIN="0" MAX="0.2"/>
              <dl_setting VAR="nav_survey_shift" STEP="5" MIN="50" MAX="500"/>
            </dl_settings>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="ins">
            <dl_setting VAR="ins_roll_neutral" UNIT="rad" STEP="0.5" SHORTNAME="roll_neutral" PARAM="INS_ROLL_NEUTRAL_DEFAULT" MODULE="subsystems/ahrs" MIN="-15" MAX="15" ALT_UNIT="deg"/>
            <dl_setting VAR="ins_pitch_neutral" UNIT="rad" STEP="0.5" SHORTNAME="pitch_neutral" PARAM="INS_PITCH_NEUTRAL_DEFAULT" MIN="-15" MAX="15" ALT_UNIT="deg"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="performance">
            <dl_settings NAME="estimates">
              <dl_setting VAR="ac_char_climb_pitch" STEP="1" SHORTNAME="climb_pitch" MODULE="guidance/energy_ctrl" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_climb_max" STEP="1" SHORTNAME="climb_max" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_descend_pitch" STEP="1" SHORTNAME="descend_pitch" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_descend_max" STEP="1" SHORTNAME="descend_max" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_cruise_throttle" STEP="1" SHORTNAME="cruise_thr" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_cruise_pitch" STEP="1" SHORTNAME="cruise_pitch" MIN="-1" MAX="1"/>
            </dl_settings>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="flight params">
            <dl_setting VAR="flight_altitude" STEP="10" SHORTNAME="altitude" MIN="0" MAX="1000"/>
            <dl_setting VAR="nav_course" STEP="1" MIN="0" MAX="360"/>
            <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-10" MAX="10" HANDLER="IncreaseShift"/>
            <dl_setting VAR="autopilot_flight_time" STEP="1" SHORTNAME="flight time" MODULE="autopilot" MIN="0" MAX="0" HANDLER="ResetFlightTimeAndLaunch"/>
            <dl_setting VAR="nav_radius" STEP="10" MODULE="firmwares/fixedwing/nav" MIN="-200" MAX="200" HANDLER="SetNavRadius">
              <strip_button VALUE="1" NAME="Circle right" ICON="circle-right.png" GROUP="circle"/>
              <strip_button VALUE="-1" NAME="Circle left" ICON="circle-left.png" GROUP="circle"/>
              <key_press VALUE="1" KEY="greater"/>
              <key_press VALUE="-1" KEY="less"/>
            </dl_setting>
          </dl_settings>
          <dl_settings NAME="mode">
            <dl_setting VAR="pprz_mode" VALUES="MANUAL|AUTO1|AUTO2|HOME|NOGPS|FAILSAFE" STEP="1" MODULE="autopilot" MIN="0" MAX="2"/>
            <dl_setting VAR="launch" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="kill_throttle" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="gps.reset" STEP="1" SHORTNAME="GPS reset" MODULE="subsystems/gps" MIN="0" MAX="2" HANDLER="Reset"/>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <aircraft name="VivifyMK2" ac_id="218" airframe="airframes/OpenUAS/openuas_vivify_mk1.xml" radio="radios/spektrum.xml" telemetry="telemetry/default_fixedwing_imu_9k6.xml" flight_plan="flight_plans/OpenUAS/openuas_simplesquare_marenbach_airspeed.xml" settings=" settings/fixedwing_basic.xml settings/control/ctl_energy.xml settings/estimation/ins_neutrals.xml settings/estimation/ac_char.xml" gui_color="#ffffe5ec67d1">
      <radio SYNC_MIN="5000" SYNC_MAX="15000" PULSE_TYPE="NEGATIVE" NAME="JR XP903" DATA_MIN="900" DATA_MAX="2100">
        <channel NEUTRAL="950" MIN="950" MAX="2050" FUNCTION="THROTTLE" CTL="left_stick_vert" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="ROLL" CTL="right_stick_horiz" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="PITCH" CTL="right_stick_vert" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="950" MAX="2050" FUNCTION="YAW" CTL="left_stick_horiz" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="948" FUNCTION="UNUSED" CTL="switch_g" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="MODE" CTL="switch_C" AVERAGE="1"/>
        <channel NEUTRAL="1496" MIN="2050" MAX="948" FUNCTION="KILL" CTL="aux2" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="AUX3" CTL="aux3" AVERAGE="1"/>
        <channel NEUTRAL="1496" MIN="2050" MAX="948" FUNCTION="AUX4" CTL="aux4" AVERAGE="1"/>
      </radio>
      <dump>
        <flight_plan security_height="120" qfu="310" name="opennuas simplesquare airspeed" max_dist_from_home="580" lon0="7.567305" lat0="50.726999" ground_alt="292" alt="395">
          <header>    #include &quot;subsystems/navigation/nav_line.h&quot;
    #include &quot;subsystems/nav.h&quot;
    #include &quot;subsystems/datalink/datalink.h&quot;
    #include &quot;subsystems/navigation/OSAMNav.h&quot;
    #include &quot;subsystems/navigation/bomb.h&quot;
    #include &quot;firmwares/fixedwing/guidance/energy_ctrl.h&quot;</header>
          <waypoints>
            <waypoint y="19.5" x="-51.5" name="AIRFIELDHOME"/>
            <waypoint y="0.0" x="0.0" name="HOME"/>
            <waypoint y="64.0" x="42.1" name="STDBY"/>
            <waypoint y="65.2" x="-155.4" name="CLIMB"/>
            <waypoint y="377.0" x="34.8" name="TESTTOOFAR"/>
            <waypoint y="179.2" x="79.6" name="MOB"/>
            <waypoint y="51.2" x="236.2" name="1"/>
            <waypoint y="41.8" x="-120.0" name="2"/>
            <waypoint y="240.1" x="-105.9" name="3"/>
            <waypoint y="246.4" x="228.8" name="4"/>
            <waypoint y="-68.7" x="416.3" name="_MB1"/>
            <waypoint y="-186.3" x="-391.6" name="_MB2"/>
            <waypoint y="293.2" x="-376.2" name="_MB3"/>
            <waypoint y="389.7" x="357.2" name="_MB4"/>
            <waypoint y="91.3" x="-34.7" name="AF" height="30"/>
            <waypoint y="-36." x="-1600." name="SD"/>
            <waypoint y="-36." x="-1600." name="TOD"/>
            <waypoint y="-17.7" x="-130.2" name="TD" height="0.0"/>
            <waypoint y="113.7" x="41.5" name="_BASELEG" height="200.0"/>
          </waypoints>
          <sectors>
            <sector name="MissionBoundary" color="red">
              <corner name="_MB1"/>
              <corner name="_MB2"/>
              <corner name="_MB3"/>
              <corner name="_MB4"/>
            </sector>
          </sectors>
          <exceptions>
            <exception deroute="Standby" cond="(datalink_time > 35) && !(nav_block == IndexOfBlock('WaitForGPSFix')) && !(nav_block == IndexOfBlock('Initialize')) && !(nav_block == IndexOfBlock('Set_base_location')) && !(nav_block == IndexOfBlock('Takeoff')) && !(nav_block == IndexOfBlock('AutoTakeoff')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Final')) && !(nav_block == IndexOfBlock('Flare'))"/>
            <exception deroute="Standby" cond="(electrical.bat_low==TRUE) && !(nav_block == IndexOfBlock('WaitForGPSFix')) && !(nav_block == IndexOfBlock('Initialize')) && !(nav_block == IndexOfBlock('Set_base_location')) && !(nav_block == IndexOfBlock('Takeoff')) && !(nav_block == IndexOfBlock('AutoTakeoff')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Final')) && !(nav_block == IndexOfBlock('Flare'))"/>
            <exception deroute="Standby" cond="!(InsideMissionBoundary(GetPosX(), GetPosY())) && !(nav_block == IndexOfBlock('WaitForGPSFix')) && !(nav_block == IndexOfBlock('Initialize')) && !(nav_block == IndexOfBlock('Set_base_location')) && !(nav_block == IndexOfBlock('Takeoff')) && !(nav_block == IndexOfBlock('AutoTakeoff')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Final')) && !(nav_block == IndexOfBlock('Flare'))"/>
          </exceptions>
          <blocks>
            <block name="WaitForGPSFix" no="0">
              <set var="kill_throttle" value="1" no="0"/>
              <while cond="!GpsFixValid() || gps.pacc > 1700" no="1"/>
            </block>
            <block name="Initialize" no="1">
              <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
            </block>
            <block name="Set_base_location" no="2">
              <call fun="NavSetWaypointHere(WP_HOME)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="1"/>
              <set var="kill_throttle" value="0" no="2"/>
              <while cond="LessThan(NavBlockTime(), 4)" no="3"/>
              <call fun="NavSetWaypointHere(WP_AIRFIELDHOME)" no="5"/>
              <set var="launch" value="1" no="6"/>
              <deroute block="AutoTakeoff" no="7"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff (wp CLIMB)" name="Takeoff" no="3">
              <set var="launch" value="1" no="0"/>
              <set var="autopilot_flight_time" value="0" no="1"/>
              <exception deroute="Standby" cond="GetPosAlt() > ground_alt+30"/>
              <set var="kill_throttle" value="0" no="2"/>
              <set var="v_ctl_auto_airspeed_setpoint" value="CLIMB_AIRSPEED" no="3"/>
              <go wp="CLIMB" no="4"/>
            </block>
            <block name="AutoTakeoff" no="4">
              <set var="v_ctl_auto_airspeed_setpoint" value="NOMINAL_AIRSPEED" no="0"/>
              <circle wp="STDBY" radius="nav_radius" no="1"/>
            </block>
            <block strip_icon="eight.png" strip_button="Figure 8 (wp 1-2)" name="Figure 8 around wp 1" key="8" no="5">
              <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
            </block>
            <block strip_icon="oval.png" strip_button="Oval (wp 1-2)" name="Oval 1-2" key="o" no="6">
              <oval radius="nav_radius" p2="2" p1="1" no="1"/>
            </block>
            <block strip_icon="mob.png" strip_button="Circle around here" name="MOB" key="m" no="7">
              <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
              <circle wp="MOB" radius="100" no="1"/>
            </block>
            <block name="SimpleSquareRoute" key="s" no="8">
              <for var="i" to="20" from="0" no="1">
                <go wp="2" hmode="route" from="1" no="2"/>
                <go wp="3" hmode="route" from="2" no="3"/>
                <go wp="4" hmode="route" from="3" no="4"/>
                <go wp="1" hmode="route" from="4" no="5"/>
              </for>
            </block>
            <block strip_icon="land-right.png" strip_button="Land right (wp AF-TD)" name="Constant Slope Land Right AF-TD" key="l" no="9">
              <call fun="nav_compute_final_from_glide(WP_AF, WP_TD, 15.)" no="0"/>
              <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="1"/>
              <deroute block="Land" no="2"/>
            </block>
            <block strip_icon="land-left.png" strip_button="Land left (wp AF-TD)" name="Constant Slope Land Left AF-TD" no="10">
              <call fun="nav_compute_final_from_glide(WP_AF, WP_TD, 15.)" no="0"/>
              <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="1"/>
              <deroute block="Land" no="2"/>
            </block>
            <block name="Land" no="11">
              <set var="v_ctl_auto_airspeed_setpoint" value="NOMINAL_AIRSPEED" no="0"/>
              <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP__BASELEG, nav_radius)" no="1"/>
              <circle wp="_BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="2"/>
              <set var="v_ctl_auto_airspeed_setpoint" value="GLIDE_AIRSPEED" no="3"/>
              <circle wp="_BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 10 > fabs(GetPosAlt() - WaypointAlt(WP__BASELEG))" radius="nav_radius" no="4"/>
            </block>
            <block name="Final" no="12">
              <go wp="TD" vmode="glide" hmode="route" from="AF" approaching_time="6" no="0"/>
              <set var="v_ctl_auto_airspeed_setpoint" value="(GLIDE_AIRSPEED*10.0/12.0)" no="1"/>
            </block>
            <block name="Flare" no="13">
              <go wp="TD" vmode="glide" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
            </block>
            <block strip_icon="OpenUAS/openuas_return.png" strip_button="To Far" name="TestToFar" key="<Control>t" no="14">
              <go wp="TESTTOOFAR" no="0"/>
            </block>
            <block name="HOME" no="15">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="15" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="14" block_name="TestToFar" stage="0">
            <go wp="TESTTOOFAR" no="0"/>
          </stage>
          <stage block="13" block_name="Flare" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
          </stage>
          <stage block="13" block_name="Flare" stage="0">
            <go wp="TD" vmode="glide" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
          </stage>
          <stage block="12" block_name="Final" stage="1">
            <set var="v_ctl_auto_airspeed_setpoint" value="(GLIDE_AIRSPEED*10.0/12.0)" no="1"/>
          </stage>
          <stage block="12" block_name="Final" stage="0">
            <go wp="TD" vmode="glide" hmode="route" from="AF" approaching_time="6" no="0"/>
          </stage>
          <stage block="11" block_name="Land" stage="4">
            <circle wp="_BASELEG" until="NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10) && 10 > fabs(GetPosAlt() - WaypointAlt(WP__BASELEG))" radius="nav_radius" no="4"/>
          </stage>
          <stage block="11" block_name="Land" stage="3">
            <set var="v_ctl_auto_airspeed_setpoint" value="GLIDE_AIRSPEED" no="3"/>
          </stage>
          <stage block="11" block_name="Land" stage="2">
            <circle wp="_BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="2"/>
          </stage>
          <stage block="11" block_name="Land" stage="1">
            <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP__BASELEG, nav_radius)" no="1"/>
          </stage>
          <stage block="11" block_name="Land" stage="0">
            <set var="v_ctl_auto_airspeed_setpoint" value="NOMINAL_AIRSPEED" no="0"/>
          </stage>
          <stage block="10" block_name="Constant Slope Land Left AF-TD" stage="2">
            <deroute block="Land" no="2"/>
          </stage>
          <stage block="10" block_name="Constant Slope Land Left AF-TD" stage="1">
            <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="1"/>
          </stage>
          <stage block="10" block_name="Constant Slope Land Left AF-TD" stage="0">
            <call fun="nav_compute_final_from_glide(WP_AF, WP_TD, 15.)" no="0"/>
          </stage>
          <stage block="9" block_name="Constant Slope Land Right AF-TD" stage="2">
            <deroute block="Land" no="2"/>
          </stage>
          <stage block="9" block_name="Constant Slope Land Right AF-TD" stage="1">
            <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="1"/>
          </stage>
          <stage block="9" block_name="Constant Slope Land Right AF-TD" stage="0">
            <call fun="nav_compute_final_from_glide(WP_AF, WP_TD, 15.)" no="0"/>
          </stage>
          <stage block="8" block_name="SimpleSquareRoute" stage="5">
            <go wp="1" hmode="route" from="4" no="5"/>
          </stage>
          <stage block="8" block_name="SimpleSquareRoute" stage="4">
            <go wp="4" hmode="route" from="3" no="4"/>
          </stage>
          <stage block="8" block_name="SimpleSquareRoute" stage="3">
            <go wp="3" hmode="route" from="2" no="3"/>
          </stage>
          <stage block="8" block_name="SimpleSquareRoute" stage="2">
            <go wp="2" hmode="route" from="1" no="2"/>
          </stage>
          <stage block="8" block_name="SimpleSquareRoute" stage="1">
            <for var="i" to="20" from="0" no="1">
              <go wp="2" hmode="route" from="1" no="2"/>
              <go wp="3" hmode="route" from="2" no="3"/>
              <go wp="4" hmode="route" from="3" no="4"/>
              <go wp="1" hmode="route" from="4" no="5"/>
            </for>
          </stage>
          <stage block="7" block_name="MOB" stage="1">
            <circle wp="MOB" radius="100" no="1"/>
          </stage>
          <stage block="7" block_name="MOB" stage="0">
            <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
          </stage>
          <stage block="6" block_name="Oval 1-2" stage="1">
            <oval radius="nav_radius" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="5" block_name="Figure 8 around wp 1" stage="1">
            <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
          </stage>
          <stage block="4" block_name="AutoTakeoff" stage="1">
            <circle wp="STDBY" radius="nav_radius" no="1"/>
          </stage>
          <stage block="4" block_name="AutoTakeoff" stage="0">
            <set var="v_ctl_auto_airspeed_setpoint" value="NOMINAL_AIRSPEED" no="0"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="4">
            <go wp="CLIMB" no="4"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="3">
            <set var="v_ctl_auto_airspeed_setpoint" value="CLIMB_AIRSPEED" no="3"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="2">
            <set var="kill_throttle" value="0" no="2"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="1">
            <set var="autopilot_flight_time" value="0" no="1"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="0">
            <set var="launch" value="1" no="0"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="7">
            <deroute block="AutoTakeoff" no="7"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="6">
            <set var="launch" value="1" no="6"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="5">
            <call fun="NavSetWaypointHere(WP_AIRFIELDHOME)" no="5"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="3">
            <while cond="LessThan(NavBlockTime(), 4)" no="3"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="2">
            <set var="kill_throttle" value="0" no="2"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="1">
            <call fun="NavSetGroundReferenceHere()" no="1"/>
          </stage>
          <stage block="2" block_name="Set_base_location" stage="0">
            <call fun="NavSetWaypointHere(WP_HOME)" no="0"/>
          </stage>
          <stage block="1" block_name="Initialize" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="1" block_name="Initialize" stage="0">
            <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
          </stage>
          <stage block="0" block_name="WaitForGPSFix" stage="1">
            <while cond="!GpsFixValid() || gps.pacc > 1700" no="1"/>
          </stage>
          <stage block="0" block_name="WaitForGPSFix" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Vivify">
        <firmware NAME="fixedwing">
          <target NAME="ap" BOARD="lisa_m_2.0">
            <define VALUE="FALSE" NAME="autopilot_motors_on"/>
            <define NAME="SENSOR_SYNC_SEND"/>
            <configure VALUE="120" NAME="PERIODIC_FREQUENCY"/>
            <configure VALUE="100" NAME="AHRS_PROPAGATE_FREQUENCY"/>
            <configure VALUE="100" NAME="AHRS_CORRECT_FREQUENCY"/>
            <define NAME="AHRS_TRIGGERED_ATTITUDE_LOOP"/>
            <define NAME="USE_I2C2"/>
            <define NAME="USE_AHRS_GPS_ACCELERATIONS"/>
            <configure VALUE="TRUE" NAME="USE_BARO_BOARD"/>
            <configure VALUE="1" NAME="AHRS_ALIGNER_LED"/>
            <configure VALUE="1" NAME="CPU_LED"/>
            <define VALUE="80" NAME="BAT_CHECKER_DELAY"/>
            <define VALUE="80" NAME="CATASTROPHIC_BATTERY_KILL_DELAY"/>
            <subsystem TYPE="spektrum" NAME="radio_control">
              <define VALUE="RADIO_GEAR" NAME="RADIO_MODE"/>
              <define VALUE="RADIO_AUX2" NAME="RADIO_BRAKE"/>
              <define VALUE="RADIO_AUX3" NAME="RADIO_HATCH"/>
            </subsystem>
          </target>
          <target NAME="fbw" BOARD="lisa_m_2.0">
            <configure VALUE="2" NAME="SYS_TIME_LED"/>
            <define VALUE="4" NAME="RADIO_CONTROL_LED"/>
            <define VALUE="3" NAME="LINK_MCU_LED"/>
            <subsystem TYPE="spektrum" NAME="radio_control"/>
            <define VALUE="RADIO_GEAR" NAME="RADIO_MODE"/>
            <define VALUE="RADIO_AUX2" NAME="RADIO_BRAKE"/>
            <define VALUE="RADIO_AUX3" NAME="RADIO_HATCH"/>
            <configure VALUE="JTAG" NAME="FLASH_MODE"/>
            <configure VALUE="1" NAME="NO_LUFTBOOT"/>
            <configure VALUE="/dev/ttyACM0" NAME="BMP_PORT"/>
            <define VALUE="1" NAME="OUTBACK_CHALLENGE_DANGEROUS_RULE_RC_LOST_NO_AP"/>
            <define VALUE="1" NAME="OUTBACK_CHALLENGE_VERY_DANGEROUS_RULE_AP_CAN_FORCE_FAILSAFE"/>
            <subsystem TYPE="pwm" NAME="actuators"/>
            <subsystem TYPE="uart" NAME="intermcu">
              <configure VALUE="UART2" NAME="INTERMCU_PORT"/>
              <configure VALUE="B57600" NAME="INTERMCU_BAUD"/>
            </subsystem>
          </target>
          <target NAME="sim" BOARD="pc">
            <subsystem TYPE="ppm" NAME="radio_control">
              <define VALUE="0" NAME="RADIO_AUX2"/>
              <define VALUE="0" NAME="RADIO_AUX4"/>
              <define VALUE="0" NAME="RADIO_BRAKE"/>
              <define VALUE="900" NAME="BAT_CHECKER_DELAY"/>
              <define VALUE="900" NAME="CATASTROPHIC_BATTERY_KILL_DELAY"/>
            </subsystem>
            <define VALUE="BARO_SIM_SENDER_ID" NAME="INS_BARO_ID"/>
          </target>
          <define NAME="USE_AIRSPEED"/>
          <define NAME="AIRSPEED_ETS_SYNC_SEND"/>
          <define NAME="AGR_CLIMB"/>
          <define NAME="TUNE_AGRESSIVE_CLIMB"/>
          <define NAME="STRONG_WIND"/>
          <define NAME="WIND_INFO"/>
          <define NAME="WIND_INFO_RET"/>
          <define NAME="RADIO_CONTROL_AUTO1"/>
          <subsystem TYPE="aspirin_v2.2" NAME="imu"/>
          <subsystem TYPE="int_cmpl_quat" NAME="ahrs">
            <define NAME="AHRS_GRAVITY_UPDATE_COORDINATED_TURN"/>
            <define VALUE="FALSE" NAME="USE_MAGNETOMETER"/>
          </subsystem>
          <define NAME="USE_SERVOS_7AND8"/>
          <subsystem TYPE="transparent" NAME="telemetry">
            <configure VALUE="B9600" NAME="MODEM_BAUD"/>
            <configure VALUE="UART2" NAME="MODEM_PORT"/>
          </subsystem>
          <subsystem TYPE="energy" NAME="control"/>
          <subsystem TYPE="ublox" NAME="gps">
            <configure VALUE="UART3" NAME="GPS_PORT"/>
            <configure VALUE="B38400" NAME="GPS_BAUD"/>
          </subsystem>
          <subsystem NAME="navigation"/>
          <subsystem TYPE="alt_float" NAME="ins"/>
        </firmware>
        <modules>
          <load NAME="gps_ubx_ucenter.xml"/>
          <load NAME="airspeed_ets.xml">
            <define VALUE="1" UNIT="s" NAME="AIRSPEED_ETS_START_DELAY"/>
            <define NAME="AIRSPEED_ETS_SYNC_SEND"/>
            <define VALUE="i2c2" NAME="AIRSPEED_ETS_I2C_DEV"/>
            <define VALUE="1.44" NAME="AIRSPEED_ETS_SCALE"/>
            <define VALUE="0" NAME="AIRSPEED_ETS_OFFSET"/>
          </load>
          <load NAME="photogrammetry_calculator.xml"/>
          <load NAME="nav_catapult.xml"/>
          <load NAME="baro_sim.xml"/>
          <load NAME="nav_line.xml"/>
          <load NAME="nav_drop.xml">
            <define VALUE="1" UNIT="s" NAME="TRIGGER_DELAY"/>
            <define VALUE="14" UNIT="m/s" NAME="VELOCITY_AT_RELEASE"/>
            <define VALUE="44.18e-4" NAME="ALPHA"/>
            <define VALUE="5.00e-3" UNIT="KG" NAME="MASS"/>
            <define VALUE="10" UNIT="m" NAME="SAFE_CLIMB"/>
            <define VALUE="3" UNIT="s" NAME="CLIMB_TIME"/>
          </load>
        </modules>
        <servos>
          <servo NO="0" NEUTRAL="1110" NAME="MOTOR" MIN="1100" MAX="1900"/>
          <servo NO="1" NEUTRAL="1475" NAME="ELEVON_LEFT" MIN="1100" MAX="1900"/>
          <servo NO="2" NEUTRAL="1450" NAME="ELEVON_RIGHT" MIN="1100" MAX="1900"/>
          <servo NO="3" NEUTRAL="1508" NAME="FLAPPERON_LEFT" MIN="1150" MAX="1900"/>
          <servo NO="4" NEUTRAL="1495" NAME="FLAPPERON_RIGHT" MIN="1150" MAX="1900"/>
          <servo NO="5" NEUTRAL="1900" NAME="HATCH" MIN="1950" MAX="1100"/>
          <servo NO="6" NEUTRAL="1500" NAME="LIGHTS" MIN="1100" MAX="1900"/>
        </servos>
        <commands>
          <axis NAME="THROTTLE" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="2000"/>
          <axis NAME="PITCH" FAILSAFE_VALUE="-1000"/>
          <axis NAME="YAW" FAILSAFE_VALUE="0"/>
          <axis NAME="HATCH" FAILSAFE_VALUE="9599"/>
          <axis NAME="BRAKE" FAILSAFE_VALUE="-6000"/>
          <axis NAME="FORCECRASH" FAILSAFE_VALUE="0"/>
        </commands>
        <rc_commands>
          <set VALUE="@THROTTLE" COMMAND="THROTTLE"/>
          <set VALUE="@ROLL" COMMAND="ROLL"/>
          <set VALUE="@PITCH" COMMAND="PITCH"/>
          <set VALUE="@YAW" COMMAND="YAW"/>
          <set VALUE="@BRAKE" COMMAND="BRAKE"/>
          <set VALUE="@AUX3" COMMAND="HATCH"/>
        </rc_commands>
        <section PREFIX="AUTO1_" NAME="AUTO1">
          <define VALUE="85." UNIT="deg" NAME="MAX_ROLL"/>
          <define VALUE="60." UNIT="deg" NAME="MAX_PITCH"/>
        </section>
        <section NAME="MIXER">
          <define VALUE="0.7f" NAME="ELEVON_ROLL_FACTOR"/>
          <define VALUE="0.6f" NAME="ELEVON_PITCH_FACTOR"/>
          <define VALUE="0.9f" NAME="ELEVON_YAW_FACTOR"/>
          <define VALUE="0.9f" NAME="FLAPERON_YAW_FACTOR"/>
          <define VALUE="0.1f" NAME="BRAKE_PITCH_COMPENSATION"/>
          <define VALUE="80" NAME="BRAKE_ENABLED_SLOWDOWN_FACTOR_EXTEND"/>
          <define VALUE="420" NAME="BRAKE_ENABLED_SLOWDOWN_FACTOR_RETRACT"/>
          <define VALUE="0.55f" NAME="BRAKE_MAX_PCT"/>
          <define VALUE="0.1f" NAME="BRAKE_PITCH_COMPENSATION"/>
          <define VALUE="0.3f" NAME="AILERON_DIFF"/>
        </section>
        <command_laws>
          <let VAR="brake_value_nofilt" VALUE="Chop(-@BRAKE, 0, MAX_PPRZ)"/>
          <ratelimit VAR="brake_value" VALUE="$brake_value_nofilt" RATE_MIN="-BRAKE_ENABLED_SLOWDOWN_FACTOR_RETRACT" RATE_MAX="BRAKE_ENABLED_SLOWDOWN_FACTOR_EXTEND"/>
          <let VAR="aileron" VALUE="@ROLL  * ELEVON_ROLL_FACTOR"/>
          <let VAR="elevator" VALUE="@PITCH * ELEVON_PITCH_FACTOR"/>
          <let VAR="crowbrake" VALUE="$brake_value * BRAKE_MAX_PCT"/>
          <let VAR="leftyaw" VALUE="(@YAW >= 0? 0 : 1)"/>
          <let VAR="rightyaw" VALUE="(1 - $leftyaw)"/>
          <let VAR="rudderleft" VALUE="(@YAW * $leftyaw) * ELEVON_YAW_FACTOR"/>
          <let VAR="rudderright" VALUE="(@YAW * $rightyaw) * ELEVON_YAW_FACTOR"/>
          <set VALUE="@THROTTLE" SERVO="MOTOR"/>
          <set VALUE="-$elevator + $aileron + $crowbrake + $rudderleft" SERVO="ELEVON_LEFT"/>
          <set VALUE="$elevator + $aileron - $crowbrake + $rudderright" SERVO="ELEVON_RIGHT"/>
          <set VALUE="-$elevator + $aileron - $crowbrake - $rudderleft" SERVO="FLAPPERON_LEFT"/>
          <set VALUE="$elevator + $aileron + $crowbrake - $rudderright" SERVO="FLAPPERON_RIGHT"/>
          <set VALUE="@HATCH" SERVO="HATCH"/>
        </command_laws>
        <section PREFIX="COMMAND_" NAME="TRIM">
          <define VALUE="0" UNIT="deg" NAME="ROLL_TRIM"/>
          <define VALUE="0" NAME="PITCH_TRIM"/>
        </section>
        <section PREFIX="FAILSAFE_" NAME="FAILSAFE">
          <define VALUE="0.0" UNIT="%" NAME="DEFAULT_THROTTLE"/>
          <define VALUE="0.2" UNIT="rad" NAME="DEFAULT_ROLL"/>
          <define VALUE="0.05" UNIT="rad" NAME="DEFAULT_PITCH"/>
          <define VALUE="DEFAULT_CIRCLE_RADIUS" UNIT="m" NAME="HOME_RADIUS"/>
          <define VALUE="(MAX_DIST_FROM_HOME*1.5)" NAME="KILL_MODE_DISTANCE"/>
          <define VALUE="5" UNIT="s" NAME="DELAY_WITHOUT_GPS"/>
        </section>
        <section PREFIX="IMU_" NAME="IMU">
          <define VALUE="1" NAME="ACCEL_X_SIGN"/>
          <define VALUE="1" NAME="ACCEL_Y_SIGN"/>
          <define VALUE="1" NAME="ACCEL_Z_SIGN"/>
          <define VALUE="1" NAME="GYRO_P_SIGN"/>
          <define VALUE="1" NAME="GYRO_Q_SIGN"/>
          <define VALUE="1" NAME="GYRO_R_SIGN"/>
          <define VALUE="-136" NAME="MAG_X_NEUTRAL"/>
          <define VALUE="-130" NAME="MAG_Y_NEUTRAL"/>
          <define VALUE="141" NAME="MAG_Z_NEUTRAL"/>
          <define VALUE="3.51854936936" NAME="MAG_X_SENS" INTEGER="16"/>
          <define VALUE="3.48065294671" NAME="MAG_Y_SENS" INTEGER="16"/>
          <define VALUE="4.08548845489" NAME="MAG_Z_SENS" INTEGER="16"/>
          <define VALUE="1" NAME="MAG_X_SIGN"/>
          <define VALUE="1" NAME="MAG_Y_SIGN"/>
          <define VALUE="1" NAME="MAG_Z_SIGN"/>
          <define VALUE="-0.0" UNIT="rad" NAME="BODY_TO_IMU_PHI"/>
          <define VALUE="0.0" UNIT="rad" NAME="BODY_TO_IMU_THETA"/>
          <define VALUE="-90.0" UNIT="deg" NAME="BODY_TO_IMU_PSI"/>
        </section>
        <section PREFIX="AHRS_" NAME="AHRS">
          <define VALUE="0.51562740288882" NAME="H_X"/>
          <define VALUE="-0.05707735220832" NAME="H_Y"/>
          <define VALUE="0.85490967783446" NAME="H_Z"/>
        </section>
        <section PREFIX="INS_" NAME="INS">
          <define VALUE="2.4" UNIT="deg" NAME="ROLL_NEUTRAL_DEFAULT"/>
          <define VALUE="0." UNIT="deg" NAME="PITCH_NEUTRAL_DEFAULT"/>
        </section>
        <section PREFIX="H_CTL_" NAME="HORIZONTAL CONTROL">
          <define VALUE="0.8" NAME="COURSE_PGAIN"/>
          <define VALUE="0.10" NAME="COURSE_DGAIN"/>
          <define VALUE="1.0" NAME="COURSE_PRE_BANK_CORRECTION"/>
          <define VALUE="70.0" UNIT="deg" NAME="ROLL_MAX_SETPOINT"/>
          <define VALUE="11000" NAME="ROLL_ATTITUDE_GAIN"/>
          <define VALUE="1500" NAME="ROLL_RATE_GAIN"/>
          <define VALUE="30" NAME="ROLL_IGAIN"/>
          <define VALUE="0" NAME="ROLL_KFFA"/>
          <define VALUE="0" NAME="ROLL_KFFD"/>
          <define VALUE="60" UNIT="deg" NAME="PITCH_MAX_SETPOINT"/>
          <define VALUE="-60" UNIT="deg" NAME="PITCH_MIN_SETPOINT"/>
          <define VALUE="10000." NAME="PITCH_PGAIN"/>
          <define VALUE="5" NAME="PITCH_DGAIN"/>
          <define VALUE="0." NAME="PITCH_KFFA"/>
          <define VALUE="0." NAME="PITCH_KFFD"/>
          <define VALUE="500" NAME="ELEVATOR_OF_ROLL"/>
          <define VALUE="0.0" NAME="AILERON_OF_THROTTLE"/>
          <define VALUE="0.2" NAME="ROLL_SLEW"/>
        </section>
        <section PREFIX="V_CTL_" NAME="VERTICAL CONTROL">
          <define VALUE="11.2" UNIT="volt" NAME="POWER_CTL_BAT_NOMINAL"/>
          <define VALUE="0.15" NAME="ALTITUDE_PGAIN"/>
          <define VALUE="3." UNIT="m/s" NAME="ALTITUDE_MAX_CLIMB"/>
          <define VALUE="0.6" NAME="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE"/>
          <define VALUE="0." NAME="AUTO_THROTTLE_NOMINAL_CRUISE_PITCH"/>
          <define VALUE="1.0" NAME="AUTO_THROTTLE_MAX_CRUISE_THROTTLE"/>
          <define VALUE="0." UNIT="%/(m/s)" NAME="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT"/>
          <define VALUE="0." NAME="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN"/>
          <define VALUE="0.15" NAME="AIRSPEED_PGAIN"/>
          <define VALUE="0.0" NAME="AUTO_THROTTLE_OF_AIRSPEED_PGAIN"/>
          <define VALUE="0.0" NAME="AUTO_THROTTLE_OF_AIRSPEED_IGAIN"/>
          <define VALUE="0.0" NAME="AUTO_PITCH_OF_AIRSPEED_PGAIN"/>
          <define VALUE="0.0" NAME="AUTO_PITCH_OF_AIRSPEED_IGAIN"/>
          <define VALUE="0.0" NAME="AUTO_PITCH_OF_AIRSPEED_DGAIN"/>
          <define VALUE="0.5" UNIT="m/s/s" NAME="THROTTLE_SLEW_LIMITER"/>
          <define VALUE="7" NAME="GLIDE_RATIO"/>
          <define VALUE="0.30" NAME="ENERGY_TOT_PGAIN"/>
          <define VALUE="0.25" NAME="ENERGY_TOT_IGAIN"/>
          <define VALUE="0.30" NAME="ENERGY_DIFF_PGAIN"/>
          <define VALUE="0.25" NAME="ENERGY_DIFF_IGAIN"/>
        </section>
        <section PREFIX="AGR_" NAME="AGGRESSIVE">
          <define VALUE="20" NAME="BLEND_START"/>
          <define VALUE="10" NAME="BLEND_END"/>
          <define VALUE=".999" NAME="CLIMB_THROTTLE"/>
          <define VALUE=".4" UNIT="rad" NAME="CLIMB_PITCH"/>
          <define VALUE="0.2" NAME="DESCENT_THROTTLE"/>
          <define VALUE="-0.3" NAME="DESCENT_PITCH"/>
          <define VALUE="0.8" NAME="CLIMB_NAV_RATIO"/>
          <define VALUE="0.99" NAME="DESCENT_NAV_RATIO"/>
        </section>
        <auto_rc_commands>
          <set VALUE="@YAW" COMMAND="YAW"/>
          <set VALUE="@BRAKE" COMMAND="BRAKE"/>
          <set VALUE="@AUX3" COMMAND="HATCH"/>
        </auto_rc_commands>
        <section NAME="BAT">
          <define VALUE="20000" UNIT="mA" NAME="MILLIAMP_AT_FULL_THROTTLE"/>
          <define VALUE="12.6" UNIT="V" NAME="MAX_BAT_LEVEL"/>
          <define VALUE="10.0" UNIT="V" NAME="LOW_BAT_LEVEL"/>
          <define VALUE="9.6" UNIT="V" NAME="CRITIC_BAT_LEVEL"/>
          <define VALUE="9.3" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
        </section>
        <section NAME="MISC">
          <define VALUE="15." UNIT="m/s" NAME="CLIMB_AIRSPEED"/>
          <define VALUE="19." UNIT="m/s" NAME="NOMINAL_AIRSPEED"/>
          <define VALUE="13." UNIT="m/s" NAME="GLIDE_AIRSPEED"/>
          <define VALUE="30." UNIT="m/s" NAME="RACE_AIRSPEED"/>
          <define VALUE="11." UNIT="m/s" NAME="STALL_AIRSPEED"/>
          <define VALUE="0.5" UNIT="m/s/s" NAME="AIRSPEED_SETPOINT_SLEW"/>
          <define VALUE="-1.04" UNIT="deg" NAME="NAV_GLIDE_PITCH_TRIM"/>
          <define VALUE="6." UNIT="s" NAME="CARROT"/>
          <define VALUE="100." UNIT="Hz" NAME="CONTROL_FREQUENCY"/>
          <define VALUE="110." NAME="DEFAULT_CIRCLE_RADIUS"/>
          <define VALUE="80." NAME="MIN_CIRCLE_RADIUS"/>
          <define VALUE="TRUE" NAME="UNLOCKED_HOME_MODE"/>
          <define VALUE="PPRZ_MODE_AUTO2" NAME="RC_LOST_MODE"/>
        </section>
        <section PREFIX="NAV_CATAPULT_" NAME="CATAPULT">
          <define VALUE=".1" UNIT="seconds" NAME="MOTOR_DELAY"/>
          <define VALUE="(120*3)" UNIT="seconds" NAME="HEADING_DELAY"/>
          <define VALUE="1.3" UNIT="g" NAME="ACCELERATION_THRESHOLD"/>
          <define VALUE="0.52" UNIT="rad" NAME="INITIAL_PITCH"/>
          <define VALUE=".99" NAME="INITIAL_THROTTLE"/>
          <define VALUE="3.0" UNIT="seconds" NAME="HEADING_DELAY"/>
        </section>
        <section NAME="GCS">
          <define VALUE="Vivify" NAME="SPEECH_NAME"/>
        </section>
        <section PREFIX="PHOTOGRAMMETRY_" NAME="PHOTOGRAMMETRY">
          <define VALUE="24.0" UNIT="mm" NAME="FOCAL_LENGTH"/>
          <define VALUE="6.66" UNIT="mm" NAME="SENSOR_WIDTH"/>
          <define VALUE="5.32" UNIT="mm" NAME="SENSOR_HEIGHT"/>
          <define VALUE="4000" NAME="PIXELS_WIDTH"/>
          <define VALUE="0.3" UNIT="%" NAME="OVERLAP"/>
          <define VALUE="0.2" UNIT="%" NAME="SIDELAP"/>
          <define VALUE="50" UNIT="mm pixel projection" NAME="RESOLUTION"/>
          <define VALUE="50" UNIT="m" NAME="HEIGHT_MIN"/>
          <define VALUE="220" UNIT="m" NAME="HEIGHT_MAX"/>
          <define VALUE="80" UNIT="m" NAME="RADIUS_MIN"/>
        </section>
        <section PREFIX="APP_" NAME="GLS_APPROACH">
          <define VALUE="7" UNIT="deg" NAME="ANGLE"/>
          <define VALUE="80" UNIT="m" NAME="INTERCEPT_AF_SD"/>
          <define VALUE="13" UNIT="m/s" NAME="TARGET_SPEED"/>
        </section>
      </airframe>
      <telemetry>
        <process NAME="Ap">
          <mode NAME="default">
            <message PERIOD="1.4" NAME="AIRSPEED"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="0.5" NAME="GPS"/>
            <message PERIOD="1." NAME="NAVIGATION"/>
            <message PERIOD="0.7" NAME="ATTITUDE"/>
            <message PERIOD="0.6" NAME="ESTIMATOR"/>
            <message PERIOD="2.5" NAME="ENERGY"/>
            <message PERIOD="1.1" NAME="WP_MOVED"/>
            <message PERIOD="1.05" NAME="CIRCLE"/>
            <message PERIOD="1.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="1.2" NAME="SEGMENT"/>
            <message PERIOD="2.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="SETTINGS"/>
            <message PERIOD="2.2" NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.2" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="2.0" NAME="GPS_SOL"/>
            <message PERIOD=".8" NAME="IMU_ACCEL"/>
            <message PERIOD=".9" NAME="IMU_GYRO"/>
            <message PERIOD="1.9" NAME="IMU_MAG"/>
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
          </mode>
          <mode NAME="minimal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="4" NAME="ATTITUDE"/>
            <message PERIOD="1.05" NAME="GPS"/>
            <message PERIOD="1.3" NAME="ESTIMATOR"/>
            <message PERIOD="1.4" NAME="WP_MOVED"/>
            <message PERIOD="3.05" NAME="CIRCLE"/>
            <message PERIOD="4.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="3.2" NAME="SEGMENT"/>
            <message PERIOD="5.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="3." NAME="NAVIGATION"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="5.2" NAME="IR_SENSORS"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="5.0" NAME="GPS_SOL"/>
          </mode>
          <mode NAME="extremal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="7.5" NAME="PPRZ_MODE"/>
            <message PERIOD="8." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".05" NAME="IMU_MAG_RAW"/>
            <message PERIOD="0.5" NAME="BARO_RAW"/>
          </mode>
          <mode NAME="scaled_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".075" NAME="IMU_GYRO"/>
            <message PERIOD=".075" NAME="IMU_ACCEL"/>
            <message PERIOD=".1" NAME="IMU_MAG"/>
          </mode>
          <mode NAME="debug_imu">
            <message PERIOD="0.1" NAME="ATTITUDE"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="5.5" NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
            <message PERIOD=".5" NAME="IMU_ACCEL"/>
            <message PERIOD=".5" NAME="IMU_GYRO"/>
            <message PERIOD=".5" NAME="IMU_MAG"/>
            <message PERIOD=".5" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".5" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".5" NAME="IMU_MAG_RAW"/>
          </mode>
        </process>
        <process NAME="Fbw">
          <mode NAME="default">
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
          <mode NAME="debug">
            <message PERIOD="0.5" NAME="PPM"/>
            <message PERIOD="0.5" NAME="RC"/>
            <message PERIOD="0.5" NAME="COMMANDS"/>
            <message PERIOD="1" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="flight params">
            <dl_setting VAR="flight_altitude" STEP="10" SHORTNAME="altitude" MIN="0" MAX="1000"/>
            <dl_setting VAR="nav_course" STEP="1" MIN="0" MAX="360"/>
            <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-10" MAX="10" HANDLER="IncreaseShift"/>
            <dl_setting VAR="autopilot_flight_time" STEP="1" SHORTNAME="flight time" MODULE="autopilot" MIN="0" MAX="0" HANDLER="ResetFlightTimeAndLaunch"/>
            <dl_setting VAR="nav_radius" STEP="10" MODULE="firmwares/fixedwing/nav" MIN="-200" MAX="200" HANDLER="SetNavRadius">
              <strip_button VALUE="1" NAME="Circle right" ICON="circle-right.png" GROUP="circle"/>
              <strip_button VALUE="-1" NAME="Circle left" ICON="circle-left.png" GROUP="circle"/>
              <key_press VALUE="1" KEY="greater"/>
              <key_press VALUE="-1" KEY="less"/>
            </dl_setting>
          </dl_settings>
          <dl_settings NAME="mode">
            <dl_setting VAR="pprz_mode" VALUES="MANUAL|AUTO1|AUTO2|HOME|NOGPS|FAILSAFE" STEP="1" MODULE="autopilot" MIN="0" MAX="2"/>
            <dl_setting VAR="launch" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="kill_throttle" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="gps.reset" STEP="1" SHORTNAME="GPS reset" MODULE="subsystems/gps" MIN="0" MAX="2" HANDLER="Reset"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="control">
            <dl_settings NAME="trim">
              <dl_setting VAR="ap_state->command_roll_trim" STEP="1" SHORTNAME="roll_trim" PARAM="COMMAND_ROLL_TRIM" MODULE="inter_mcu" MIN="-960" MAX="960"/>
              <dl_setting VAR="ap_state->command_pitch_trim" STEP="1" SHORTNAME="pitch_trim" PARAM="COMMAND_PITCH_TRIM" MIN="-960" MAX="960"/>
            </dl_settings>
            <dl_settings NAME="attitude">
              <dl_setting VAR="h_ctl_roll_pgain" STEP="250" SHORTNAME="roll_pgain" MODULE="stabilization/stabilization_attitude" MIN="000" MAX="25000"/>
              <dl_setting VAR="h_ctl_roll_max_setpoint" STEP="0.05" SHORTNAME="max_roll" PARAM="H_CTL_ROLL_MAX_SETPOINT" MIN="0" MAX="1"/>
              <dl_setting VAR="h_ctl_pitch_pgain" STEP="250" SHORTNAME="pitch_pgain" PARAM="H_CTL_PITCH_PGAIN" MIN="0" MAX="25000"/>
              <dl_setting VAR="h_ctl_pitch_dgain" STEP="10" SHORTNAME="pitch_dgain" PARAM="H_CTL_PITCH_DGAIN" MIN="0" MAX="50000"/>
              <dl_setting VAR="h_ctl_elevator_of_roll" STEP="100" SHORTNAME="elevator_of_roll" PARAM="H_CTL_ELEVATOR_OF_ROLL" MIN="0" MAX="5000"/>
              <dl_setting VAR="h_ctl_aileron_of_throttle" STEP="100" SHORTNAME="aileron_of_throttle" MIN="0" MAX="5000"/>
              <dl_setting VAR="h_ctl_roll_attitude_gain" STEP="250" SHORTNAME="roll attitude pgain" PARAM="H_CTL_ROLL_ATTITUDE_GAIN" MIN="0" MAX="15000"/>
              <dl_setting VAR="h_ctl_roll_rate_gain" STEP="250" SHORTNAME="roll rate gain" PARAM="H_CTL_ROLL_RATE_GAIN" MIN="0" MAX="15000"/>
            </dl_settings>
            <dl_settings NAME="climb_accel">
              <dl_setting VAR="v_ctl_altitude_pgain" STEP="0.01" SHORTNAME="alt_pgain" PARAM="V_CTL_ALTITUDE_PGAIN" MODULE="guidance/energy_ctrl" MIN="0" MAX="2.0"/>
              <dl_setting VAR="v_ctl_airspeed_pgain" STEP="0.01" SHORTNAME="speed_pgain" PARAM="V_CTL_AIRSPEED_PGAIN" MIN="0" MAX="1.0"/>
              <dl_setting VAR="v_ctl_max_climb" STEP="0.5" SHORTNAME="max_climb" PARAM="V_CTL_MAX_CLIMB" MIN="-10" MAX="10.0"/>
              <dl_setting VAR="v_ctl_max_acceleration" STEP="0.05" SHORTNAME="max_acc_g" PARAM="V_CTL_MAX_ACCELERATION" MIN="-2" MAX="2.0"/>
            </dl_settings>
            <dl_settings NAME="energy_loop">
              <dl_setting VAR="v_ctl_auto_airspeed_setpoint" STEP="0.5" SHORTNAME="airspeed sp" MIN="8.0" MAX="45"/>
              <dl_setting VAR="v_ctl_auto_throttle_nominal_cruise_throttle" STEP="0.05" SHORTNAME="cruise throttle" MIN="0.0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_nominal_cruise_pitch" STEP="0.05" SHORTNAME="cruise pitch" MIN="0.0" MAX="1"/>
              <dl_setting VAR="v_ctl_desired_acceleration" STEP="0.01" SHORTNAME="acc_cmd" MIN="0" MAX="1.0"/>
              <dl_setting VAR="v_ctl_auto_throttle_climb_throttle_increment" STEP="0.01" SHORTNAME="throttle_incr" PARAM="V_CTL_AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT" MIN="0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_pitch_of_vz_pgain" STEP="0.01" SHORTNAME="pitch_of_vz" PARAM="V_CTL_AUTO_THROTTLE_PITCH_OF_VZ_PGAIN" MIN="0" MAX="1"/>
              <dl_setting VAR="v_ctl_auto_throttle_of_airspeed_pgain" STEP="0.01" SHORTNAME="P_th_air" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_auto_throttle_of_airspeed_igain" STEP="0.001" SHORTNAME="I_th_air" MIN="0" MAX="0.1"/>
              <dl_setting VAR="v_ctl_auto_pitch_of_airspeed_pgain" STEP="0.001" SHORTNAME="P_pitch_air" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_auto_pitch_of_airspeed_igain" STEP="0.001" SHORTNAME="I_pitch_air" MIN="0" MAX="0.1"/>
              <dl_setting VAR="v_ctl_auto_pitch_of_airspeed_dgain" STEP="0.01" SHORTNAME="D_pitch_air" MIN="0" MAX="5."/>
              <dl_setting VAR="v_ctl_energy_total_pgain" STEP="0.01" SHORTNAME="P_en_tot" PARAM="V_CTL_ENERGY_TOT_PGAIN" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_energy_total_igain" STEP="0.01" SHORTNAME="I_en_tot" PARAM="V_CTL_ENERGY_TOT_IGAIN" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_energy_diff_pgain" STEP="0.01" SHORTNAME="P_en_dis" PARAM="V_CTL_ENERGY_DIFF_PGAIN" MIN="0" MAX="1."/>
              <dl_setting VAR="v_ctl_energy_diff_igain" STEP="0.01" SHORTNAME="I_en_dis" PARAM="V_CTL_ENERGY_DIFF_IGAIN" MIN="0" MAX="1."/>
            </dl_settings>
            <dl_settings NAME="groundspeed">
              <dl_setting VAR="v_ctl_auto_groundspeed_setpoint" STEP="0.1" SHORTNAME="gs_sp" PARAM="V_CTL_AUTO_GROUNDSPEED_SETPOINT" MODULE="guidance/energy_ctrl" MIN="5" MAX="40"/>
              <dl_setting VAR="v_ctl_auto_groundspeed_pgain" STEP="0.01" SHORTNAME="gs_pgain" PARAM="V_CTL_AUTO_GROUNDSPEED_PGAIN" MIN="0" MAX="2"/>
              <dl_setting VAR="v_ctl_auto_groundspeed_igain" STEP="0.01" SHORTNAME="gs_igain" PARAM="V_CTL_AUTO_GROUNDSPEED_IGAIN" MIN="0" MAX="2"/>
            </dl_settings>
            <dl_settings NAME="nav">
              <dl_setting VAR="h_ctl_course_pgain" STEP="0.05" SHORTNAME="course pgain" PARAM="H_CTL_COURSE_PGAIN" MIN="0.1" MAX="3"/>
              <dl_setting VAR="h_ctl_course_dgain" STEP="0.1" SHORTNAME="course dgain" PARAM="H_CTL_COURSE_DGAIN" MIN="0" MAX="2"/>
              <dl_setting VAR="h_ctl_course_pre_bank_correction" STEP="0.05" SHORTNAME="pre bank cor" PARAM="H_CTL_COURSE_PRE_BANK_CORRECTION" MIN="0.1" MAX="2"/>
              <dl_setting VAR="nav_glide_pitch_trim" STEP="0.05" SHORTNAME="glide pitch trim" PARAM="NAV_GLIDE_PITCH_TRIM" MIN="0.0" MAX="1"/>
              <dl_setting VAR="h_ctl_roll_slew" STEP="0.01" SHORTNAME="roll slew" MIN="0.02" MAX="1"/>
              <dl_setting VAR="nav_radius" STEP="5" MIN="-500" MAX="500"/>
              <dl_setting VAR="nav_course" STEP="5" MIN="0" MAX="359"/>
              <dl_setting VAR="nav_mode" STEP="1" MIN="1" MAX="2"/>
              <dl_setting VAR="nav_climb" STEP="0.5" MIN="-5" MAX="5"/>
              <dl_setting VAR="fp_pitch" STEP="1" MIN="-15" MAX="15"/>
              <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-50" MAX="50" HANDLER="IncreaseShift"/>
              <dl_setting VAR="nav_ground_speed_setpoint" STEP="0.5" SHORTNAME="ground speed" MIN="5" MAX="50"/>
              <dl_setting VAR="nav_ground_speed_pgain" STEP="0.01" SHORTNAME="ground speed pgain" MIN="0" MAX="0.2"/>
              <dl_setting VAR="nav_survey_shift" STEP="5" MIN="50" MAX="500"/>
            </dl_settings>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="ins">
            <dl_setting VAR="ins_roll_neutral" UNIT="rad" STEP="0.5" SHORTNAME="roll_neutral" PARAM="INS_ROLL_NEUTRAL_DEFAULT" MODULE="subsystems/ahrs" MIN="-15" MAX="15" ALT_UNIT="deg"/>
            <dl_setting VAR="ins_pitch_neutral" UNIT="rad" STEP="0.5" SHORTNAME="pitch_neutral" PARAM="INS_PITCH_NEUTRAL_DEFAULT" MIN="-15" MAX="15" ALT_UNIT="deg"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="performance">
            <dl_settings NAME="estimates">
              <dl_setting VAR="ac_char_climb_pitch" STEP="1" SHORTNAME="climb_pitch" MODULE="guidance/energy_ctrl" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_climb_max" STEP="1" SHORTNAME="climb_max" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_descend_pitch" STEP="1" SHORTNAME="descend_pitch" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_descend_max" STEP="1" SHORTNAME="descend_max" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_cruise_throttle" STEP="1" SHORTNAME="cruise_thr" MIN="-1" MAX="1"/>
              <dl_setting VAR="ac_char_cruise_pitch" STEP="1" SHORTNAME="cruise_pitch" MIN="-1" MAX="1"/>
            </dl_settings>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <aircraft name="ardrone2_raw" ac_id="201" airframe="airframes/OpenUAS/openuas_psi.xml" radio="radios/cockpitSX.xml" telemetry="telemetry/OpenUAS/openuas_ardrone_extended.xml" flight_plan="flight_plans/ardrone_basic.xml" settings=" settings/rotorcraft_basic.xml settings/control/rotorcraft_guidance.xml settings/control/stabilization_rate.xml settings/control/stabilization_att_int.xml" gui_color="red">
      <radio SYNC_MIN="5000" SYNC_MAX="15000" PULSE_TYPE="POSITIVE" NAME="cockpitSX (easy)" DATA_MIN="900" DATA_MAX="2100">
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="ROLL" CTL="D" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="PITCH" CTL="C" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="950" MAX="2050" FUNCTION="YAW" CTL="B" AVERAGE="0"/>
        <channel NEUTRAL="1223" MIN="1223" MAX="2050" FUNCTION="THROTTLE" CTL="A" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="UNUSED" CTL="G" AVERAGE="1"/>
        <channel NEUTRAL="1496" MIN="2050" MAX="948" FUNCTION="GAIN1" CTL="E" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="948" FUNCTION="MODE" CTL="PHAUX2" AVERAGE="1"/>
      </radio>
      <dump>
        <flight_plan security_height="25" name="ARDrone Basic" max_dist_from_home="240" lon0="4.378035" lat0="51.991231" ground_alt="0" alt="30">
          <header>#include &quot;autopilot.h&quot;
#include &quot;subsystems/ahrs.h&quot;
#include &quot;subsystems/electrical.h&quot;
#include &quot;subsystems/datalink/datalink.h&quot;</header>
          <waypoints>
            <waypoint y="0.0" x="0.0" name="HOME"/>
            <waypoint y="5.0" x="0.0" name="_CLIMB"/>
            <waypoint y="5.0" x="5.0" name="Landingspot"/>
            <waypoint y="-5.0" x="-5.0" name="_TDEMERGENCY"/>
            <waypoint y="-10" x="5" name="A"/>
            <waypoint y="-30" x="20" name="B"/>
          </waypoints>
          <exceptions>
            <exception deroute="Land" cond="electrical.bat_low && !(nav_block == IndexOfBlock('Setting home location')) && !(nav_block == IndexOfBlock('Holding point')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Emergency'))"/>
            <exception deroute="Emergency" cond="electrical.bat_critical && !(nav_block == IndexOfBlock('Setting home location')) && !(nav_block == IndexOfBlock('Holding point')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Emergency'))"/>
            <exception deroute="Land" cond="autopilot_in_flight && datalink_time > 40 && !(nav_block == IndexOfBlock('Setting home location')) && !(nav_block == IndexOfBlock('Holding point')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Emergency'))"/>
            <exception deroute="Emergency" cond="autopilot_in_flight && datalink_time > 120 && !(nav_block == IndexOfBlock('Setting home location')) && !(nav_block == IndexOfBlock('Holding point')) && !(nav_block == IndexOfBlock('Emergency'))"/>
            <exception deroute="Land" cond="(((((WaypointX(WP__CLIMB)) - GetPosX())*((WaypointX(WP__CLIMB)) - GetPosX()))) + ((((WaypointY(WP__CLIMB)) - GetPosY())*((WaypointY(WP__CLIMB)) - GetPosY())))) > (MAX_DIST_FROM_HOME*MAX_DIST_FROM_HOME) && !(nav_block == IndexOfBlock('Setting home location')) && !(nav_block == IndexOfBlock('Holding point')) && !(nav_block == IndexOfBlock('Land')) && !(nav_block == IndexOfBlock('Emergency'))"/>
          </exceptions>
          <blocks>
            <block name="Setting home location" no="0">
              <call fun="NavKillThrottle()" no="0"/>
              <while cond="!GpsFixValid() || gps.pacc > 2200 || !(ahrs.status == AHRS_RUNNING)" no="1"/>
              <while cond="LessThan(NavBlockTime(), 8)" no="3"/>
              <call fun="NavSetGroundReferenceHere()" no="5"/>
              <call fun="NavSetAltitudeReferenceHere()" no="6"/>
              <call fun="NavSetWaypointHere(WP__TDEMERGENCY)" no="7"/>
              <call fun="NavSetWaypointHere(WP_Landingspot)" no="8"/>
              <call fun="NavSetWaypointHere(WP_HOME)" no="9"/>
              <call fun="NavSetWaypointHere(WP__CLIMB)" no="10"/>
            </block>
            <block name="Holding point" no="1">
              <call fun="NavKillThrottle()" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0" roll="0" pitch="0" no="1"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff" name="Takeoff" key="t" no="2">
              <call fun="NavSetAltitudeReferenceHere()" no="0"/>
              <call fun="NavSetWaypointHere(WP__CLIMB)" no="1"/>
              <call fun="NavSetWaypointHere(WP_Landingspot)" no="2"/>
              <set var="waypoints[WP_Landingspot].z" value="GetAltRef()" no="3"/>
              <call fun="NavResurrect()" no="4"/>
              <set var="kill_throttle" value="0" no="5"/>
              <call fun="NavResurrect()" no="6"/>
              <set var="autopilot_flight_time" value="0" no="7"/>
              <exception deroute="Land" cond="stage_time > 180"/>
              <attitude vmode="throttle" until="stage_time > 3" throttle="0.90" roll="0" pitch="0" no="8"/>
              <stay wp="_CLIMB" vmode="climb" until="WaypointAlt(WP_A) > stateGetPositionEnu_f()->z" climb="1.1" no="9"/>
            </block>
            <block name="From A to B and back" key="m" no="3">
              <go wp="A" no="0"/>
              <go wp="B" hmode="route" from="A" no="1"/>
              <stay wp="B" until="stage_time > 3" no="2"/>
              <go wp="A" hmode="route" from="B" no="3"/>
              <deroute block="Land" no="4"/>
            </block>
            <block name="Land" key="l" no="4">
              <go wp="_CLIMB" no="0"/>
              <go wp="Landingspot" no="1"/>
              <exception deroute="Holding point" cond="!nav_is_in_flight()"/>
              <stay wp="Landingspot" vmode="climb" climb="-2.0" no="2"/>
            </block>
            <block strip_icon="home_emergency.png" strip_button="Emergency" name="Emergency" key="e" no="5">
              <call fun="NavSetWaypointHere(WP__TDEMERGENCY)" no="0"/>
              <exception deroute="Holding point" cond="!nav_is_in_flight()"/>
              <stay wp="_TDEMERGENCY" vmode="throttle" throttle="0.38" no="1"/>
            </block>
            <block name="HOME" no="6">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="6" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="5" block_name="Emergency" stage="1">
            <stay wp="_TDEMERGENCY" vmode="throttle" throttle="0.38" no="1"/>
          </stage>
          <stage block="5" block_name="Emergency" stage="0">
            <call fun="NavSetWaypointHere(WP__TDEMERGENCY)" no="0"/>
          </stage>
          <stage block="4" block_name="Land" stage="2">
            <stay wp="Landingspot" vmode="climb" climb="-2.0" no="2"/>
          </stage>
          <stage block="4" block_name="Land" stage="1">
            <go wp="Landingspot" no="1"/>
          </stage>
          <stage block="4" block_name="Land" stage="0">
            <go wp="_CLIMB" no="0"/>
          </stage>
          <stage block="3" block_name="From A to B and back" stage="4">
            <deroute block="Land" no="4"/>
          </stage>
          <stage block="3" block_name="From A to B and back" stage="3">
            <go wp="A" hmode="route" from="B" no="3"/>
          </stage>
          <stage block="3" block_name="From A to B and back" stage="2">
            <stay wp="B" until="stage_time > 3" no="2"/>
          </stage>
          <stage block="3" block_name="From A to B and back" stage="1">
            <go wp="B" hmode="route" from="A" no="1"/>
          </stage>
          <stage block="3" block_name="From A to B and back" stage="0">
            <go wp="A" no="0"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="9">
            <stay wp="_CLIMB" vmode="climb" until="WaypointAlt(WP_A) > stateGetPositionEnu_f()->z" climb="1.1" no="9"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="8">
            <attitude vmode="throttle" until="stage_time > 3" throttle="0.90" roll="0" pitch="0" no="8"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="7">
            <set var="autopilot_flight_time" value="0" no="7"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="6">
            <call fun="NavResurrect()" no="6"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="5">
            <set var="kill_throttle" value="0" no="5"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="4">
            <call fun="NavResurrect()" no="4"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="3">
            <set var="waypoints[WP_Landingspot].z" value="GetAltRef()" no="3"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="2">
            <call fun="NavSetWaypointHere(WP_Landingspot)" no="2"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="1">
            <call fun="NavSetWaypointHere(WP__CLIMB)" no="1"/>
          </stage>
          <stage block="2" block_name="Takeoff" stage="0">
            <call fun="NavSetAltitudeReferenceHere()" no="0"/>
          </stage>
          <stage block="1" block_name="Holding point" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0" roll="0" pitch="0" no="1"/>
          </stage>
          <stage block="1" block_name="Holding point" stage="0">
            <call fun="NavKillThrottle()" no="0"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="10">
            <call fun="NavSetWaypointHere(WP__CLIMB)" no="10"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="9">
            <call fun="NavSetWaypointHere(WP_HOME)" no="9"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="8">
            <call fun="NavSetWaypointHere(WP_Landingspot)" no="8"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="7">
            <call fun="NavSetWaypointHere(WP__TDEMERGENCY)" no="7"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="6">
            <call fun="NavSetAltitudeReferenceHere()" no="6"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="5">
            <call fun="NavSetGroundReferenceHere()" no="5"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="3">
            <while cond="LessThan(NavBlockTime(), 8)" no="3"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="1">
            <while cond="!GpsFixValid() || gps.pacc > 2200 || !(ahrs.status == AHRS_RUNNING)" no="1"/>
          </stage>
          <stage block="0" block_name="Setting home location" stage="0">
            <call fun="NavKillThrottle()" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Psi">
        <firmware NAME="rotorcraft">
          <target NAME="ap" BOARD="ardrone2_raw">
            <define NAME="AUTOPILOT_DISABLE_AHRS_KILL"/>
            <define VALUE="40" NAME="BAT_CHECKER_DELAY"/>
            <define VALUE="40" NAME="CATASTROPHIC_BATTERY_KILL_DELAY"/>
            <subsystem TYPE="udp" NAME="telemetry"/>
            <subsystem TYPE="datalink" NAME="radio_control"/>
            <define NAME="TRAFFIC_INFO"/>
          </target>
          <target NAME="nps" BOARD="pc">
            <subsystem TYPE="jsbsim" NAME="fdm"/>
            <subsystem TYPE="ppm" NAME="radio_control"/>
            <define NAME="TRAFFIC_INFO"/>
          </target>
          <define VALUE="TRUE" NAME="USE_SONAR"/>
          <subsystem NAME="motor_mixing"/>
          <subsystem TYPE="ardrone2" NAME="actuators"/>
          <subsystem TYPE="ardrone2" NAME="imu"/>
          <subsystem TYPE="ublox" NAME="gps"/>
          <subsystem TYPE="int_quat" NAME="stabilization"/>
          <subsystem TYPE="int_cmpl_quat" NAME="ahrs"/>
          <subsystem TYPE="extended" NAME="ins"/>
        </firmware>
        <modules MAIN_FREQ="512">
          <load NAME="gps_ubx_ucenter.xml"/>
        </modules>
        <commands>
          <axis NAME="PITCH" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="0"/>
          <axis NAME="YAW" FAILSAFE_VALUE="0"/>
          <axis NAME="THRUST" FAILSAFE_VALUE="3000"/>
        </commands>
        <servos DRIVER="Default">
          <servo NO="0" NEUTRAL="1" NAME="TOP_LEFT" MIN="0" MAX="500"/>
          <servo NO="1" NEUTRAL="1" NAME="TOP_RIGHT" MIN="0" MAX="500"/>
          <servo NO="2" NEUTRAL="1" NAME="BOTTOM_RIGHT" MIN="0" MAX="500"/>
          <servo NO="3" NEUTRAL="1" NAME="BOTTOM_LEFT" MIN="0" MAX="500"/>
        </servos>
        <section PREFIX="MOTOR_MIXING_" NAME="MIXING">
          <define VALUE="0" NAME="TRIM_ROLL"/>
          <define VALUE="0" NAME="TRIM_PITCH"/>
          <define VALUE="0" NAME="TRIM_YAW"/>
          <define VALUE="4" NAME="NB_MOTOR"/>
          <define VALUE="255" NAME="SCALE"/>
          <define VALUE="{   256, -256, -256,  256 }" NAME="ROLL_COEF"/>
          <define VALUE="{  256,  256, -256, -256 }" NAME="PITCH_COEF"/>
          <define VALUE="{   -256,  256, -256,  256 }" NAME="YAW_COEF"/>
          <define VALUE="{ 256,  256,  256,  256 }" NAME="THRUST_COEF"/>
        </section>
        <command_laws>
          <call FUN="motor_mixing_run(autopilot_motors_on,FALSE,values)"/>
          <set VALUE="motor_mixing.commands[0]" SERVO="TOP_LEFT"/>
          <set VALUE="motor_mixing.commands[1]" SERVO="TOP_RIGHT"/>
          <set VALUE="motor_mixing.commands[2]" SERVO="BOTTOM_RIGHT"/>
          <set VALUE="motor_mixing.commands[3]" SERVO="BOTTOM_LEFT"/>
        </command_laws>
        <section PREFIX="IMU_" NAME="IMU">
          <define VALUE="2055" NAME="ACCEL_X_NEUTRAL"/>
          <define VALUE="2048" NAME="ACCEL_Y_NEUTRAL"/>
          <define VALUE="2057" NAME="ACCEL_Z_NEUTRAL"/>
          <define VALUE="16" NAME="MAG_X_NEUTRAL"/>
          <define VALUE="-7" NAME="MAG_Y_NEUTRAL"/>
          <define VALUE="-310" NAME="MAG_Z_NEUTRAL"/>
          <define VALUE="14.1695267878" NAME="MAG_X_SENS" INTEGER="16"/>
          <define VALUE="14.4503209425" NAME="MAG_Y_SENS" INTEGER="16"/>
          <define VALUE="15.5169274923" NAME="MAG_Z_SENS" INTEGER="16"/>
          <define VALUE="0.0" NAME="MAG_X_CURRENT_COEF"/>
          <define VALUE="0.0" NAME="MAG_Y_CURRENT_COEF"/>
          <define VALUE="0.0" NAME="MAG_Z_CURRENT_COEF"/>
          <define VALUE="0." UNIT="deg" NAME="BODY_TO_IMU_PHI"/>
          <define VALUE="0." UNIT="deg" NAME="BODY_TO_IMU_THETA"/>
          <define VALUE="0." UNIT="deg" NAME="BODY_TO_IMU_PSI"/>
        </section>
        <section PREFIX="AHRS_" NAME="AHRS">
          <define VALUE="0.51562740288882" NAME="H_X"/>
          <define VALUE="-0.05707735220832" NAME="H_Y"/>
          <define VALUE="0.85490967783446" NAME="H_Z"/>
        </section>
        <section PREFIX="INS_" NAME="INS">
          <define VALUE="2.2" NAME="SONAR_MAX_RANGE"/>
          <define VALUE="TRUE" NAME="SONAR_UPDATE_ON_AGL"/>
        </section>
        <section PREFIX="STABILIZATION_RATE_" NAME="STABILIZATION_RATE">
          <define VALUE="10000" NAME="SP_MAX_P"/>
          <define VALUE="10000" NAME="SP_MAX_Q"/>
          <define VALUE="10000" NAME="SP_MAX_R"/>
          <define VALUE="20" NAME="DEADBAND_P"/>
          <define VALUE="20" NAME="DEADBAND_Q"/>
          <define VALUE="200" NAME="DEADBAND_R"/>
          <define VALUE="4" NAME="REF_TAU"/>
          <define VALUE="400" NAME="GAIN_P"/>
          <define VALUE="400" NAME="GAIN_Q"/>
          <define VALUE="350" NAME="GAIN_R"/>
          <define VALUE="75" NAME="IGAIN_P"/>
          <define VALUE="75" NAME="IGAIN_Q"/>
          <define VALUE="50" NAME="IGAIN_R"/>
          <define VALUE="300" NAME="DDGAIN_P"/>
          <define VALUE="300" NAME="DDGAIN_Q"/>
          <define VALUE="300" NAME="DDGAIN_R"/>
        </section>
        <section PREFIX="STABILIZATION_ATTITUDE_" NAME="STABILIZATION_ATTITUDE">
          <define VALUE="45" UNIT="deg" NAME="SP_MAX_PHI"/>
          <define VALUE="45" UNIT="deg" NAME="SP_MAX_THETA"/>
          <define VALUE="600" UNIT="deg/s" NAME="SP_MAX_R"/>
          <define VALUE="0" NAME="DEADBAND_A"/>
          <define VALUE="0" NAME="DEADBAND_E"/>
          <define VALUE="250" NAME="DEADBAND_R"/>
          <define VALUE="450" UNIT="deg/s" NAME="REF_OMEGA_P"/>
          <define VALUE="0.9" NAME="REF_ZETA_P"/>
          <define VALUE="600." UNIT="deg/s" NAME="REF_MAX_P"/>
          <define VALUE="RadOfDeg(8000.)" NAME="REF_MAX_PDOT"/>
          <define VALUE="450" UNIT="deg/s" NAME="REF_OMEGA_Q"/>
          <define VALUE="0.9" NAME="REF_ZETA_Q"/>
          <define VALUE="600." UNIT="deg/s" NAME="REF_MAX_Q"/>
          <define VALUE="RadOfDeg(8000.)" NAME="REF_MAX_QDOT"/>
          <define VALUE="200" UNIT="deg/s" NAME="REF_OMEGA_R"/>
          <define VALUE="0.9" NAME="REF_ZETA_R"/>
          <define VALUE="300." UNIT="deg/s" NAME="REF_MAX_R"/>
          <define VALUE="RadOfDeg(4000.)" NAME="REF_MAX_RDOT"/>
          <define VALUE="592" NAME="PHI_PGAIN"/>
          <define VALUE="303" NAME="PHI_DGAIN"/>
          <define VALUE="0" NAME="PHI_IGAIN"/>
          <define VALUE="606" NAME="THETA_PGAIN"/>
          <define VALUE="303" NAME="THETA_DGAIN"/>
          <define VALUE="0" NAME="THETA_IGAIN"/>
          <define VALUE="529" NAME="PSI_PGAIN"/>
          <define VALUE="353" NAME="PSI_DGAIN"/>
          <define VALUE="0" NAME="PSI_IGAIN"/>
          <define VALUE="0" NAME="PHI_DDGAIN"/>
          <define VALUE="0" NAME="THETA_DDGAIN"/>
          <define VALUE="52" NAME="PSI_DDGAIN"/>
        </section>
        <section PREFIX="GUIDANCE_V_" NAME="GUIDANCE_V">
          <define VALUE="283" NAME="HOVER_KP"/>
          <define VALUE="82" NAME="HOVER_KD"/>
          <define VALUE="13" NAME="HOVER_KI"/>
          <define VALUE="0.655" NAME="NOMINAL_HOVER_THROTTLE"/>
          <define VALUE="FALSE" NAME="ADAPT_THROTTLE_ENABLED"/>
        </section>
        <section PREFIX="GUIDANCE_H_" NAME="GUIDANCE_H">
          <define VALUE="20" UNIT="deg" NAME="MAX_BANK"/>
          <define VALUE="79" NAME="PGAIN"/>
          <define VALUE="100" NAME="DGAIN"/>
          <define VALUE="40" NAME="IGAIN"/>
        </section>
        <section PREFIX="NPS_" NAME="SIMULATOR">
          <define VALUE="{&quot;nw_motor&quot;, &quot;ne_motor&quot;, &quot;se_motor&quot;, &quot;sw_motor&quot;}" NAME="ACTUATOR_NAMES"/>
          <define VALUE="&quot;simple_ardrone2&quot;" NAME="JSBSIM_MODEL"/>
          <define VALUE="&quot;reset00&quot;" NAME="JSBSIM_INIT"/>
          <define VALUE="&quot;nps_sensors_params_ardrone2.h&quot;" NAME="SENSORS_PARAMS"/>
        </section>
        <section NAME="AUTOPILOT">
          <define VALUE="AP_MODE_NAV" NAME="MODE_STARTUP"/>
          <define VALUE="AP_MODE_ATTITUDE_DIRECT" NAME="MODE_MANUAL"/>
          <define VALUE="AP_MODE_ATTITUDE_Z_HOLD" NAME="MODE_AUTO1"/>
          <define VALUE="AP_MODE_NAV" NAME="MODE_AUTO2"/>
        </section>
        <section NAME="BAT">
          <define VALUE="8700" NAME="MILLIAMP_AT_FULL_THROTTLE"/>
          <define VALUE="9.3" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
          <define VALUE="9.6" UNIT="V" NAME="CRITIC_BAT_LEVEL"/>
          <define VALUE="9.7" UNIT="V" NAME="LOW_BAT_LEVEL"/>
          <define VALUE="12.4" UNIT="V" NAME="MAX_BAT_LEVEL"/>
        </section>
      </airframe>
      <telemetry>
        <process NAME="Main">
          <mode NAME="default" KEY_PRESS="d">
            <message PERIOD="1.1" NAME="DL_VALUE"/>
            <message PERIOD="0.9" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="0.25" NAME="ROTORCRAFT_FP"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="INS_REF"/>
            <message PERIOD="1.6" NAME="ROTORCRAFT_NAV_STATUS"/>
            <message PERIOD="0.4" NAME="WP_MOVED"/>
            <message PERIOD="0.25" NAME="GPS_INT"/>
            <message PERIOD="0.25" NAME="INS"/>
            <message PERIOD="4.1" NAME="I2C_ERRORS"/>
            <message PERIOD="3.1" NAME="UART_ERRORS"/>
            <message PERIOD="0.05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD="0.05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD="0.25" NAME="IMU_MAG_RAW"/>
            <message PERIOD="0.1" NAME="BARO_RAW"/>
            <message PERIOD="0.13" NAME="ARDRONE_NAVDATA"/>
            <message PERIOD="0.25" NAME="IMU_GYRO_SCALED"/>
            <message PERIOD="0.25" NAME="IMU_ACCEL_SCALED"/>
            <message PERIOD="0.25" NAME="IMU_MAG_SCALED"/>
            <message PERIOD="2.2" NAME="FILTER_ALIGNER"/>
            <message PERIOD="0.7" NAME="FILTER"/>
            <message PERIOD="0.08" NAME="AHRS_GYRO_BIAS_INT"/>
            <message PERIOD="0.26" NAME="AHRS_QUAT_INT"/>
            <message PERIOD="0.11" NAME="AHRS_ARDRONE2"/>
            <message PERIOD="0.06" NAME="VFF"/>
            <message PERIOD="0.07" NAME="VERT_LOOP"/>
            <message PERIOD="0.08" NAME="INS"/>
            <message PERIOD="5.1" NAME="INS_REF"/>
            <message PERIOD="0.062" NAME="HOVER_LOOP"/>
            <message PERIOD="0.062" NAME="GUIDANCE_H_REF"/>
            <message PERIOD="0.4" NAME="STAB_ATTITUDE"/>
            <message PERIOD="2.1" NAME="STAB_ATTITUDE_REF"/>
            <message PERIOD="0.8" NAME="ROTORCRAFT_FP"/>
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="1.6" NAME="ROTORCRAFT_NAV_STATUS"/>
            <message PERIOD="5.1" NAME="INS_REF"/>
            <message PERIOD=".05" NAME="HFF"/>
            <message PERIOD=".03" NAME="HFF_GPS"/>
            <message PERIOD=".2" NAME="HFF_DBG"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="1.2" NAME="ROTORCRAFT_STATUS"/>
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD=".05" NAME="IMU_ACCEL_RAW"/>
            <message PERIOD=".05" NAME="IMU_GYRO_RAW"/>
            <message PERIOD=".05" NAME="IMU_MAG_RAW"/>
            <message PERIOD=".1" NAME="BARO_RAW"/>
            <message PERIOD=".05" NAME="ARDRONE_NAVDATA"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="System">
            <dl_setting VAR="autopilot_mode_auto2" VALUES="KILL|Fail|HOME|Rate|Att|Rate_rcC|Att_rcC|Att_C|Rate_Z|Att_Z|Hover|Hover_C|Hover_Z|Nav|RC_D|CareFree" STEP="1" SHORTNAME="auto2" MODULE="autopilot" MIN="0" MAX="15"/>
            <dl_setting VAR="kill_throttle" VALUES="Resurrect|Kill" STEP="1" MODULE="autopilot" MIN="0" MAX="1" HANDLER="KillThrottle"/>
            <dl_setting VAR="autopilot_power_switch" VALUES="OFF|ON" STEP="1" MODULE="autopilot" MIN="0" MAX="1" HANDLER="SetPowerSwitch">
              <strip_button VALUE="1" NAME="POWER ON" ICON="on.png" GROUP="power_switch"/>
              <strip_button VALUE="0" NAME="POWER OFF" ICON="off.png" GROUP="power_switch"/>
            </dl_setting>
            <dl_setting VAR="autopilot_mode" VALUES="KILL|Fail|HOME" STEP="1" SHORTNAME="mode" MODULE="autopilot" MIN="0" MAX="2"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="Vert Loop">
            <dl_setting VAR="guidance_v_kp" STEP="1" SHORTNAME="kp" PARAM="GUIDANCE_V_HOVER_KP" MODULE="guidance/guidance_v" MIN="0" MAX="600"/>
            <dl_setting VAR="guidance_v_kd" STEP="1" SHORTNAME="kd" PARAM="GUIDANCE_V_HOVER_KD" MODULE="guidance/guidance_v" MIN="0" MAX="600"/>
            <dl_setting VAR="guidance_v_ki" STEP="1" SHORTNAME="ki" PARAM="GUIDANCE_V_HOVER_KI" MODULE="guidance/guidance_v" MIN="0" MAX="300" HANDLER="SetKi"/>
            <dl_setting VAR="guidance_v_nominal_throttle" STEP="0.01" SHORTNAME="nominal_throttle" PARAM="GUIDANCE_V_NOMINAL_HOVER_THROTTLE" MODULE="guidance/guidance_v" MIN="0.2" MAX="0.8"/>
            <dl_setting VAR="guidance_v_adapt_throttle_enabled" VALUES="FALSE|TRUE" STEP="1" SHORTNAME="adapt_throttle" PARAM="GUIDANCE_V_ADAPT_THROTTLE_ENABLED" MODULE="guidance/guidance_v" MIN="0" MAX="1"/>
            <dl_setting VAR="guidance_v_z_sp" UNIT="2e-8m" STEP="0.5" SHORTNAME="sp" MODULE="guidance/guidance_v" MIN="-5" MAX="3" ALT_UNIT_COEF="0.00390625" ALT_UNIT="m"/>
          </dl_settings>
          <dl_settings NAME="Horiz Loop">
            <dl_setting VAR="guidance_h_use_ref" VALUES="FALSE|TRUE" STEP="1" SHORTNAME="use_ref" PARAM="GUIDANCE_H_USE_REF" MODULE="guidance/guidance_h" MIN="0" MAX="1" HANDLER="SetUseRef"/>
            <dl_setting VAR="gh_max_speed" STEP="0.1" SHORTNAME="max_speed" PARAM="GUIDANCE_H_REF_MAX_SPEED" MODULE="guidance/guidance_h" MIN="0.1" MAX="15.0" HANDLER="SetMaxSpeed"/>
            <dl_setting VAR="guidance_h_approx_force_by_thrust" VALUES="FALSE|TRUE" STEP="1" SHORTNAME="approx_force" PARAM="GUIDANCE_H_APPROX_FORCE_BY_THRUST" MODULE="guidance/guidance_h" MIN="0" MAX="1"/>
            <dl_setting VAR="guidance_h_pgain" STEP="1" SHORTNAME="kp" PARAM="GUIDANCE_H_PGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400"/>
            <dl_setting VAR="guidance_h_dgain" STEP="1" SHORTNAME="kd" PARAM="GUIDANCE_H_DGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400"/>
            <dl_setting VAR="guidance_h_igain" STEP="1" SHORTNAME="ki" PARAM="GUIDANCE_H_IGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400" HANDLER="SetKi"/>
            <dl_setting VAR="guidance_h_vgain" STEP="1" SHORTNAME="kv" PARAM="GUIDANCE_H_VGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400"/>
            <dl_setting VAR="guidance_h_again" STEP="1" SHORTNAME="ka" PARAM="GUIDANCE_H_AGAIN" MODULE="guidance/guidance_h" MIN="0" MAX="400"/>
            <dl_setting VAR="guidance_h_pos_sp.x" UNIT="1/2^8m" STEP="1" SHORTNAME="sp_x_ned" MODULE="guidance/guidance_h" MIN="-10" MAX="10" ALT_UNIT_COEF="0.00390625" ALT_UNIT="m"/>
            <dl_setting VAR="guidance_h_pos_sp.y" UNIT="1/2^8m" STEP="1" SHORTNAME="sp_y_ned" MODULE="guidance/guidance_h" MIN="-10" MAX="10" ALT_UNIT_COEF="0.00390625" ALT_UNIT="m"/>
          </dl_settings>
          <dl_settings NAME="NAV">
            <dl_setting VAR="flight_altitude" UNIT="m" STEP="0.1" MODULE="navigation" MIN="0" MAX="400" HANDLER="SetFlightAltitude"/>
            <dl_setting VAR="nav_heading" UNIT="1/2^12r" STEP="1" MODULE="navigation" MIN="0" MAX="360" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
            <dl_setting VAR="nav_radius" UNIT="m" STEP="0.1" MODULE="navigation" MIN="-50" MAX="50"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="Rate Loop">
            <dl_setting VAR="stabilization_rate_gain.p" STEP="1" SHORTNAME="pgain p" PARAM="STABILIZATION_RATE_GAIN_P" MODULE="stabilization/stabilization_rate" MIN="1" MAX="1000"/>
            <dl_setting VAR="stabilization_rate_gain.q" STEP="1" SHORTNAME="pgain q" PARAM="STABILIZATION_RATE_GAIN_Q" MODULE="stabilization/stabilization_rate" MIN="1" MAX="1000"/>
            <dl_setting VAR="stabilization_rate_gain.r" STEP="1" SHORTNAME="pgain r" PARAM="STABILIZATION_RATE_GAIN_R" MODULE="stabilization/stabilization_rate" MIN="1" MAX="1000"/>
            <dl_setting VAR="stabilization_rate_igain.p" STEP="1" SHORTNAME="igain p" PARAM="STABILIZATION_RATE_IGAIN_P" MODULE="stabilization/stabilization_rate" MIN="0" MAX="500"/>
            <dl_setting VAR="stabilization_rate_igain.q" STEP="1" SHORTNAME="igain q" PARAM="STABILIZATION_RATE_IGAIN_Q" MODULE="stabilization/stabilization_rate" MIN="0" MAX="500"/>
            <dl_setting VAR="stabilization_rate_igain.r" STEP="1" SHORTNAME="igain r" PARAM="STABILIZATION_RATE_IGAIN_R" MODULE="stabilization/stabilization_rate" MIN="0" MAX="500"/>
            <dl_setting VAR="stabilization_rate_ddgain.p" STEP="1" SHORTNAME="ddgain p" PARAM="STABILIZATION_RATE_DDGAIN_P" MODULE="stabilization/stabilization_rate" MIN="0" MAX="500"/>
            <dl_setting VAR="stabilization_rate_ddgain.q" STEP="1" SHORTNAME="ddgain q" PARAM="STABILIZATION_RATE_DDGAIN_Q" MODULE="stabilization/stabilization_rate" MIN="0" MAX="500"/>
            <dl_setting VAR="stabilization_rate_ddgain.r" STEP="1" SHORTNAME="ddgain r" PARAM="STABILIZATION_RATE_DDGAIN_R" MODULE="stabilization/stabilization_rate" MIN="0" MAX="500"/>
          </dl_settings>
        </dl_settings>
      </settings>
      <settings>
        <dl_settings>
          <dl_settings NAME="Att Loop">
            <dl_setting VAR="stabilization_gains.p.x" STEP="1" SHORTNAME="pgain phi" PARAM="STABILIZATION_ATTITUDE_PHI_PGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="1" MAX="8000"/>
            <dl_setting VAR="stabilization_gains.d.x" STEP="1" SHORTNAME="dgain p" PARAM="STABILIZATION_ATTITUDE_PHI_DGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="1" MAX="4000"/>
            <dl_setting VAR="stabilization_gains.i.x" STEP="1" SHORTNAME="igain phi" PARAM="STABILIZATION_ATTITUDE_PHI_IGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="0" MAX="800" HANDLER="SetKiPhi"/>
            <dl_setting VAR="stabilization_gains.dd.x" STEP="1" SHORTNAME="ddgain p" PARAM="STABILIZATION_ATTITUDE_PHI_DDGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="0" MAX="1000"/>
            <dl_setting VAR="stabilization_gains.p.y" STEP="1" SHORTNAME="pgain theta" PARAM="STABILIZATION_ATTITUDE_THETA_PGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="1" MAX="8000"/>
            <dl_setting VAR="stabilization_gains.d.y" STEP="1" SHORTNAME="dgain q" PARAM="STABILIZATION_ATTITUDE_THETA_DGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="1" MAX="4000"/>
            <dl_setting VAR="stabilization_gains.i.y" STEP="1" SHORTNAME="igain theta" PARAM="STABILIZATION_ATTITUDE_THETA_IGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="0" MAX="800"/>
            <dl_setting VAR="stabilization_gains.dd.y" STEP="1" SHORTNAME="ddgain q" PARAM="STABILIZATION_ATTITUDE_THETA_DDGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="0" MAX="1000"/>
            <dl_setting VAR="stabilization_gains.p.z" STEP="1" SHORTNAME="pgain psi" PARAM="STABILIZATION_ATTITUDE_PSI_PGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="1" MAX="4000"/>
            <dl_setting VAR="stabilization_gains.d.z" STEP="1" SHORTNAME="dgain r" PARAM="STABILIZATION_ATTITUDE_PSI_DGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="1" MAX="4000"/>
            <dl_setting VAR="stabilization_gains.i.z" STEP="1" SHORTNAME="igain psi" PARAM="STABILIZATION_ATTITUDE_PSI_IGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="0" MAX="400"/>
            <dl_setting VAR="stabilization_gains.dd.z" STEP="1" SHORTNAME="ddgain r" PARAM="STABILIZATION_ATTITUDE_PSI_DDGAIN" MODULE="stabilization/stabilization_attitude_common_int" MIN="0" MAX="1000"/>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
    <aircraft name="iPhone" ac_id="2" airframe="airframes/examples/microjet.xml" radio="radios/cockpitSX.xml" telemetry="telemetry/default_fixedwing.xml" flight_plan="flight_plans/basic.xml" settings=" settings/fixedwing_basic.xml" gui_color="blue">
      <radio SYNC_MIN="5000" SYNC_MAX="15000" PULSE_TYPE="POSITIVE" NAME="cockpitSX (easy)" DATA_MIN="900" DATA_MAX="2100">
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="ROLL" CTL="D" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="PITCH" CTL="C" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="950" MAX="2050" FUNCTION="YAW" CTL="B" AVERAGE="0"/>
        <channel NEUTRAL="1223" MIN="1223" MAX="2050" FUNCTION="THROTTLE" CTL="A" AVERAGE="0"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="950" FUNCTION="UNUSED" CTL="G" AVERAGE="1"/>
        <channel NEUTRAL="1496" MIN="2050" MAX="948" FUNCTION="GAIN1" CTL="E" AVERAGE="1"/>
        <channel NEUTRAL="1500" MIN="2050" MAX="948" FUNCTION="MODE" CTL="PHAUX2" AVERAGE="1"/>
      </radio>
      <dump>
        <flight_plan security_height="25" name="Basic" max_dist_from_home="1500" lon0="1.27289" lat0="43.46223" ground_alt="185" alt="260">
          <header>#include &quot;subsystems/datalink/datalink.h&quot;</header>
          <waypoints>
            <waypoint y="0" x="0" name="HOME"/>
            <waypoint y="100.1" x="49.5" name="STDBY"/>
            <waypoint y="189.9" x="10.1" name="1"/>
            <waypoint y="139.1" x="132.3" name="2"/>
            <waypoint y="-11.6" x="137.0" name="MOB"/>
            <waypoint y="69.6" x="-119.2" name="S1"/>
            <waypoint y="209.5" x="274.4" name="S2"/>
            <waypoint y="45.1" x="177.4" name="AF" alt="215.0"/>
            <waypoint y="57.0" x="28.8" name="TD" alt="185.0"/>
            <waypoint y="-13.8" x="168.8" name="_BASELEG"/>
            <waypoint y="162.3" x="-114.5" name="CLIMB"/>
          </waypoints>
          <exceptions/>
          <blocks>
            <block name="Wait GPS" no="0">
              <set var="kill_throttle" value="1" no="0"/>
              <while cond="!GpsFixValid()" no="1"/>
            </block>
            <block name="Geo init" no="1">
              <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
              <call fun="NavSetGroundReferenceHere()" no="2"/>
            </block>
            <block name="Holding point" no="2">
              <set var="kill_throttle" value="1" no="0"/>
              <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
            </block>
            <block strip_icon="takeoff.png" strip_button="Takeoff (wp CLIMB)" name="Takeoff" key="t" group="home" no="3">
              <exception deroute="Standby" cond="GetPosAlt() > GetAltRef()+25"/>
              <set var="kill_throttle" value="0" no="0"/>
              <set var="autopilot_flight_time" value="0" no="1"/>
              <go wp="CLIMB" vmode="throttle" throttle="1.0" pitch="15" from="HOME" no="2"/>
            </block>
            <block strip_icon="home.png" strip_button="Standby" name="Standby" key="Ctrl+a" group="home" no="4">
              <circle wp="STDBY" radius="nav_radius" no="0"/>
            </block>
            <block strip_icon="eight.png" strip_button="Figure 8 (wp 1-2)" name="Figure 8 around wp 1" key="F8" group="base_pattern" no="5">
              <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
            </block>
            <block strip_icon="oval.png" strip_button="Oval (wp 1-2)" name="Oval 1-2" group="base_pattern" no="6">
              <oval radius="nav_radius" p2="2" p1="1" no="1"/>
            </block>
            <block strip_icon="mob.png" strip_button="Circle around here" name="MOB" group="base_pattern" no="7">
              <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
              <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="1"/>
              <circle wp="MOB" radius="nav_radius" no="2"/>
            </block>
            <block strip_icon="survey.png" strip_button="Survey (wp S1-S2)" name="Survey S1-S2" group="extra_pattern" no="8">
              <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
            </block>
            <block strip_icon="path.png" strip_button="Path (1,2,S1,S2,STDBY)" name="Path 1,2,S1,S2,STDBY" group="extra_pattern" no="9">
              <go from="1" hmode="route" wp="2" wpts="1,2 S1" no="0"/>
              <go from="2" hmode="route" wp="S1" wpts="1,2 S1" no="1"/>
              <go from="S1" hmode="route" wp="S2" wpts="S1, S2 STDBY" throttle="0.4" pitch="auto" approaching_time="1" no="2"/>
              <go from="S2" hmode="route" wp="STDBY" wpts="S1, S2 STDBY" throttle="0.4" pitch="auto" approaching_time="1" no="3"/>
              <deroute block="Standby" no="4"/>
            </block>
            <block strip_icon="land-right.png" strip_button="Land right (wp AF-TD)" name="Land Right AF-TD" group="land" no="10">
              <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block strip_icon="land-left.png" strip_button="Land left (wp AF-TD)" name="Land Left AF-TD" group="land" no="11">
              <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
              <deroute block="land" no="1"/>
            </block>
            <block name="land" no="12">
              <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP__BASELEG, nav_radius)" no="0"/>
              <circle wp="_BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
              <circle wp="_BASELEG" until="And(NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10), 10 > fabs(GetPosAlt() - WaypointAlt(WP__BASELEG)))" radius="nav_radius" no="2"/>
            </block>
            <block name="final" no="13">
              <exception deroute="flare" cond="GetAltRef() + 10 > GetPosAlt()"/>
              <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
            </block>
            <block name="flare" no="14">
              <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
              <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
            </block>
            <block name="HOME" no="15">
              <home no="0"/>
            </block>
          </blocks>
        </flight_plan>
        <stages>
          <stage block="15" block_name="HOME" stage="0">
            <home no="0"/>
          </stage>
          <stage block="14" block_name="flare" stage="1">
            <attitude vmode="throttle" until="FALSE" throttle="0.0" roll="0.0" no="1"/>
          </stage>
          <stage block="14" block_name="flare" stage="0">
            <go wp="TD" vmode="throttle" throttle="0.0" hmode="route" from="AF" approaching_time="0" no="0"/>
          </stage>
          <stage block="13" block_name="final" stage="0">
            <go wp="TD" vmode="glide" hmode="route" from="AF" no="0"/>
          </stage>
          <stage block="12" block_name="land" stage="2">
            <circle wp="_BASELEG" until="And(NavQdrCloseTo(DegOfRad(baseleg_out_qdr)-(nav_radius/fabs(nav_radius))*10), 10 > fabs(GetPosAlt() - WaypointAlt(WP__BASELEG)))" radius="nav_radius" no="2"/>
          </stage>
          <stage block="12" block_name="land" stage="1">
            <circle wp="_BASELEG" until="NavCircleCount() > 0.5" radius="nav_radius" no="1"/>
          </stage>
          <stage block="12" block_name="land" stage="0">
            <call fun="nav_compute_baseleg(WP_AF, WP_TD, WP__BASELEG, nav_radius)" no="0"/>
          </stage>
          <stage block="11" block_name="Land Left AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="11" block_name="Land Left AF-TD" stage="0">
            <set var="nav_radius" value="-DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="10" block_name="Land Right AF-TD" stage="1">
            <deroute block="land" no="1"/>
          </stage>
          <stage block="10" block_name="Land Right AF-TD" stage="0">
            <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="0"/>
          </stage>
          <stage block="9" block_name="Path 1,2,S1,S2,STDBY" stage="4">
            <deroute block="Standby" no="4"/>
          </stage>
          <stage block="9" block_name="Path 1,2,S1,S2,STDBY" stage="3">
            <go from="S2" hmode="route" wp="STDBY" wpts="S1, S2 STDBY" throttle="0.4" pitch="auto" approaching_time="1" no="3"/>
          </stage>
          <stage block="9" block_name="Path 1,2,S1,S2,STDBY" stage="2">
            <go from="S1" hmode="route" wp="S2" wpts="S1, S2 STDBY" throttle="0.4" pitch="auto" approaching_time="1" no="2"/>
          </stage>
          <stage block="9" block_name="Path 1,2,S1,S2,STDBY" stage="1">
            <go from="2" hmode="route" wp="S1" wpts="1,2 S1" no="1"/>
          </stage>
          <stage block="9" block_name="Path 1,2,S1,S2,STDBY" stage="0">
            <go from="1" hmode="route" wp="2" wpts="1,2 S1" no="0"/>
          </stage>
          <stage block="8" block_name="Survey S1-S2" stage="1">
            <survey_rectangle wp2="S2" wp1="S1" grid="150" no="1"/>
          </stage>
          <stage block="7" block_name="MOB" stage="2">
            <circle wp="MOB" radius="nav_radius" no="2"/>
          </stage>
          <stage block="7" block_name="MOB" stage="1">
            <set var="nav_radius" value="DEFAULT_CIRCLE_RADIUS" no="1"/>
          </stage>
          <stage block="7" block_name="MOB" stage="0">
            <call fun="NavSetWaypointHere(WP_MOB)" no="0"/>
          </stage>
          <stage block="6" block_name="Oval 1-2" stage="1">
            <oval radius="nav_radius" p2="2" p1="1" no="1"/>
          </stage>
          <stage block="5" block_name="Figure 8 around wp 1" stage="1">
            <eight turn_around="2" radius="nav_radius" center="1" no="1"/>
          </stage>
          <stage block="4" block_name="Standby" stage="0">
            <circle wp="STDBY" radius="nav_radius" no="0"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="2">
            <go wp="CLIMB" vmode="throttle" throttle="1.0" pitch="15" from="HOME" no="2"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="1">
            <set var="autopilot_flight_time" value="0" no="1"/>
          </stage>
          <stage block="3" block_name="Takeoff" stage="0">
            <set var="kill_throttle" value="0" no="0"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="1">
            <attitude vmode="throttle" throttle="0" roll="0" no="1"/>
          </stage>
          <stage block="2" block_name="Holding point" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="2">
            <call fun="NavSetGroundReferenceHere()" no="2"/>
          </stage>
          <stage block="1" block_name="Geo init" stage="0">
            <while cond="LessThan(NavBlockTime(), 10)" no="0"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="1">
            <while cond="!GpsFixValid()" no="1"/>
          </stage>
          <stage block="0" block_name="Wait GPS" stage="0">
            <set var="kill_throttle" value="1" no="0"/>
          </stage>
        </stages>
      </dump>
      <airframe NAME="Microjet Tiny 1.1">
        <servos>
          <servo NO="0" NEUTRAL="1290" NAME="MOTOR" MIN="1290" MAX="1810"/>
          <servo NO="1" NEUTRAL="1510" NAME="AILEVON_LEFT" MIN="2000" MAX="1000"/>
          <servo NO="3" NEUTRAL="1535" NAME="AILEVON_RIGHT" MIN="1000" MAX="2000"/>
        </servos>
        <commands>
          <axis NAME="THROTTLE" FAILSAFE_VALUE="0"/>
          <axis NAME="ROLL" FAILSAFE_VALUE="0"/>
          <axis NAME="PITCH" FAILSAFE_VALUE="0"/>
          <axis NAME="SHUTTER" FAILSAFE_VALUE="0"/>
        </commands>
        <rc_commands>
          <set VALUE="@THROTTLE" COMMAND="THROTTLE"/>
          <set VALUE="@ROLL" COMMAND="ROLL"/>
          <set VALUE="@PITCH" COMMAND="PITCH"/>
        </rc_commands>
        <section NAME="MIXER">
          <define VALUE="0.75" NAME="AILEVON_AILERON_RATE"/>
          <define VALUE="0.75" NAME="AILEVON_ELEVATOR_RATE"/>
        </section>
        <command_laws>
          <let VAR="aileron" VALUE="@ROLL  * AILEVON_AILERON_RATE"/>
          <let VAR="elevator" VALUE="@PITCH * AILEVON_ELEVATOR_RATE"/>
          <set VALUE="@THROTTLE" SERVO="MOTOR"/>
          <set VALUE="$elevator - $aileron" SERVO="AILEVON_LEFT"/>
          <set VALUE="$elevator + $aileron" SERVO="AILEVON_RIGHT"/>
        </command_laws>
        <section PREFIX="AUTO1_" NAME="AUTO1">
          <define VALUE="0.7" NAME="MAX_ROLL"/>
          <define VALUE="0.6" NAME="MAX_PITCH"/>
        </section>
        <section PREFIX="IR_" NAME="INFRARED">
          <define VALUE="512" NAME="ADC_IR1_NEUTRAL"/>
          <define VALUE="512" NAME="ADC_IR2_NEUTRAL"/>
          <define VALUE="512" NAME="ADC_TOP_NEUTRAL"/>
          <define VALUE="1." NAME="LATERAL_CORRECTION"/>
          <define VALUE="1." NAME="LONGITUDINAL_CORRECTION"/>
          <define VALUE="1.5" NAME="VERTICAL_CORRECTION"/>
          <define VALUE="1" NAME="HORIZ_SENSOR_TILTED"/>
          <define VALUE="-1" NAME="IR2_SIGN"/>
          <define VALUE="-1" NAME="TOP_SIGN"/>
          <define VALUE="-3.6" UNIT="deg" NAME="ROLL_NEUTRAL_DEFAULT"/>
          <define VALUE="5" UNIT="deg" NAME="PITCH_NEUTRAL_DEFAULT"/>
          <define VALUE="1." NAME="CORRECTION_UP"/>
          <define VALUE="1." NAME="CORRECTION_DOWN"/>
          <define VALUE="1." NAME="CORRECTION_LEFT"/>
          <define VALUE="1." NAME="CORRECTION_RIGHT"/>
        </section>
        <section PREFIX="IMU_" NAME="IMU">
          <define VALUE="1" NAME="GYRO_P_SIGN"/>
          <define VALUE="500" NAME="GYRO_P_NEUTRAL"/>
          <define VALUE="0.137518981" NAME="GYRO_P_SENS" INTEGER="16"/>
        </section>
        <section NAME="BAT">
          <define VALUE="2000" NAME="MILLIAMP_AT_FULL_THROTTLE"/>
          <define VALUE="9.3" UNIT="V" NAME="CATASTROPHIC_BAT_LEVEL"/>
        </section>
        <section NAME="MISC">
          <define VALUE="13." UNIT="m/s" NAME="NOMINAL_AIRSPEED"/>
          <define VALUE="5." UNIT="s" NAME="CARROT"/>
          <define VALUE="(1.5*MAX_DIST_FROM_HOME)" NAME="KILL_MODE_DISTANCE"/>
          <define VALUE="60" UNIT="Hz" NAME="CONTROL_FREQUENCY"/>
          <define VALUE="&quot;ATPL2\\rATRN5\\rATTT80\\r&quot;" NAME="XBEE_INIT"/>
          <define VALUE="80." NAME="DEFAULT_CIRCLE_RADIUS"/>
        </section>
        <section PREFIX="V_CTL_" NAME="VERTICAL CONTROL">
          <define VALUE="11.1" UNIT="volt" NAME="POWER_CTL_BAT_NOMINAL"/>
          <define VALUE="0.03" NAME="ALTITUDE_PGAIN"/>
          <define VALUE="2." NAME="ALTITUDE_MAX_CLIMB"/>
          <define VALUE="0.32" NAME="AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE"/>
          <define VALUE="0.25" NAME="AUTO_THROTTLE_MIN_CRUISE_THROTTLE"/>
          <define VALUE="0.65" NAME="AUTO_THROTTLE_MAX_CRUISE_THROTTLE"/>
          <define VALUE="1500" NAME="AUTO_THROTTLE_LOITER_TRIM"/>
          <define VALUE="-4000" NAME="AUTO_THROTTLE_DASH_TRIM"/>
          <define VALUE="0.15" UNIT="%/(m/s)" NAME="AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT"/>
          <define VALUE="0.01" NAME="AUTO_THROTTLE_PGAIN"/>
          <define VALUE="0.1" NAME="AUTO_THROTTLE_IGAIN"/>
          <define VALUE="0.05" NAME="AUTO_THROTTLE_PITCH_OF_VZ_PGAIN"/>
          <define VALUE="2" UNIT="s" NAME="THROTTLE_SLEW_LIMITER"/>
        </section>
        <section PREFIX="H_CTL_" NAME="HORIZONTAL CONTROL">
          <define VALUE="1.0" NAME="COURSE_PGAIN"/>
          <define VALUE="0.3" NAME="COURSE_DGAIN"/>
          <define VALUE="0.6" UNIT="rad" NAME="ROLL_MAX_SETPOINT"/>
          <define VALUE="0.5" UNIT="rad" NAME="PITCH_MAX_SETPOINT"/>
          <define VALUE="-0.5" UNIT="rad" NAME="PITCH_MIN_SETPOINT"/>
          <define VALUE="12000." NAME="PITCH_PGAIN"/>
          <define VALUE="1.5" NAME="PITCH_DGAIN"/>
          <define VALUE="1250" NAME="ELEVATOR_OF_ROLL"/>
          <define VALUE="0.1" NAME="ROLL_SLEW"/>
          <define VALUE="7500" NAME="ROLL_ATTITUDE_GAIN"/>
          <define VALUE="1500" NAME="ROLL_RATE_GAIN"/>
        </section>
        <section PREFIX="AGR_" NAME="AGGRESSIVE">
          <define VALUE="20" NAME="BLEND_START"/>
          <define VALUE="10" NAME="BLEND_END"/>
          <define VALUE="1.00" NAME="CLIMB_THROTTLE"/>
          <define VALUE="0.3" NAME="CLIMB_PITCH"/>
          <define VALUE="0.1" NAME="DESCENT_THROTTLE"/>
          <define VALUE="-0.25" NAME="DESCENT_PITCH"/>
          <define VALUE="0.8" NAME="CLIMB_NAV_RATIO"/>
          <define VALUE="1.0" NAME="DESCENT_NAV_RATIO"/>
        </section>
        <section PREFIX="FAILSAFE_" NAME="FAILSAFE">
          <define VALUE="2" UNIT="s" NAME="DELAY_WITHOUT_GPS"/>
          <define VALUE="0.3" UNIT="%" NAME="DEFAULT_THROTTLE"/>
          <define VALUE="0.3" UNIT="rad" NAME="DEFAULT_ROLL"/>
          <define VALUE="0.5" UNIT="rad" NAME="DEFAULT_PITCH"/>
        </section>
        <section NAME="SIMU">
          <define VALUE="&quot;Malolo1&quot;" NAME="JSBSIM_MODEL"/>
          <define VALUE="0." UNIT="deg" NAME="JSBSIM_IR_ROLL_NEUTRAL"/>
          <define VALUE="0." UNIT="deg" NAME="JSBSIM_IR_PITCH_NEUTRAL"/>
        </section>
        <firmware NAME="fixedwing">
          <target NAME="sim" BOARD="pc"/>
          <target NAME="jsbsim" BOARD="pc"/>
          <target NAME="ap" BOARD="tiny_1.1"/>
          <define NAME="AGR_CLIMB"/>
          <define NAME="LOITER_TRIM"/>
          <subsystem TYPE="ppm" NAME="radio_control"/>
          <subsystem TYPE="xbee_api" NAME="telemetry">
            <configure VALUE="B9600" NAME="MODEM_BAUD"/>
          </subsystem>
          <subsystem NAME="control"/>
          <subsystem TYPE="analog" NAME="imu">
            <configure VALUE="ADC_3" NAME="GYRO_P"/>
          </subsystem>
          <subsystem TYPE="infrared" NAME="ahrs"/>
          <subsystem TYPE="ublox_utm" NAME="gps"/>
          <subsystem NAME="navigation"/>
          <subsystem TYPE="alt_float" NAME="ins"/>
        </firmware>
        <section NAME="GCS">
          <define VALUE="flyingwing" NAME="AC_ICON"/>
        </section>
        <modules>
          <load NAME="openlog.xml"/>
          <load NAME="nav_survey_polygon.xml"/>
          <load NAME="nav_line_border.xml"/>
          <load NAME="nav_line.xml"/>
          <load NAME="nav_smooth.xml"/>
          <load NAME="nav_flower.xml"/>
          <load NAME="nav_line_osam.xml"/>
          <load NAME="nav_survey_poly_osam.xml"/>
          <load NAME="nav_vertical_raster.xml"/>
          <load NAME="nav_bungee_takeoff.xml"/>
          <load NAME="infrared_adc.xml"/>
          <load NAME="digital_cam_servo.xml">
            <define VALUE="COMMAND_SHUTTER" NAME="DC_SHUTTER_SERVO"/>
          </load>
        </modules>
        <firmware NAME="setup">
          <target NAME="tunnel" BOARD="tiny_1.1"/>
          <target NAME="usb_tunnel_0" BOARD="tiny_1.1"/>
          <target NAME="usb_tunnel_1" BOARD="tiny_1.1"/>
        </firmware>
      </airframe>
      <telemetry>
        <process NAME="Ap">
          <mode NAME="default">
            <message PERIOD="1" NAME="AIRSPEED"/>
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="0.25" NAME="GPS"/>
            <message PERIOD="1." NAME="NAVIGATION"/>
            <message PERIOD="0.5" NAME="ATTITUDE"/>
            <message PERIOD="0.5" NAME="ESTIMATOR"/>
            <message PERIOD="2.5" NAME="ENERGY"/>
            <message PERIOD="0.5" NAME="WP_MOVED"/>
            <message PERIOD="1.05" NAME="CIRCLE"/>
            <message PERIOD="1.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="1.2" NAME="SEGMENT"/>
            <message PERIOD="2.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="SETTINGS"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="1.2" NAME="IR_SENSORS"/>
            <message PERIOD="1.1" NAME="IMU_GYRO"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="2.0" NAME="GPS_SOL"/>
            <message PERIOD="0.5" NAME="CAM"/>
            <message PERIOD="1.0" NAME="CAM_POINT"/>
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
          </mode>
          <mode NAME="minimal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="4" NAME="ATTITUDE"/>
            <message PERIOD="1.05" NAME="GPS"/>
            <message PERIOD="1.3" NAME="ESTIMATOR"/>
            <message PERIOD="1.4" NAME="WP_MOVED"/>
            <message PERIOD="3.05" NAME="CIRCLE"/>
            <message PERIOD="4.05" NAME="DESIRED"/>
            <message PERIOD="1.1" NAME="BAT"/>
            <message PERIOD="3.2" NAME="SEGMENT"/>
            <message PERIOD="5.1" NAME="CALIBRATION"/>
            <message PERIOD="9." NAME="NAVIGATION_REF"/>
            <message PERIOD="3." NAME="NAVIGATION"/>
            <message PERIOD="5." NAME="PPRZ_MODE"/>
            <message PERIOD="5." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.1" NAME="DOWNLINK"/>
            <message PERIOD="1.5" NAME="DL_VALUE"/>
            <message PERIOD="5.2" NAME="IR_SENSORS"/>
            <message PERIOD="10.1" NAME="IMU_GYRO"/>
            <message PERIOD="2.1" NAME="SURVEY"/>
            <message PERIOD="5.0" NAME="GPS_SOL"/>
          </mode>
          <mode NAME="extremal">
            <message PERIOD="5" NAME="ALIVE"/>
            <message PERIOD="5.1" NAME="GPS"/>
            <message PERIOD="5.3" NAME="ESTIMATOR"/>
            <message PERIOD="10.1" NAME="BAT"/>
            <message PERIOD="10.2" NAME="DESIRED"/>
            <message PERIOD="5.4" NAME="NAVIGATION"/>
            <message PERIOD="5.5" NAME="PPRZ_MODE"/>
            <message PERIOD="7." NAME="STATE_FILTER_STATUS"/>
            <message PERIOD="5.7" NAME="DOWNLINK"/>
          </mode>
          <mode NAME="raw_sensors">
            <message PERIOD="0.5" NAME="DL_VALUE"/>
            <message PERIOD="2.1" NAME="ALIVE"/>
            <message PERIOD="0.5" NAME="BARO_RAW"/>
            <message PERIOD="0.5" NAME="IR_SENSORS"/>
            <message PERIOD="0.1" NAME="IMU_GYRO_RAW"/>
          </mode>
        </process>
        <process NAME="Fbw">
          <mode NAME="default">
            <message PERIOD="5" NAME="COMMANDS"/>
            <message PERIOD="2" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
          <mode NAME="debug">
            <message PERIOD="0.5" NAME="PPM"/>
            <message PERIOD="0.5" NAME="RC"/>
            <message PERIOD="0.5" NAME="COMMANDS"/>
            <message PERIOD="1" NAME="FBW_STATUS"/>
            <message PERIOD="5" NAME="ACTUATORS"/>
          </mode>
        </process>
      </telemetry>
      <settings>
        <dl_settings>
          <dl_settings NAME="flight params">
            <dl_setting VAR="flight_altitude" STEP="10" SHORTNAME="altitude" MIN="0" MAX="1000"/>
            <dl_setting VAR="nav_course" STEP="1" MIN="0" MAX="360"/>
            <dl_setting VAR="nav_shift" STEP="5" SHORTNAME="inc. shift" MODULE="firmwares/fixedwing/nav" MIN="-10" MAX="10" HANDLER="IncreaseShift"/>
            <dl_setting VAR="autopilot_flight_time" STEP="1" SHORTNAME="flight time" MODULE="autopilot" MIN="0" MAX="0" HANDLER="ResetFlightTimeAndLaunch"/>
            <dl_setting VAR="nav_radius" STEP="10" MODULE="firmwares/fixedwing/nav" MIN="-200" MAX="200" HANDLER="SetNavRadius">
              <strip_button VALUE="1" NAME="Circle right" ICON="circle-right.png" GROUP="circle"/>
              <strip_button VALUE="-1" NAME="Circle left" ICON="circle-left.png" GROUP="circle"/>
              <key_press VALUE="1" KEY="greater"/>
              <key_press VALUE="-1" KEY="less"/>
            </dl_setting>
          </dl_settings>
          <dl_settings NAME="mode">
            <dl_setting VAR="pprz_mode" VALUES="MANUAL|AUTO1|AUTO2|HOME|NOGPS|FAILSAFE" STEP="1" MODULE="autopilot" MIN="0" MAX="2"/>
            <dl_setting VAR="launch" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="kill_throttle" STEP="1" MIN="0" MAX="1"/>
            <dl_setting VAR="gps.reset" STEP="1" SHORTNAME="GPS reset" MODULE="subsystems/gps" MIN="0" MAX="2" HANDLER="Reset"/>
          </dl_settings>
        </dl_settings>
      </settings>
    </aircraft>
  </conf>
  <protocol>
    <class NAME="telemetry">
      <message NAME="BOOT" ID="1">
        <field TYPE="uint16" NAME="version"/>
      </message>
      <message NAME="ALIVE" ID="2">
        <field TYPE="uint8[]" NAME="md5sum"/>
      </message>
      <message NAME="PONG" ID="3"/>
      <message NAME="TAKEOFF" ID="4">
        <field UNIT="s" TYPE="uint16" NAME="cpu_time"/>
      </message>
      <message NAME="ARDRONE_NAVDATA" ID="5">
        <field TYPE="uint16" NAME="taille"/>
        <field TYPE="uint16" NAME="nu_trame"/>
        <field TYPE="uint16" NAME="ax"/>
        <field TYPE="uint16" NAME="ay"/>
        <field TYPE="uint16" NAME="az"/>
        <field TYPE="int16" NAME="vx"/>
        <field TYPE="int16" NAME="vy"/>
        <field TYPE="int16" NAME="vz"/>
        <field TYPE="uint16" NAME="temperature_acc"/>
        <field TYPE="uint16" NAME="temperature_gyro"/>
        <field TYPE="uint16" NAME="ultrasound"/>
        <field TYPE="uint16" NAME="us_debut_echo"/>
        <field TYPE="uint16" NAME="us_fin_echo"/>
        <field TYPE="uint16" NAME="us_association_echo"/>
        <field TYPE="uint16" NAME="us_distance_echo"/>
        <field TYPE="uint16" NAME="us_curve_time"/>
        <field TYPE="uint16" NAME="us_curve_value"/>
        <field TYPE="uint16" NAME="us_curve_ref"/>
        <field TYPE="uint16" NAME="nb_echo"/>
        <field TYPE="uint32" NAME="sum_echo"/>
        <field TYPE="int16" NAME="gradient"/>
        <field TYPE="uint16" NAME="flag_echo_ini"/>
        <field TYPE="int32" NAME="pressure"/>
        <field TYPE="uint16" NAME="temperature_pressure"/>
        <field TYPE="int16" NAME="mx"/>
        <field TYPE="int16" NAME="my"/>
        <field TYPE="int16" NAME="mz"/>
        <field TYPE="uint16" NAME="chksum"/>
        <field TYPE="uint32" NAME="checksum_errors"/>
      </message>
      <message NAME="ATTITUDE" ID="6">
        <field UNIT="rad" TYPE="float" NAME="phi" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="psi" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="theta" ALT_UNIT="deg"/>
      </message>
      <message NAME="IR_SENSORS" ID="7">
        <field TYPE="int16" NAME="ir1"/>
        <field TYPE="int16" NAME="ir2"/>
        <field TYPE="int16" NAME="longitudinal"/>
        <field TYPE="int16" NAME="lateral"/>
        <field TYPE="int16" NAME="vertical"/>
      </message>
      <message NAME="GPS" ID="8">
        <field UNIT="byte_mask" TYPE="uint8" NAME="mode"/>
        <field UNIT="cm" TYPE="int32" NAME="utm_east" ALT_UNIT="m"/>
        <field UNIT="cm" TYPE="int32" NAME="utm_north" ALT_UNIT="m"/>
        <field UNIT="decideg" TYPE="int16" NAME="course" ALT_UNIT="deg"/>
        <field UNIT="mm" TYPE="int32" NAME="alt" ALT_UNIT="m"/>
        <field UNIT="cm/s" TYPE="uint16" NAME="speed" ALT_UNIT="m/s"/>
        <field UNIT="cm/s" TYPE="int16" NAME="climb" ALT_UNIT="m/s"/>
        <field UNIT="weeks" TYPE="uint16" NAME="week"/>
        <field UNIT="ms" TYPE="uint32" NAME="itow"/>
        <field TYPE="uint8" NAME="utm_zone"/>
        <field TYPE="uint8" NAME="gps_nb_err"/>
      </message>
      <message NAME="NAVIGATION_REF" ID="9">
        <field UNIT="m" TYPE="int32" NAME="utm_east"/>
        <field UNIT="m" TYPE="int32" NAME="utm_north"/>
        <field TYPE="uint8" NAME="utm_zone"/>
        <field UNIT="m" TYPE="float" NAME="ground_alt"/>
      </message>
      <message NAME="NAVIGATION" ID="10">
        <field TYPE="uint8" NAME="cur_block"/>
        <field TYPE="uint8" NAME="cur_stage"/>
        <field UNIT="m" TYPE="float" NAME="pos_x" FORMAT="%.1f"/>
        <field UNIT="m" TYPE="float" NAME="pos_y" FORMAT="%.1f"/>
        <field UNIT="m^2" TYPE="float" NAME="dist2_wp" FORMAT="%.1f"/>
        <field UNIT="m^2" TYPE="float" NAME="dist2_home" FORMAT="%.1f"/>
        <field TYPE="uint8" NAME="circle_count"/>
        <field TYPE="uint8" NAME="oval_count"/>
      </message>
      <message NAME="PPRZ_MODE" ID="11">
        <field VALUES="MANUAL|AUTO1|AUTO2|HOME|NOGPS|FAILSAFE" TYPE="uint8" NAME="ap_mode"/>
        <field VALUES="MANUAL|AUTO_THROTTLE|AUTO_CLIMB|AUTO_ALT" TYPE="uint8" NAME="ap_gaz"/>
        <field VALUES="MANUAL|ROLL_RATE|ROLL|COURSE" TYPE="uint8" NAME="ap_lateral"/>
        <field VALUES="WAYPOINT|ROUTE|CIRCLE" TYPE="uint8" NAME="ap_horizontal"/>
        <field VALUES="NONE|DOWN|UP" TYPE="uint8" NAME="if_calib_mode"/>
        <field VALUES="LOST|OK|REALLY_LOST" TYPE="uint8" NAME="mcu1_status"/>
      </message>
      <message NAME="BAT" ID="12">
        <field UNIT="pprz" TYPE="int16" NAME="throttle"/>
        <field UNIT="1e-1V" TYPE="uint16" NAME="voltage" ALT_UNIT_COEF="0.1" ALT_UNIT="V"/>
        <field UNIT="1e-2A" TYPE="int16" NAME="amps" ALT_UNIT_COEF="0.01" ALT_UNIT="A"/>
        <field UNIT="s" TYPE="uint16" NAME="flight_time"/>
        <field UNIT="bool" TYPE="uint8" NAME="kill_auto_throttle"/>
        <field UNIT="s" TYPE="uint16" NAME="block_time"/>
        <field UNIT="s" TYPE="uint16" NAME="stage_time"/>
        <field UNIT="mAh" TYPE="int16" NAME="energy"/>
      </message>
      <message NAME="DEBUG_MCU_LINK" ID="13">
        <field TYPE="uint8" NAME="i2c_nb_err"/>
        <field TYPE="uint8" NAME="i2c_mcu1_nb_err"/>
        <field TYPE="uint8" NAME="ppm_rate"/>
      </message>
      <message NAME="CALIBRATION" ID="14">
        <field TYPE="float" NAME="climb_sum_err" FORMAT="%.1f"/>
        <field TYPE="uint8" NAME="climb_gaz_submode"/>
      </message>
      <message NAME="SETTINGS" ID="15">
        <field TYPE="float" NAME="slider_1_val"/>
        <field TYPE="float" NAME="slider_2_val"/>
      </message>
      <message NAME="DESIRED" ID="16">
        <field UNIT="rad" TYPE="float" NAME="roll" FORMAT="%.2f" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="pitch" FORMAT="%.2f" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="course" FORMAT="%.1f" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="m" TYPE="float" NAME="x" FORMAT="%.0f"/>
        <field UNIT="m" TYPE="float" NAME="y" FORMAT="%.0f"/>
        <field UNIT="m" TYPE="float" NAME="altitude" FORMAT="%.0f"/>
        <field UNIT="m/s" TYPE="float" NAME="climb" FORMAT="%.1f"/>
        <field UNIT="m/s" TYPE="float" NAME="airspeed" FORMAT="%.1f"/>
      </message>
      <message NAME="GPS_SOL" ID="17">
        <field UNIT="cm" TYPE="uint32" NAME="Pacc"/>
        <field UNIT="cm/s" TYPE="uint32" NAME="Sacc"/>
        <field TYPE="uint16" NAME="PDOP"/>
        <field TYPE="uint8" NAME="numSV"/>
      </message>
      <message NAME="ADC_GENERIC" ID="18">
        <field TYPE="uint16" NAME="val1"/>
        <field TYPE="uint16" NAME="val2"/>
      </message>
      <message NAME="TEST_FORMAT" ID="19">
        <field TYPE="double" NAME="val1"/>
        <field TYPE="float" NAME="val2"/>
      </message>
      <message NAME="CAM" ID="20">
        <field UNIT="deg" TYPE="int16" NAME="phi"/>
        <field UNIT="deg" TYPE="int16" NAME="theta"/>
        <field UNIT="m" TYPE="int16" NAME="target_x"/>
        <field UNIT="m" TYPE="int16" NAME="target_y"/>
      </message>
      <message NAME="CIRCLE" ID="21">
        <field UNIT="m" TYPE="float" NAME="center_east"/>
        <field UNIT="m" TYPE="float" NAME="center_north"/>
        <field UNIT="m" TYPE="float" NAME="radius"/>
      </message>
      <message NAME="SEGMENT" ID="22">
        <field UNIT="m" TYPE="float" NAME="segment_east_1"/>
        <field UNIT="m" TYPE="float" NAME="segment_north_1"/>
        <field UNIT="m" TYPE="float" NAME="segment_east_2"/>
        <field UNIT="m" TYPE="float" NAME="segment_north_2"/>
      </message>
      <message NAME="DOWNLINK_STATUS" ID="23">
        <field TYPE="int8" NAME="link_id"/>
        <field UNIT="s" TYPE="uint32" NAME="run_time"/>
        <field TYPE="uint32" NAME="rx_bytes"/>
        <field TYPE="uint32" NAME="rx_msgs"/>
        <field TYPE="uint32" NAME="rx_err"/>
        <field TYPE="float" NAME="rx_bytes_rate" FORMAT="%.1f"/>
        <field TYPE="float" NAME="rx_msgs_rate" FORMAT="%.1f"/>
        <field UNIT="ms" TYPE="float" NAME="ping_time" FORMAT="%.2f"/>
      </message>
      <message NAME="MODEM_STATUS" ID="24">
        <field TYPE="uint8" NAME="detected"/>
        <field TYPE="float" NAME="valim" FORMAT="%.1f"/>
        <field TYPE="uint8" NAME="cd"/>
        <field TYPE="uint32" NAME="nb_byte"/>
        <field TYPE="uint32" NAME="nb_msg"/>
        <field TYPE="uint32" NAME="nb_err"/>
      </message>
      <message NAME="SVINFO" ID="25">
        <field TYPE="uint8" NAME="chn"/>
        <field TYPE="uint8" NAME="SVID"/>
        <field TYPE="uint8" NAME="Flags"/>
        <field TYPE="uint8" NAME="QI"/>
        <field UNIT="dbHz" TYPE="uint8" NAME="CNO"/>
        <field UNIT="deg" TYPE="int8" NAME="Elev"/>
        <field UNIT="deg" TYPE="int16" NAME="Azim"/>
      </message>
      <message NAME="DEBUG" ID="26">
        <field TYPE="uint8[]" NAME="msg"/>
      </message>
      <message NAME="SURVEY" ID="27">
        <field UNIT="m" TYPE="float" NAME="east"/>
        <field UNIT="m" TYPE="float" NAME="north"/>
        <field UNIT="m" TYPE="float" NAME="west"/>
        <field UNIT="m" TYPE="float" NAME="south"/>
      </message>
      <message NAME="WC_RSSI" ID="28">
        <field TYPE="uint8" NAME="raw_level"/>
      </message>
      <message NAME="RANGEFINDER" ID="29">
        <field UNIT="cm" TYPE="uint16" NAME="range"/>
        <field UNIT="m/s" TYPE="float" NAME="z_dot"/>
        <field UNIT="m/s" TYPE="float" NAME="z_dot_sum_err"/>
        <field UNIT="m/s" TYPE="float" NAME="z_dot_setpoint"/>
        <field UNIT="m/s" TYPE="float" NAME="z_sum_err"/>
        <field UNIT="m" TYPE="float" NAME="z_setpoint"/>
        <field UNIT="bool" TYPE="uint8" NAME="flying"/>
      </message>
      <message NAME="DOWNLINK" ID="30">
        <field TYPE="uint8" NAME="nb_ovrn"/>
        <field UNIT="bytes/s" TYPE="uint16" NAME="rate"/>
        <field TYPE="uint16" NAME="nb_msgs"/>
      </message>
      <message NAME="DL_VALUE" ID="31">
        <field TYPE="uint8" NAME="index"/>
        <field TYPE="float" NAME="value"/>
      </message>
      <message NAME="MARK" ID="32">
        <field TYPE="uint8" NAME="ac_id"/>
        <field UNIT="deg" TYPE="float" NAME="lat"/>
        <field UNIT="deg" TYPE="float" NAME="long"/>
      </message>
      <message NAME="SYS_MON" ID="33">
        <field UNIT="usec" TYPE="uint16" NAME="periodic_time" ALT_UNIT_COEF="0.001" ALT_UNIT="msec"/>
        <field UNIT="usec" TYPE="uint16" NAME="periodic_time_min" ALT_UNIT_COEF="0.001" ALT_UNIT="msec"/>
        <field UNIT="usec" TYPE="uint16" NAME="periodic_time_max" ALT_UNIT_COEF="0.001" ALT_UNIT="msec"/>
        <field UNIT="usec" TYPE="uint16" NAME="periodic_cycle" ALT_UNIT_COEF="0.001" ALT_UNIT="msec"/>
        <field UNIT="usec" TYPE="uint16" NAME="periodic_cycle_min" ALT_UNIT_COEF="0.001" ALT_UNIT="msec"/>
        <field UNIT="usec" TYPE="uint16" NAME="periodic_cycle_max" ALT_UNIT_COEF="0.001" ALT_UNIT="msec"/>
        <field TYPE="uint16" NAME="event_number"/>
        <field UNIT="%" TYPE="uint8" NAME="cpu_load"/>
      </message>
      <message NAME="MOTOR" ID="34">
        <field UNIT="Hz" TYPE="uint16" NAME="rpm"/>
        <field UNIT="mA" TYPE="int32" NAME="current"/>
      </message>
      <message NAME="WP_MOVED" ID="35">
        <field TYPE="uint8" NAME="wp_id"/>
        <field UNIT="m" TYPE="float" NAME="utm_east"/>
        <field UNIT="m" TYPE="float" NAME="utm_north"/>
        <field UNIT="m" TYPE="float" NAME="alt"/>
        <field TYPE="uint8" NAME="utm_zone"/>
      </message>
      <message NAME="MKK" ID="36">
        <field UNIT="mA" TYPE="int8" NAME="nr"/>
        <field UNIT="Poles/s" TYPE="uint8" NAME="rpm"/>
        <field UNIT="mA" TYPE="int8" NAME="current"/>
        <field UNIT="deg" TYPE="int8" NAME="temp"/>
      </message>
      <message NAME="ENERGY" ID="37">
        <field UNIT="V" TYPE="float" NAME="bat"/>
        <field UNIT="A" TYPE="float" NAME="amp"/>
        <field UNIT="mAh" TYPE="uint16" NAME="energy"/>
        <field UNIT="W" TYPE="float" NAME="power"/>
      </message>
      <message NAME="BARO_BMP85_CALIB" ID="38">
        <field TYPE="int16" NAME="a1"/>
        <field TYPE="int16" NAME="a2"/>
        <field TYPE="int16" NAME="a3"/>
        <field TYPE="uint16" NAME="a4"/>
        <field TYPE="uint16" NAME="a5"/>
        <field TYPE="uint16" NAME="a6"/>
        <field TYPE="int16" NAME="b1"/>
        <field TYPE="int16" NAME="b2"/>
        <field TYPE="int16" NAME="mb"/>
        <field TYPE="int16" NAME="mc"/>
        <field TYPE="int16" NAME="md"/>
      </message>
      <message NAME="BARO_BMP85" ID="39">
        <field TYPE="int32" NAME="UT"/>
        <field TYPE="int32" NAME="UP"/>
        <field TYPE="uint32" NAME="P"/>
        <field TYPE="float" NAME="T"/>
        <field TYPE="float" NAME="MSL"/>
      </message>
      <message NAME="SPEED_LOOP" ID="40">
        <field UNIT="m/s" TYPE="float" NAME="ve_set_point"/>
        <field UNIT="m/s" TYPE="float" NAME="ve"/>
        <field UNIT="m/s" TYPE="float" NAME="vn_set_point"/>
        <field UNIT="m/s" TYPE="float" NAME="vn"/>
        <field UNIT="rad" TYPE="float" NAME="north_sp"/>
        <field UNIT="rad" TYPE="float" NAME="east_sp"/>
      </message>
      <message NAME="ALT_KALMAN" ID="41">
        <field TYPE="float" NAME="p00"/>
        <field TYPE="float" NAME="p01"/>
        <field TYPE="float" NAME="p10"/>
        <field TYPE="float" NAME="p11"/>
      </message>
      <message NAME="ESTIMATOR" ID="42">
        <field UNIT="m" TYPE="float" NAME="z"/>
        <field UNIT="m/s" TYPE="float" NAME="z_dot"/>
      </message>
      <message NAME="TUNE_ROLL" ID="43">
        <field TYPE="float" NAME="p"/>
        <field TYPE="float" NAME="phi"/>
        <field TYPE="float" NAME="phi_sp"/>
      </message>
      <message NAME="BARO_MS5534A" ID="44">
        <field UNIT="P" TYPE="uint32" NAME="pressure"/>
        <field UNIT="dC" TYPE="uint16" NAME="temp"/>
        <field UNIT="m" TYPE="float" NAME="alt"/>
      </message>
      <message NAME="PRESSURE" ID="45">
        <field TYPE="float" NAME="airspeed_adc"/>
        <field UNIT="m/s" TYPE="float" NAME="airspeed"/>
        <field TYPE="float" NAME="altitude_adc"/>
        <field UNIT="m" TYPE="float" NAME="altitude"/>
      </message>
      <message NAME="BARO_WORDS" ID="46">
        <field TYPE="uint16" NAME="w1"/>
        <field TYPE="uint16" NAME="w2"/>
        <field TYPE="uint16" NAME="w3"/>
        <field TYPE="uint16" NAME="w4"/>
      </message>
      <message NAME="WP_MOVED_LLA" ID="47">
        <field TYPE="uint8" NAME="wp_id"/>
        <field UNIT="deg" TYPE="int32" NAME="lat"/>
        <field UNIT="deg" TYPE="int32" NAME="lon"/>
        <field UNIT="cm" TYPE="int32" NAME="alt"/>
      </message>
      <message NAME="CHRONO" ID="48">
        <field TYPE="uint8" NAME="tag"/>
        <field UNIT="us" TYPE="uint32" NAME="time"/>
      </message>
      <message NAME="WP_MOVED_ENU" ID="49">
        <field TYPE="uint8" NAME="wp_id"/>
        <field UNIT="2^8m" TYPE="int32" NAME="east" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field UNIT="2^8m" TYPE="int32" NAME="north" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field UNIT="2^8m" TYPE="int32" NAME="up" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
      </message>
      <message NAME="WINDTURBINE_STATUS_" ID="50">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8" NAME="tb_id"/>
        <field UNIT="ms" TYPE="uint32" NAME="sync_itow"/>
        <field UNIT="ms" TYPE="uint32" NAME="cycle_time"/>
      </message>
      <message NAME="RC_3CH_" ID="51">
        <field UNIT="byte_mask" TYPE="uint8" NAME="throttle_mode"/>
        <field TYPE="int8" NAME="roll"/>
        <field TYPE="int8" NAME="pitch"/>
      </message>
      <message NAME="MPPT" ID="52">
        <field TYPE="int16[]" NAME="values" ALT_UNIT_COEF="1e-3"/>
      </message>
      <message NAME="DEBUG_IR_I2C" ID="53">
        <field UNIT="adc" TYPE="int16" NAME="ir1"/>
        <field UNIT="adc" TYPE="int16" NAME="ir2"/>
        <field UNIT="adc" TYPE="int16" NAME="top"/>
      </message>
      <message NAME="AIRSPEED" ID="54">
        <field UNIT="m/s" TYPE="float" NAME="airspeed"/>
        <field UNIT="m/s" TYPE="float" NAME="airspeed_sp"/>
        <field UNIT="m/s" TYPE="float" NAME="airspeed_cnt"/>
        <field UNIT="m/s" TYPE="float" NAME="groundspeed_sp"/>
      </message>
      <message NAME="XSENS" ID="55">
        <field UNIT="" TYPE="int16" NAME="counter"/>
        <field UNIT="deg/s" TYPE="float" NAME="p"/>
        <field UNIT="deg/s" TYPE="float" NAME="q"/>
        <field UNIT="deg/s" TYPE="float" NAME="r"/>
        <field UNIT="deg" TYPE="float" NAME="phi"/>
        <field UNIT="deg" TYPE="float" NAME="theta"/>
        <field UNIT="deg" TYPE="float" NAME="psi"/>
        <field UNIT="m/s2" TYPE="float" NAME="ax"/>
        <field UNIT="m/s2" TYPE="float" NAME="ay"/>
        <field UNIT="m/s2" TYPE="float" NAME="az"/>
        <field UNIT="m/s" TYPE="float" NAME="vx"/>
        <field UNIT="m/s" TYPE="float" NAME="vy"/>
        <field UNIT="m/s" TYPE="float" NAME="vz"/>
        <field UNIT="deg" TYPE="float" NAME="lat"/>
        <field UNIT="deg" TYPE="float" NAME="lon"/>
        <field UNIT="m" TYPE="float" NAME="alt"/>
        <field UNIT="" TYPE="uint8" NAME="status"/>
        <field UNIT="" TYPE="uint8" NAME="hour"/>
        <field UNIT="" TYPE="uint8" NAME="min"/>
        <field UNIT="" TYPE="uint8" NAME="sec"/>
        <field UNIT="" TYPE="uint32" NAME="nanosec"/>
        <field UNIT="" TYPE="uint16" NAME="year"/>
        <field UNIT="" TYPE="uint8" NAME="month"/>
        <field UNIT="" TYPE="uint8" NAME="day"/>
      </message>
      <message NAME="BARO_ETS" ID="56">
        <field TYPE="uint16" NAME="adc"/>
        <field TYPE="uint16" NAME="offset"/>
        <field TYPE="float" NAME="scaled"/>
      </message>
      <message NAME="AIRSPEED_ETS" ID="57">
        <field TYPE="uint16" NAME="adc"/>
        <field TYPE="uint16" NAME="offset"/>
        <field TYPE="float" NAME="scaled"/>
      </message>
      <message NAME="PBN" ID="58">
        <field TYPE="uint16" NAME="airspeed_adc"/>
        <field TYPE="uint16" NAME="altitude_adc"/>
        <field TYPE="float" NAME="airspeed"/>
        <field TYPE="float" NAME="altitude"/>
        <field TYPE="uint16" NAME="airspeed_offset"/>
        <field TYPE="uint16" NAME="altitude_offset"/>
      </message>
      <message NAME="GPS_LLA" ID="59">
        <field TYPE="int32" NAME="lat" ALT_UNIT_COEF="0.0000057296" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="lon" ALT_UNIT_COEF="0.0000057296" ALT_UNIT="deg"/>
        <field UNIT="mm" TYPE="int32" NAME="alt" ALT_UNIT="m"/>
        <field UNIT="decideg" TYPE="int16" NAME="course" ALT_UNIT="deg"/>
        <field UNIT="cm/s" TYPE="uint16" NAME="speed" ALT_UNIT="m/s"/>
        <field UNIT="cm/s" TYPE="int16" NAME="climb" ALT_UNIT="m/s"/>
        <field UNIT="weeks" TYPE="uint16" NAME="week"/>
        <field UNIT="ms" TYPE="uint32" NAME="itow"/>
        <field UNIT="byte_mask" TYPE="uint8" NAME="mode"/>
        <field TYPE="uint8" NAME="gps_nb_err"/>
      </message>
      <message NAME="H_CTL_A" ID="60">
        <field TYPE="float" NAME="roll_sum_err"/>
        <field UNIT="rad" TYPE="float" NAME="roll_sp" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="roll_ref" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="phi" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="pprz" TYPE="int16" NAME="aileron_sp"/>
        <field TYPE="float" NAME="pitch_sum_err"/>
        <field UNIT="rad" TYPE="float" NAME="pitch_sp" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="pitch_ref" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="theta" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="pprz" TYPE="int16" NAME="elevator_sp"/>
      </message>
      <message NAME="TURB_PRESSURE_RAW" ID="61">
        <field UNIT="adc" TYPE="int32" NAME="ch_0"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_1"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_2"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_3"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_4"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_5"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_6"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_7"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_8"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_9"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_10"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_11"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_12"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_13"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_14"/>
        <field UNIT="adc" TYPE="int32" NAME="ch_15"/>
      </message>
      <message NAME="TURB_PRESSURE_VOLTAGE" ID="62">
        <field TYPE="float" NAME="ch_1_p"/>
        <field TYPE="float" NAME="ch_1_t"/>
        <field TYPE="float" NAME="ch_2_p"/>
        <field TYPE="float" NAME="ch_2_t"/>
        <field TYPE="float" NAME="ch_3_p"/>
        <field TYPE="float" NAME="ch_3_t"/>
        <field TYPE="float" NAME="ch_4_p"/>
        <field TYPE="float" NAME="ch_4_t"/>
        <field TYPE="float" NAME="ch_5_p"/>
        <field TYPE="float" NAME="ch_5_t"/>
        <field TYPE="float" NAME="ch_6_p"/>
        <field TYPE="float" NAME="ch_6_t"/>
        <field TYPE="float" NAME="ch_7_p"/>
        <field TYPE="float" NAME="ch_7_t"/>
        <field TYPE="float" NAME="gnd1"/>
        <field TYPE="float" NAME="gnd2"/>
      </message>
      <message NAME="CAM_POINT" ID="63">
        <field UNIT="m" TYPE="uint16" NAME="cam_point_distance_from_home"/>
        <field UNIT="deg" TYPE="float" NAME="cam_point_lat"/>
        <field UNIT="deg" TYPE="float" NAME="cam_point_lon"/>
      </message>
      <message NAME="DC_INFO" ID="64">
        <field UNIT="" TYPE="int16" NAME="mode"/>
        <field UNIT="m" TYPE="float" NAME="utm_east"/>
        <field UNIT="m" TYPE="float" NAME="utm_north"/>
        <field UNIT="deg" TYPE="float" NAME="course"/>
        <field TYPE="uint16" NAME="buffer"/>
        <field UNIT="m" TYPE="float" NAME="dist"/>
        <field UNIT="m" TYPE="float" NAME="next_dist"/>
        <field UNIT="m" TYPE="float" NAME="start_x"/>
        <field UNIT="m" TYPE="float" NAME="start_y"/>
        <field UNIT="deg" TYPE="float" NAME="start_angle"/>
        <field UNIT="deg" TYPE="float" NAME="angle"/>
        <field TYPE="float" NAME="last_block"/>
        <field UNIT="" TYPE="int16" NAME="count"/>
        <field UNIT="s" TYPE="uint8" NAME="shutter"/>
      </message>
      <message NAME="AMSYS_BARO" ID="65">
        <field TYPE="uint16" NAME="pBaroRaw"/>
        <field UNIT="Pa" TYPE="float" NAME="pBaro"/>
        <field UNIT="Pa" TYPE="float" NAME="pHomePressure"/>
        <field UNIT="m" TYPE="float" NAME="AltOffset"/>
        <field UNIT="m" TYPE="float" NAME="aktuell"/>
        <field UNIT="m" TYPE="float" NAME="Over_Ground"/>
        <field UNIT="°C" TYPE="float" NAME="tempBaro"/>
      </message>
      <message NAME="AMSYS_AIRSPEED" ID="66">
        <field TYPE="uint16" NAME="asRaw"/>
        <field UNIT="Pa" TYPE="float" NAME="asPresure"/>
        <field UNIT="m/s" TYPE="float" NAME="asAirspeed"/>
        <field UNIT="m/s" TYPE="float" NAME="asAirsFilt"/>
        <field UNIT="°C" TYPE="float" NAME="asTemp"/>
      </message>
      <message NAME="FLIGHT_BENCHMARK" ID="67">
        <field TYPE="float" NAME="SE_As"/>
        <field TYPE="float" NAME="SE_Alt"/>
        <field TYPE="float" NAME="SE_Pos"/>
        <field TYPE="float" NAME="Err_As"/>
        <field TYPE="float" NAME="Err_Alt"/>
        <field TYPE="float" NAME="Err_Pos"/>
      </message>
      <message NAME="MPL3115_BARO" ID="68">
        <field TYPE="uint32" NAME="pressure" ALT_UNIT_COEF="0.25" ALT_UNIT="Pa"/>
        <field TYPE="int16" NAME="temp" ALT_UNIT_COEF="0.0625" ALT_UNIT="degC"/>
        <field UNIT="m" TYPE="float" NAME="alt"/>
      </message>
      <message NAME="AOA_ADC" ID="69">
        <field TYPE="uint16" NAME="adcVal"/>
        <field UNIT="rad" TYPE="float" NAME="AOA"/>
      </message>
      <message NAME="XTEND_RSSI" ID="70">
        <field UNIT="s" TYPE="uint16" NAME="datalink_time"/>
        <field UNIT="dB" TYPE="uint8" NAME="rssi_fade_margin"/>
        <field UNIT="%" TYPE="uint8" NAME="duty"/>
      </message>
      <message NAME="LINK_STATUS" ID="71">
        <field TYPE="uint8" NAME="link_id"/>
        <field UNIT="s" TYPE="float" NAME="time_since_last_msg"/>
        <field UNIT="s" TYPE="uint32" NAME="run_time"/>
        <field TYPE="uint32" NAME="rx_bytes"/>
        <field TYPE="uint32" NAME="rx_msgs"/>
        <field TYPE="uint32" NAME="rx_err"/>
        <field TYPE="float" NAME="rx_bytes_rate" FORMAT="%.1f"/>
        <field TYPE="float" NAME="rx_msgs_rate" FORMAT="%.1f"/>
        <field UNIT="ms" TYPE="float" NAME="ping_time" FORMAT="%.2f"/>
      </message>
      <message NAME="SUPERBITRF" ID="72">
        <field VALUES="UNINIT|INIT_BINDING|INIT_TRANSFER|BINDING|SYNCING_A|SYNCING_B|TRANSFER" TYPE="uint8" NAME="status"/>
        <field VALUES="UNINIT|IDLE|GET_MFG_ID|MULTIWRITE|DATA_CODE|CHAN_SOP_DATA_CRC|RX_IRQ_STATUS_PACKET|SEND" TYPE="uint8" NAME="cyrf_status"/>
        <field TYPE="uint32" NAME="irq_count"/>
        <field TYPE="uint32" NAME="rx_packet_count"/>
        <field TYPE="uint32" NAME="tx_packet_count"/>
        <field TYPE="uint32" NAME="transfer_timeouts"/>
        <field TYPE="uint32" NAME="resync_count"/>
        <field TYPE="uint32" NAME="uplink_count"/>
        <field TYPE="uint32" NAME="rc_count"/>
        <field TYPE="uint32" NAME="timing1"/>
        <field TYPE="uint32" NAME="timing2"/>
        <field TYPE="uint32" NAME="bind_mfg_id"/>
        <field TYPE="uint8[]" NAME="mfg_id"/>
      </message>
      <message NAME="GX3_INFO" ID="73">
        <field UNIT="hz" TYPE="float" NAME="GX3_freq"/>
        <field TYPE="uint32" NAME="chksm_error"/>
        <field TYPE="uint32" NAME="hdr_error"/>
        <field TYPE="uint16" NAME="GX3_chksm"/>
      </message>
      <message NAME="EXPLAIN" ID="74">
        <field VALUES="NAME|SETTING|WAYPOINT|BLOCK|IMAV2013" TYPE="uint8" NAME="type"/>
        <field TYPE="uint8" NAME="id"/>
        <field TYPE="uint8[]" NAME="string"/>
      </message>
      <message NAME="VIDEO_TELEMETRY" ID="75">
        <field UNIT="pixels" TYPE="int32" NAME="blob_x1"/>
        <field UNIT="pixels" TYPE="int32" NAME="blob_y1"/>
        <field UNIT="pixels" TYPE="int32" NAME="blob_x2"/>
        <field UNIT="pixels" TYPE="int32" NAME="blob_y2"/>
        <field UNIT="pixels" TYPE="int32" NAME="blob_x3"/>
        <field UNIT="pixels" TYPE="int32" NAME="blob_y3"/>
        <field UNIT="pixels" TYPE="int32" NAME="blob_x4"/>
        <field UNIT="pixels" TYPE="int32" NAME="blob_y4"/>
      </message>
      <message NAME="VF_UPDATE" ID="76">
        <field UNIT="m" TYPE="float" NAME="baro"/>
        <field UNIT="m" TYPE="float" NAME="range_meter"/>
      </message>
      <message NAME="VF_PREDICT" ID="77">
        <field UNIT="m/s/s" TYPE="float" NAME="accel"/>
      </message>
      <message NAME="INV_FILTER" ID="78">
        <field TYPE="float" NAME="quat"/>
        <field UNIT="rad" TYPE="float" NAME="phi_inv" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="theta_inv" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="psi_inv" ALT_UNIT="deg"/>
        <field UNIT="m/s" TYPE="float" NAME="Vx_inv"/>
        <field UNIT="m/s" TYPE="float" NAME="Vy_inv"/>
        <field UNIT="m/s" TYPE="float" NAME="Vz_inv"/>
        <field UNIT="m" TYPE="float" NAME="Px_inv"/>
        <field UNIT="m" TYPE="float" NAME="Py_inv"/>
        <field UNIT="m" TYPE="float" NAME="Pz_inv"/>
        <field UNIT="rad/s" TYPE="float" NAME="bias_phi" ALT_UNIT="deg/s"/>
        <field UNIT="rad/s" TYPE="float" NAME="bias_theta" ALT_UNIT="deg/s"/>
        <field UNIT="rad/s" TYPE="float" NAME="bias_psi" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="bias_as"/>
        <field TYPE="float" NAME="bias_hb"/>
        <field UNIT="m" TYPE="float" NAME="meas_baro"/>
        <field UNIT="m" TYPE="float" NAME="meas_gps"/>
      </message>
      <message NAME="MISSION_STATUS" ID="79">
        <field TYPE="float" NAME="remaining_time"/>
        <field TYPE="uint8[]" NAME="task_list"/>
      </message>
      <message NAME="CROSS_TRACK_ERROR" ID="80">
        <field UNIT="m" TYPE="float" NAME="cross_track_error"/>
        <field TYPE="float" NAME="cte_int"/>
      </message>
      <message NAME="GENERIC_COM" ID="81">
        <field UNIT="1e7deg" TYPE="int32" NAME="lat"/>
        <field UNIT="1e7deg" TYPE="int32" NAME="lon"/>
        <field UNIT="m" TYPE="int16" NAME="alt"/>
        <field UNIT="cm/s" TYPE="uint16" NAME="gspeed" ALT_UNIT="m/s"/>
        <field UNIT="decideg" TYPE="int16" NAME="course" ALT_UNIT="deg"/>
        <field UNIT="cm/s" TYPE="uint16" NAME="airspeed" ALT_UNIT="m/s"/>
        <field UNIT="decivolt" TYPE="uint8" NAME="vsupply"/>
        <field UNIT="deciAh" TYPE="uint8" NAME="energy"/>
        <field UNIT="%" TYPE="uint8" NAME="throttle"/>
        <field TYPE="uint8" NAME="ap_mode"/>
        <field TYPE="uint8" NAME="nav_block"/>
        <field UNIT="s" TYPE="uint16" NAME="flight_time"/>
      </message>
      <message NAME="FORMATION_SLOT_TM" ID="82">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8" NAME="mode"/>
        <field UNIT="m" TYPE="float" NAME="slot_east" FORMAT="%.1f"/>
        <field UNIT="m" TYPE="float" NAME="slot_north" FORMAT="%.1f"/>
        <field UNIT="m" TYPE="float" NAME="slot_alt" FORMAT="%.1f"/>
      </message>
      <message NAME="FORMATION_STATUS_TM" ID="83">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8" NAME="leader_id"/>
        <field TYPE="uint8" NAME="status"/>
      </message>
      <message NAME="BMP_STATUS" ID="84">
        <field TYPE="int32" NAME="UP"/>
        <field TYPE="int32" NAME="UT"/>
        <field UNIT="Pa" TYPE="int32" NAME="press"/>
        <field UNIT="10x_deg_celsius" TYPE="int32" NAME="temp"/>
      </message>
      <message NAME="MLX_STATUS" ID="85">
        <field TYPE="uint16" NAME="itemp_case"/>
        <field UNIT="deg_celsius" TYPE="float" NAME="temp_case" FORMAT="%.2f"/>
        <field TYPE="uint16" NAME="itemp_obj"/>
        <field UNIT="deg_celsius" TYPE="float" NAME="temp_obj" FORMAT="%.2f"/>
      </message>
      <message NAME="TMP_STATUS" ID="86">
        <field TYPE="uint16" NAME="itemp"/>
        <field UNIT="deg_celsius" TYPE="float" NAME="temp" FORMAT="%.2f"/>
      </message>
      <message NAME="WIND_INFO_RET" ID="87">
        <field UNIT="m/s" TYPE="float" NAME="east"/>
        <field UNIT="m/s" TYPE="float" NAME="north"/>
        <field UNIT="m/s" TYPE="float" NAME="airspeed"/>
      </message>
      <message NAME="SCP_STATUS" ID="88">
        <field UNIT="Pa" TYPE="uint32" NAME="press"/>
        <field UNIT="100x_deg_celsius" TYPE="int16" NAME="temp"/>
      </message>
      <message NAME="SHT_STATUS" ID="89">
        <field TYPE="uint16" NAME="ihumid"/>
        <field TYPE="uint16" NAME="itemp"/>
        <field UNIT="rel_hum" TYPE="float" NAME="humid" FORMAT="%.2f"/>
        <field UNIT="deg_celsius" TYPE="float" NAME="temp" FORMAT="%.2f"/>
      </message>
      <message NAME="ENOSE_STATUS" ID="90">
        <field TYPE="uint16" NAME="val1"/>
        <field TYPE="uint16" NAME="val2"/>
        <field TYPE="uint16" NAME="val3"/>
        <field TYPE="uint16" NAME="PID"/>
        <field TYPE="uint8[]" NAME="heat"/>
      </message>
      <message NAME="DPICCO_STATUS" ID="91">
        <field TYPE="uint16" NAME="humid"/>
        <field TYPE="uint16" NAME="temp"/>
        <field UNIT="rel_hum" TYPE="float" NAME="fhumid" FORMAT="%.2f"/>
        <field UNIT="deg_celsius" TYPE="float" NAME="ftemp" FORMAT="%.2f"/>
      </message>
      <message NAME="ANTENNA_DEBUG" ID="92">
        <field TYPE="int32" NAME="mag_xraw"/>
        <field TYPE="int32" NAME="mag_yraw"/>
        <field TYPE="float" NAME="mag_xcal"/>
        <field TYPE="float" NAME="mag_ycal"/>
        <field TYPE="float" NAME="mag_heading"/>
        <field TYPE="float" NAME="mag_magnitude"/>
        <field TYPE="float" NAME="mag_temp"/>
        <field TYPE="uint8" NAME="mag_distor"/>
        <field TYPE="uint8" NAME="mag_cal_status"/>
      </message>
      <message NAME="ANTENNA_STATUS" ID="93">
        <field TYPE="float" NAME="azim_sp"/>
        <field TYPE="float" NAME="elev_sp"/>
        <field TYPE="uint8" NAME="id_sp"/>
        <field TYPE="uint8" NAME="mode"/>
      </message>
      <message NAME="MOTOR_BENCH_STATUS" ID="94">
        <field TYPE="uint32" NAME="time_ticks"/>
        <field TYPE="float" NAME="throttle" FORMAT="%.3f"/>
        <field TYPE="float" NAME="rpm"/>
        <field TYPE="float" NAME="current"/>
        <field TYPE="float" NAME="thrust"/>
        <field TYPE="float" NAME="torque"/>
        <field TYPE="uint16" NAME="time_s"/>
        <field TYPE="uint8" NAME="mode"/>
      </message>
      <message NAME="MOTOR_BENCH_STATIC" ID="95">
        <field TYPE="float" NAME="av_rpm"/>
        <field TYPE="float" NAME="av_thrust"/>
        <field TYPE="float" NAME="av_current"/>
        <field TYPE="uint16" NAME="throttle"/>
      </message>
      <message NAME="HIH_STATUS" ID="96">
        <field TYPE="uint16" NAME="humid"/>
        <field UNIT="rel_hum" TYPE="float" NAME="fhumid" FORMAT="%.2f"/>
        <field UNIT="deg_celsius" TYPE="float" NAME="ftemp" FORMAT="%.2f"/>
      </message>
      <message NAME="TEMT_STATUS" ID="97">
        <field TYPE="uint16" NAME="light"/>
        <field UNIT="percent" TYPE="float" NAME="f_light" FORMAT="%.2f"/>
      </message>
      <message NAME="GP2Y_STATUS" ID="98">
        <field TYPE="uint16" NAME="idensity"/>
        <field UNIT="mg/m3" TYPE="float" NAME="density" FORMAT="%.2f"/>
      </message>
      <message NAME="SHT_I2C_SERIAL" ID="99">
        <field TYPE="uint32" NAME="serial0"/>
        <field TYPE="uint32" NAME="serial1"/>
      </message>
      <message NAME="PPM" ID="100">
        <field TYPE="uint8" NAME="ppm_rate"/>
        <field UNIT="usec" TYPE="uint16[]" NAME="values"/>
      </message>
      <message NAME="RC" ID="101">
        <field UNIT="pprz" TYPE="int16[]" NAME="values" FORMAT="%d"/>
      </message>
      <message NAME="COMMANDS" ID="102">
        <field UNIT="ticks" TYPE="int16[]" NAME="values"/>
      </message>
      <message NAME="FBW_STATUS" ID="103">
        <field VALUES="OK|LOST|REALLY_LOST" TYPE="uint8" NAME="rc_status"/>
        <field UNIT="Hz" TYPE="uint8" NAME="frame_rate"/>
        <field VALUES="MANUAL|AUTO|FAILSAFE" TYPE="uint8" NAME="mode"/>
        <field UNIT="decivolt" TYPE="uint16" NAME="vsupply"/>
        <field UNIT="mA" TYPE="int32" NAME="current"/>
      </message>
      <message NAME="ADC" ID="104">
        <field VALUES="FBW|AP" TYPE="uint8" NAME="mcu"/>
        <field UNIT="none" TYPE="uint16[]" NAME="values"/>
      </message>
      <message NAME="ACTUATORS" ID="105">
        <field UNIT="none" TYPE="int16[]" NAME="values"/>
      </message>
      <message NAME="BETH" ID="106">
        <field TYPE="int16" NAME="azimuth"/>
        <field TYPE="int16" NAME="elevation"/>
        <field TYPE="int16" NAME="tilt"/>
        <field TYPE="uint32" NAME="counter"/>
        <field TYPE="uint16" NAME="can_errs"/>
        <field TYPE="uint16" NAME="spi_errs"/>
        <field TYPE="int8" NAME="thrust_out"/>
        <field TYPE="int8" NAME="pitch_out"/>
      </message>
      <message NAME="BETH_ESTIMATOR" ID="107">
        <field TYPE="float" NAME="tilt" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="tilt_dot" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="elevation" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="elevation_dot" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="azimuth" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="azimuth_dot" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
      </message>
      <message NAME="BETH_CONTROLLER" ID="108">
        <field TYPE="float" NAME="pitch"/>
        <field TYPE="float" NAME="thrust"/>
        <field TYPE="float" NAME="pitch_ff"/>
        <field TYPE="float" NAME="pitch_fb"/>
        <field TYPE="float" NAME="thrust_ff"/>
        <field TYPE="float" NAME="thrust_fb"/>
        <field TYPE="float" NAME="tilt_sp" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="tilt_ref" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="tilt_dot_ref" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="elevation_sp " ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="elevation_ref " ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="elevation_dot_ref" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="azimuth_sp" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
      </message>
      <message NAME="BETH_CONTROLLER_TWIST" ID="109">
        <field TYPE="float" NAME="S"/>
        <field TYPE="float" NAME="S_dot"/>
        <field TYPE="float" NAME="U_twt"/>
        <field TYPE="float" NAME="error"/>
      </message>
      <message NAME="DC_SHOT" ID="110">
        <field TYPE="int16" NAME="photo_nr"/>
        <field UNIT="cm" TYPE="int32" NAME="utm_east"/>
        <field UNIT="cm" TYPE="int32" NAME="utm_north"/>
        <field UNIT="m" TYPE="float" NAME="z"/>
        <field TYPE="uint8" NAME="utm_zone"/>
        <field UNIT="decideg" TYPE="int16" NAME="phi"/>
        <field UNIT="decideg" TYPE="int16" NAME="theta"/>
        <field UNIT="decideg" TYPE="int16" NAME="course"/>
        <field UNIT="cm/s" TYPE="uint16" NAME="speed"/>
        <field UNIT="ms" TYPE="uint32" NAME="itow"/>
      </message>
      <message NAME="TEST_BOARD_RESULTS" ID="111">
        <field TYPE="uint8" NAME="uart"/>
        <field TYPE="uint8" NAME="ppm"/>
        <field TYPE="uint16[]" NAME="servo"/>
      </message>
      <message NAME="BETH_CONTROLLER_SFB" ID="112">
        <field TYPE="float" NAME="one"/>
      </message>
      <message NAME="MLX_SERIAL" ID="113">
        <field TYPE="uint32" NAME="serial0"/>
        <field TYPE="uint32" NAME="serial1"/>
      </message>
      <message NAME="PAYLOAD" ID="114">
        <field UNIT="none" TYPE="uint8[]" NAME="values"/>
      </message>
      <message NAME="HTM_STATUS" ID="115">
        <field TYPE="uint16" NAME="ihumid"/>
        <field TYPE="uint16" NAME="itemp"/>
        <field UNIT="rel_hum" TYPE="float" NAME="humid" FORMAT="%.2f"/>
        <field UNIT="deg_celsius" TYPE="float" NAME="temp" FORMAT="%.2f"/>
      </message>
      <message NAME="BARO_MS5611" ID="116">
        <field TYPE="uint32" NAME="d1"/>
        <field TYPE="uint32" NAME="d2"/>
        <field UNIT="hPa" TYPE="float" NAME="pressure" FORMAT="%.2f"/>
        <field UNIT="deg_celsius" TYPE="float" NAME="temp" FORMAT="%.2f"/>
      </message>
      <message NAME="MS5611_COEFF" ID="117">
        <field TYPE="uint16" NAME="c0"/>
        <field TYPE="uint16" NAME="c1"/>
        <field TYPE="uint16" NAME="c2"/>
        <field TYPE="uint16" NAME="c3"/>
        <field TYPE="uint16" NAME="c4"/>
        <field TYPE="uint16" NAME="c5"/>
        <field TYPE="uint16" NAME="c6"/>
        <field TYPE="uint16" NAME="c7"/>
      </message>
      <message NAME="ATMOSPHERE_CHARGE" ID="118">
        <field TYPE="uint16" NAME="t0"/>
        <field TYPE="uint16" NAME="t1"/>
        <field TYPE="uint16" NAME="t2"/>
        <field TYPE="uint16" NAME="t3"/>
        <field TYPE="uint16" NAME="t4"/>
        <field TYPE="uint16" NAME="t5"/>
        <field TYPE="uint16" NAME="t6"/>
        <field TYPE="uint16" NAME="t7"/>
        <field TYPE="uint16" NAME="t8"/>
        <field TYPE="uint16" NAME="t9"/>
      </message>
      <message NAME="SOLAR_RADIATION" ID="119">
        <field TYPE="uint16" NAME="up_t0"/>
        <field TYPE="uint16" NAME="dn_t0"/>
        <field TYPE="uint16" NAME="up_t1"/>
        <field TYPE="uint16" NAME="dn_t1"/>
        <field TYPE="uint16" NAME="up_t2"/>
        <field TYPE="uint16" NAME="dn_t2"/>
        <field TYPE="uint16" NAME="up_t3"/>
        <field TYPE="uint16" NAME="dn_t3"/>
        <field TYPE="uint16" NAME="up_t4"/>
        <field TYPE="uint16" NAME="dn_t4"/>
        <field TYPE="uint16" NAME="up_t5"/>
        <field TYPE="uint16" NAME="dn_t5"/>
        <field TYPE="uint16" NAME="up_t6"/>
        <field TYPE="uint16" NAME="dn_t6"/>
        <field TYPE="uint16" NAME="up_t7"/>
        <field TYPE="uint16" NAME="dn_t7"/>
        <field TYPE="uint16" NAME="up_t8"/>
        <field TYPE="uint16" NAME="dn_t8"/>
        <field TYPE="uint16" NAME="up_t9"/>
        <field TYPE="uint16" NAME="dn_t9"/>
      </message>
      <message NAME="TCAS_TA" ID="120">
        <field TYPE="uint8" NAME="ac_id"/>
      </message>
      <message NAME="TCAS_RA" ID="121">
        <field TYPE="uint8" NAME="ac_id"/>
        <field VALUES="NONE|LEVEL|CLIMB|DESCEND" TYPE="uint8" NAME="resolve"/>
      </message>
      <message NAME="TCAS_RESOLVED" ID="122">
        <field TYPE="uint8" NAME="ac_id"/>
      </message>
      <message NAME="TCAS_DEBUG" ID="123">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="float" NAME="tau"/>
      </message>
      <message NAME="POTENTIAL" ID="124">
        <field TYPE="float" NAME="east"/>
        <field TYPE="float" NAME="north"/>
        <field TYPE="float" NAME="alt"/>
        <field TYPE="float" NAME="speed"/>
        <field TYPE="float" NAME="climb"/>
      </message>
      <message NAME="VERTICAL_ENERGY" ID="125">
        <field TYPE="float" NAME="Epot_err"/>
        <field TYPE="float" NAME="Ekin_err"/>
        <field TYPE="float" NAME="Etot_err"/>
        <field TYPE="float" NAME="Edis_err"/>
        <field TYPE="float" NAME="throttle"/>
        <field TYPE="float" NAME="nav_pitch"/>
        <field TYPE="float" NAME="speed_sp"/>
      </message>
      <message NAME="TEMP_TCOUPLE" ID="126">
        <field TYPE="float" NAME="fval0"/>
        <field TYPE="float" NAME="fval1"/>
        <field TYPE="float" NAME="fval2"/>
        <field TYPE="float" NAME="fval3"/>
        <field TYPE="float" NAME="fref0"/>
        <field TYPE="float" NAME="fref1"/>
        <field TYPE="float" NAME="fref2"/>
        <field TYPE="float" NAME="fref3"/>
        <field TYPE="uint16" NAME="val0"/>
        <field TYPE="uint16" NAME="val1"/>
        <field TYPE="uint16" NAME="val2"/>
        <field TYPE="uint16" NAME="val3"/>
        <field TYPE="uint16" NAME="ref0"/>
        <field TYPE="uint16" NAME="ref1"/>
        <field TYPE="uint16" NAME="ref2"/>
        <field TYPE="uint16" NAME="ref3"/>
      </message>
      <message NAME="SHT_I2C_STATUS" ID="127">
        <field TYPE="uint16" NAME="ihumid"/>
        <field TYPE="uint16" NAME="itemp"/>
        <field UNIT="rel_hum" TYPE="float" NAME="humid" FORMAT="%.2f"/>
        <field UNIT="deg_celsius" TYPE="float" NAME="temp" FORMAT="%.2f"/>
      </message>
      <message NAME="CAMERA_SNAPSHOT" ID="128">
        <field TYPE="uint16" NAME="snapshot_image_number"/>
      </message>
      <message NAME="TIMESTAMP" ID="129">
        <field TYPE="uint32" NAME="timestamp"/>
      </message>
      <message NAME="STAB_ATTITUDE_FLOAT" ID="130">
        <field TYPE="float" NAME="est_p" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="est_q" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="est_r" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="est_phi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="est_theta" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="est_psi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="ref_phi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="ref_theta" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="ref_psi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="sum_err_phi"/>
        <field TYPE="float" NAME="sum_err_theta"/>
        <field TYPE="float" NAME="sum_err_psi"/>
        <field TYPE="float" NAME="delta_a_fb" ALT_UNIT_COEF="0.0000153" ALT_UNIT="motor"/>
        <field TYPE="float" NAME="delta_e_fb" ALT_UNIT_COEF="0.0000153" ALT_UNIT="motor"/>
        <field TYPE="float" NAME="delta_r_fb" ALT_UNIT_COEF="0.0000153" ALT_UNIT="motor"/>
        <field TYPE="float" NAME="delta_a_ff" ALT_UNIT_COEF="0.0000153" ALT_UNIT="motor"/>
        <field TYPE="float" NAME="delta_e_ff" ALT_UNIT_COEF="0.0000153" ALT_UNIT="motor"/>
        <field TYPE="float" NAME="delta_r_ff" ALT_UNIT_COEF="0.0000153" ALT_UNIT="motor"/>
        <field TYPE="int32" NAME="delta_a"/>
        <field TYPE="int32" NAME="delta_e"/>
        <field TYPE="int32" NAME="delta_r"/>
        <field TYPE="float" NAME="est_p_d" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s^2"/>
        <field TYPE="float" NAME="est_q_d" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s^2"/>
        <field TYPE="float" NAME="est_r_d" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s^2"/>
      </message>
      <message NAME="IMU_GYRO_SCALED" ID="131">
        <field TYPE="int32" NAME="gp" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="gq" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="gr" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
      </message>
      <message NAME="IMU_ACCEL_SCALED" ID="132">
        <field TYPE="int32" NAME="ax" ALT_UNIT_COEF="0.0009766" ALT_UNIT="m/s2"/>
        <field TYPE="int32" NAME="ay" ALT_UNIT_COEF="0.0009766" ALT_UNIT="m/s2"/>
        <field TYPE="int32" NAME="az" ALT_UNIT_COEF="0.0009766" ALT_UNIT="m/s2"/>
      </message>
      <message NAME="IMU_MAG_SCALED" ID="133">
        <field TYPE="int32" NAME="mx" ALT_UNIT_COEF="0.0004883" ALT_UNIT="1"/>
        <field TYPE="int32" NAME="my" ALT_UNIT_COEF="0.0004883" ALT_UNIT="1"/>
        <field TYPE="int32" NAME="mz" ALT_UNIT_COEF="0.0004883" ALT_UNIT="1"/>
      </message>
      <message NAME="FILTER" ID="134">
        <field TYPE="int32" NAME="phi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="theta" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="psi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="measure_phi" ALT_UNIT_COEF="0.0000273" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="measure_theta" ALT_UNIT_COEF="0.0000273" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="measure_psi" ALT_UNIT_COEF="0.0000273" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="corrected_phi" ALT_UNIT_COEF="0.0000273" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="corrected_theta" ALT_UNIT_COEF="0.0000273" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="corrected_psi" ALT_UNIT_COEF="0.0000273" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="correction_phi"/>
        <field TYPE="int32" NAME="correction_theta"/>
        <field TYPE="int32" NAME="correction_psi"/>
        <field TYPE="int32" NAME="bp"/>
        <field TYPE="int32" NAME="bq"/>
        <field TYPE="int32" NAME="br"/>
      </message>
      <message NAME="FILTER2" ID="135">
        <field TYPE="int32" NAME="px"/>
        <field TYPE="int32" NAME="py"/>
        <field TYPE="int32" NAME="pz"/>
        <field TYPE="int32" NAME="gsx"/>
        <field TYPE="int32" NAME="gsy"/>
        <field TYPE="int32" NAME="gsz"/>
      </message>
      <message NAME="RATE_LOOP" ID="136">
        <field TYPE="int32" NAME="sp_p"/>
        <field TYPE="int32" NAME="sp_q"/>
        <field TYPE="int32" NAME="sp_r"/>
        <field TYPE="int32" NAME="ref_p"/>
        <field TYPE="int32" NAME="ref_q"/>
        <field TYPE="int32" NAME="ref_r"/>
        <field TYPE="int32" NAME="refdot_p"/>
        <field TYPE="int32" NAME="refdot_q"/>
        <field TYPE="int32" NAME="refdot_r"/>
        <field TYPE="int32" NAME="sumerr_p"/>
        <field TYPE="int32" NAME="sumerr_q"/>
        <field TYPE="int32" NAME="sumerr_r"/>
        <field TYPE="int32" NAME="ff_p"/>
        <field TYPE="int32" NAME="ff_q"/>
        <field TYPE="int32" NAME="ff_r"/>
        <field TYPE="int32" NAME="fb_p"/>
        <field TYPE="int32" NAME="fb_q"/>
        <field TYPE="int32" NAME="fb_r"/>
        <field TYPE="int32" NAME="delta_t"/>
      </message>
      <message NAME="FILTER_ALIGNER" ID="137">
        <field TYPE="int32" NAME="lp_gp" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="lp_gq" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="lp_gr" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="gp" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="gq" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="gr" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="noise"/>
        <field TYPE="int32" NAME="cnt"/>
        <field VALUES="UNINIT|RUNNING|LOCKED" TYPE="uint8" NAME="status"/>
      </message>
      <message NAME="FILTER_COR" ID="139">
        <field TYPE="int32" NAME="mphi"/>
        <field TYPE="int32" NAME="mtheta"/>
        <field TYPE="int32" NAME="mpsi"/>
        <field TYPE="int32" NAME="qi"/>
        <field TYPE="int32" NAME="qx"/>
        <field TYPE="int32" NAME="qy"/>
        <field TYPE="int32" NAME="qz"/>
      </message>
      <message NAME="STAB_ATTITUDE_INT" ID="140">
        <field TYPE="int32" NAME="est_p" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="est_q" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="est_r" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="est_phi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="est_theta" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="est_psi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="sp_phi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="sp_theta" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="sp_psi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="sum_err_phi"/>
        <field TYPE="int32" NAME="sum_err_theta"/>
        <field TYPE="int32" NAME="sum_err_psi"/>
        <field TYPE="int32" NAME="delta_a_fb" ALT_UNIT_COEF="0.0000153"/>
        <field TYPE="int32" NAME="delta_e_fb" ALT_UNIT_COEF="0.0000153"/>
        <field TYPE="int32" NAME="delta_r_fb" ALT_UNIT_COEF="0.0000153"/>
        <field TYPE="int32" NAME="delta_a_ff" ALT_UNIT_COEF="0.0000153"/>
        <field TYPE="int32" NAME="delta_e_ff" ALT_UNIT_COEF="0.0000153"/>
        <field TYPE="int32" NAME="delta_r_ff" ALT_UNIT_COEF="0.0000153"/>
        <field TYPE="int32" NAME="delta_a"/>
        <field TYPE="int32" NAME="delta_e"/>
        <field TYPE="int32" NAME="delta_r"/>
      </message>
      <message NAME="STAB_ATTITUDE_REF_INT" ID="141">
        <field TYPE="int32" NAME="sp_phi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="sp_theta" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="sp_psi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="ref_phi" ALT_UNIT_COEF="0.0000546" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="ref_theta" ALT_UNIT_COEF="0.0000546" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="ref_psi" ALT_UNIT_COEF="0.0000546" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="ref_p" ALT_UNIT_COEF="0.0008743" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="ref_q" ALT_UNIT_COEF="0.0008743" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="ref_r" ALT_UNIT_COEF="0.0008743" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="ref_pd" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s2"/>
        <field TYPE="int32" NAME="ref_qd" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s2"/>
        <field TYPE="int32" NAME="ref_rd" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s2"/>
      </message>
      <message NAME="STAB_ATTITUDE_REF_FLOAT" ID="142">
        <field TYPE="float" NAME="sp_phi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="sp_theta" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="sp_psi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="ref_phi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="ref_theta" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="ref_psi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="ref_p" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="ref_q" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="ref_r" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="ref_pd" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s2"/>
        <field TYPE="float" NAME="ref_qd" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s2"/>
        <field TYPE="float" NAME="ref_rd" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s2"/>
      </message>
      <message NAME="ROTORCRAFT_CMD" ID="143">
        <field TYPE="int32" NAME="cmd_roll"/>
        <field TYPE="int32" NAME="cmd_pitch"/>
        <field TYPE="int32" NAME="cmd_yaw"/>
        <field TYPE="int32" NAME="cmd_thrust"/>
      </message>
      <message NAME="GUIDANCE_H_INT" ID="144">
        <field TYPE="int32" NAME="sp_x" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="sp_y" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ref_x" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ref_y" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="est_x" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="est_y" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
      </message>
      <message NAME="VERT_LOOP" ID="145">
        <field TYPE="int32" NAME="z_sp" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="zd_sp" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="est_z" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="est_zd" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="est_zdd" ALT_UNIT_COEF="0.0009766" ALT_UNIT="m/s2"/>
        <field TYPE="int32" NAME="ref_z" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ref_zd" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="ref_zdd" ALT_UNIT_COEF="0.0009766" ALT_UNIT="m/s2"/>
        <field TYPE="int32" NAME="adp_inv_m" ALT_UNIT_COEF="0.0000000596" ALT_UNIT="foo"/>
        <field TYPE="int32" NAME="adp_cov" ALT_UNIT_COEF="0.0000000596" ALT_UNIT="foo"/>
        <field TYPE="int32" NAME="adp_meas" ALT_UNIT_COEF="0.0000000596" ALT_UNIT="foo"/>
        <field TYPE="int32" NAME="sum_err"/>
        <field TYPE="int32" NAME="ff_cmd"/>
        <field TYPE="int32" NAME="fb_cmd"/>
        <field TYPE="int32" NAME="delta_t"/>
      </message>
      <message NAME="HOVER_LOOP" ID="146">
        <field TYPE="int32" NAME="sp_x" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="sp_y" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="est_x" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="est_y" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="est_xd" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="est_yd" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="est_xdd" ALT_UNIT_COEF="0.0009765" ALT_UNIT="m/s2"/>
        <field TYPE="int32" NAME="est_ydd" ALT_UNIT_COEF="0.0009765" ALT_UNIT="m/s2"/>
        <field TYPE="int32" NAME="err_x" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="err_y" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="err_xd" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="err_yd" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="err_sum_x"/>
        <field TYPE="int32" NAME="err_sum_y"/>
        <field TYPE="int32" NAME="cmd_x"/>
        <field TYPE="int32" NAME="cmd_y"/>
        <field TYPE="int32" NAME="cmd_heading"/>
      </message>
      <message NAME="ROTORCRAFT_FP" ID="147">
        <field TYPE="int32" NAME="east" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="north" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="up" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="veast" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="vnorth" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="vup" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="phi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="theta" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="psi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="carrot_east" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="carrot_north" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="carrot_up" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="carrot_psi" ALT_UNIT_COEF="0.0000546" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="thrust"/>
        <field UNIT="s" TYPE="uint16" NAME="flight_time"/>
      </message>
      <message NAME="GUIDANCE_H_REF_INT" ID="149">
        <field TYPE="int32" NAME="sp_x" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ref_x" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ref_xd" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="ref_xdd" ALT_UNIT_COEF="0.0009766" ALT_UNIT="m/s2"/>
        <field TYPE="int32" NAME="sp_y" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ref_y" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ref_yd" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="ref_ydd" ALT_UNIT_COEF="0.0009766" ALT_UNIT="m/s2"/>
      </message>
      <message NAME="ROTORCRAFT_TUNE_HOVER" ID="150">
        <field TYPE="int16" NAME="rc_roll"/>
        <field TYPE="int16" NAME="rc_pitch"/>
        <field TYPE="int16" NAME="rc_yaw"/>
        <field TYPE="int32" NAME="cmd_roll"/>
        <field TYPE="int32" NAME="cmd_pitch"/>
        <field TYPE="int32" NAME="cmd_yaw"/>
        <field TYPE="int32" NAME="cmd_thrust"/>
        <field TYPE="int32" NAME="body_phi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="body_theta" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="body_psi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
      </message>
      <message NAME="INS_Z" ID="151">
        <field UNIT="m" TYPE="float" NAME="baro_z"/>
        <field TYPE="int32" NAME="ins_z" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ins_zd" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="ins_zdd" ALT_UNIT_COEF="0.0009766" ALT_UNIT="m/s2"/>
      </message>
      <message NAME="PCAP01_STATUS" ID="152">
        <field TYPE="uint32" NAME="ihumid"/>
        <field TYPE="uint32" NAME="itemp"/>
        <field UNIT="rel_hum" TYPE="float" NAME="humid" FORMAT="%.2f"/>
        <field UNIT="deg_celsius" TYPE="float" NAME="temp" FORMAT="%.2f"/>
      </message>
      <message NAME="GEIGER_COUNTER" ID="153">
        <field UNIT="events" TYPE="uint32" NAME="tube1"/>
        <field UNIT="events" TYPE="uint32" NAME="tube2"/>
        <field UNIT="volts" TYPE="uint16" NAME="vsupply"/>
      </message>
      <message NAME="INS_REF" ID="154">
        <field TYPE="int32" NAME="ecef_x0" ALT_UNIT_COEF="0.01" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ecef_y0" ALT_UNIT_COEF="0.01" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ecef_z0" ALT_UNIT_COEF="0.01" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="lat0" ALT_UNIT_COEF="0.0000057296" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="lon0" ALT_UNIT_COEF="0.0000057296" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="alt0" ALT_UNIT_COEF="0.001" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="hmsl0" ALT_UNIT_COEF="0.001" ALT_UNIT="m"/>
        <field UNIT="pascal" TYPE="float" NAME="baro_qfe"/>
      </message>
      <message NAME="GPS_INT" ID="155">
        <field UNIT="cm" TYPE="int32" NAME="ecef_x" ALT_UNIT="m"/>
        <field UNIT="cm" TYPE="int32" NAME="ecef_y" ALT_UNIT="m"/>
        <field UNIT="cm" TYPE="int32" NAME="ecef_z" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="lat" ALT_UNIT_COEF="0.0000057296" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="lon" ALT_UNIT_COEF="0.0000057296" ALT_UNIT="deg"/>
        <field UNIT="mm" TYPE="int32" NAME="alt" ALT_UNIT="m"/>
        <field UNIT="mm" TYPE="int32" NAME="hmsl" ALT_UNIT="m"/>
        <field UNIT="cm/s" TYPE="int32" NAME="ecef_xd" ALT_UNIT="m/s"/>
        <field UNIT="cm/s" TYPE="int32" NAME="ecef_yd" ALT_UNIT="m/s"/>
        <field UNIT="cm/s" TYPE="int32" NAME="ecef_zd" ALT_UNIT="m/s"/>
        <field UNIT="cm" TYPE="uint32" NAME="pacc" ALT_UNIT="m"/>
        <field UNIT="cm/s" TYPE="uint32" NAME="sacc" ALT_UNIT="m/s"/>
        <field TYPE="uint32" NAME="tow"/>
        <field TYPE="uint16" NAME="pdop"/>
        <field TYPE="uint8" NAME="numsv"/>
        <field VALUES="NONE|UKN1|UKN2|3D" TYPE="uint8" NAME="fix"/>
      </message>
      <message NAME="AHRS_EULER_INT" ID="156">
        <field TYPE="int32" NAME="imu_phi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="imu_theta" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="imu_psi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="body_phi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="body_theta" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="body_psi" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
      </message>
      <message NAME="AHRS_QUAT_INT" ID="157">
        <field TYPE="float" NAME="weight"/>
        <field TYPE="int32" NAME="imu_qi" ALT_UNIT_COEF="0.0000305" ALT_UNIT=""/>
        <field TYPE="int32" NAME="imu_qx" ALT_UNIT_COEF="0.0000305" ALT_UNIT=""/>
        <field TYPE="int32" NAME="imu_qy" ALT_UNIT_COEF="0.0000305" ALT_UNIT=""/>
        <field TYPE="int32" NAME="imu_qz" ALT_UNIT_COEF="0.0000305" ALT_UNIT=""/>
        <field TYPE="int32" NAME="body_qi" ALT_UNIT_COEF="0.0000305" ALT_UNIT=""/>
        <field TYPE="int32" NAME="body_qx" ALT_UNIT_COEF="0.0000305" ALT_UNIT=""/>
        <field TYPE="int32" NAME="body_qy" ALT_UNIT_COEF="0.0000305" ALT_UNIT=""/>
        <field TYPE="int32" NAME="body_qz" ALT_UNIT_COEF="0.0000305" ALT_UNIT=""/>
      </message>
      <message NAME="AHRS_RMAT_INT" ID="158">
        <field TYPE="int32" NAME="imu_m00" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="imu_m01" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="imu_m02" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="imu_m10" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="imu_m11" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="imu_m12" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="imu_m20" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="imu_m21" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="imu_m22" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="body_m00" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="body_m01" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="body_m02" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="body_m10" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="body_m11" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="body_m12" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="body_m20" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="body_m21" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
        <field TYPE="int32" NAME="body_m22" ALT_UNIT_COEF="0.0000610" ALT_UNIT=""/>
      </message>
      <message NAME="ROTORCRAFT_NAV_STATUS" ID="159">
        <field UNIT="s" TYPE="uint16" NAME="block_time"/>
        <field UNIT="s" TYPE="uint16" NAME="stage_time"/>
        <field TYPE="uint8" NAME="cur_block"/>
        <field TYPE="uint8" NAME="cur_stage"/>
        <field TYPE="uint8" NAME="horizontal_mode"/>
      </message>
      <message NAME="ROTORCRAFT_RADIO_CONTROL" ID="160">
        <field UNIT="pprz" TYPE="int16" NAME="roll"/>
        <field UNIT="pprz" TYPE="int16" NAME="pitch"/>
        <field UNIT="pprz" TYPE="int16" NAME="yaw"/>
        <field UNIT="pprz" TYPE="int16" NAME="throttle"/>
        <field UNIT="pprz" TYPE="int16" NAME="mode"/>
        <field UNIT="pprz" TYPE="int16" NAME="kill"/>
        <field VALUES="OK|LOST|REALLY_LOST" TYPE="uint8" NAME="status"/>
      </message>
      <message NAME="VFF_EXTENDED" ID="161">
        <field TYPE="float" NAME="measure1"/>
        <field TYPE="float" NAME="measure2"/>
        <field TYPE="float" NAME="z"/>
        <field TYPE="float" NAME="zd"/>
        <field TYPE="float" NAME="zdd"/>
        <field TYPE="float" NAME="bias"/>
        <field TYPE="float" NAME="offset"/>
      </message>
      <message NAME="VFF" ID="162">
        <field TYPE="float" NAME="measure"/>
        <field TYPE="float" NAME="z"/>
        <field TYPE="float" NAME="zd"/>
        <field TYPE="float" NAME="bias"/>
        <field TYPE="float" NAME="Pzz"/>
        <field TYPE="float" NAME="Pzdzd"/>
        <field TYPE="float" NAME="Pbb"/>
      </message>
      <message NAME="GEO_MAG" ID="163">
        <field TYPE="float" NAME="Hx"/>
        <field TYPE="float" NAME="Hy"/>
        <field TYPE="float" NAME="Hz"/>
      </message>
      <message NAME="HFF" ID="164">
        <field TYPE="float" NAME="x"/>
        <field TYPE="float" NAME="y"/>
        <field TYPE="float" NAME="xd"/>
        <field TYPE="float" NAME="yd"/>
        <field TYPE="float" NAME="xdd"/>
        <field TYPE="float" NAME="ydd"/>
      </message>
      <message NAME="HFF_DBG" ID="165">
        <field TYPE="float" NAME="x_measure"/>
        <field TYPE="float" NAME="y_measure"/>
        <field TYPE="float" NAME="xd_measure"/>
        <field TYPE="float" NAME="yd_measure"/>
        <field TYPE="float" NAME="Pxx"/>
        <field TYPE="float" NAME="Pyy"/>
        <field TYPE="float" NAME="Pxdxd"/>
        <field TYPE="float" NAME="Pydyd"/>
      </message>
      <message NAME="HFF_GPS" ID="166">
        <field TYPE="uint16" NAME="lag_cnt"/>
        <field TYPE="int16" NAME="lag_cnt_err"/>
        <field TYPE="int16" NAME="save_cnt"/>
      </message>
      <message NAME="INS_SONAR" ID="167">
        <field UNIT="m" TYPE="float" NAME="distance"/>
        <field TYPE="float" NAME="var"/>
      </message>
      <message NAME="ROTORCRAFT_CAM" ID="168">
        <field UNIT="2^12rad" TYPE="int16" NAME="tilt" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
        <field UNIT="2^12rad" TYPE="int16" NAME="pan" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg"/>
      </message>
      <message NAME="AHRS_REF_QUAT" ID="169">
        <field TYPE="int32" NAME="ref_qi"/>
        <field TYPE="int32" NAME="ref_qx"/>
        <field TYPE="int32" NAME="ref_qy"/>
        <field TYPE="int32" NAME="ref_qz"/>
        <field TYPE="int32" NAME="body_qi"/>
        <field TYPE="int32" NAME="body_qx"/>
        <field TYPE="int32" NAME="body_qy"/>
        <field TYPE="int32" NAME="body_qz"/>
      </message>
      <message NAME="EKF7_XHAT" ID="170">
        <field TYPE="float" NAME="c"/>
        <field TYPE="float" NAME="s1"/>
        <field TYPE="float" NAME="s2"/>
        <field TYPE="float" NAME="s3"/>
        <field TYPE="float" NAME="p" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="q" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="r" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="bp"/>
        <field TYPE="float" NAME="bq"/>
        <field TYPE="float" NAME="br"/>
      </message>
      <message NAME="EKF7_Y" ID="171">
        <field TYPE="uint16" NAME="timecount"/>
        <field TYPE="float" NAME="g1"/>
        <field TYPE="float" NAME="g2"/>
        <field TYPE="float" NAME="g3"/>
        <field TYPE="float" NAME="m1"/>
        <field TYPE="float" NAME="m2"/>
        <field TYPE="float" NAME="m3"/>
        <field TYPE="float" NAME="p" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="q" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="r" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
      </message>
      <message NAME="EKF7_P_DIAG" ID="172">
        <field TYPE="float" NAME="c"/>
        <field TYPE="float" NAME="s1"/>
        <field TYPE="float" NAME="s2"/>
        <field TYPE="float" NAME="s3"/>
        <field TYPE="float" NAME="p" ALT_UNIT_COEF="3283" ALT_UNIT="deg^2/s^2"/>
        <field TYPE="float" NAME="q" ALT_UNIT_COEF="3283" ALT_UNIT="deg^2/s^2"/>
        <field TYPE="float" NAME="r" ALT_UNIT_COEF="3283" ALT_UNIT="deg^2/s^2"/>
        <field TYPE="float" NAME="bp" ALT_UNIT_COEF="3283" ALT_UNIT="deg^2/s^2"/>
        <field TYPE="float" NAME="bq" ALT_UNIT_COEF="3283" ALT_UNIT="deg^2/s^2"/>
        <field TYPE="float" NAME="br" ALT_UNIT_COEF="3283" ALT_UNIT="deg^2/s^2"/>
      </message>
      <message NAME="AHRS_EULER" ID="173">
        <field UNIT="rad" TYPE="float" NAME="phi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="theta" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="psi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
      </message>
      <message NAME="AHRS_MEASUREMENT_EULER" ID="174">
        <field UNIT="rad" TYPE="float" NAME="phi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="theta" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="psi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
      </message>
      <message NAME="WT" ID="175">
        <field TYPE="float" NAME="rpm"/>
      </message>
      <message NAME="CSC_CAN_DEBUG" ID="176">
        <field TYPE="uint32" NAME="err_nb"/>
        <field TYPE="uint32" NAME="err_code"/>
      </message>
      <message NAME="CSC_CAN_MSG" ID="177">
        <field TYPE="uint32" NAME="frame"/>
        <field TYPE="uint32" NAME="id"/>
        <field TYPE="uint32" NAME="data_a"/>
        <field TYPE="uint32" NAME="data_b"/>
      </message>
      <message NAME="AHRS_GYRO_BIAS_INT" ID="178">
        <field TYPE="int32" NAME="bp" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="bq" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
        <field TYPE="int32" NAME="br" ALT_UNIT_COEF="0.0139882" ALT_UNIT="deg/s"/>
      </message>
      <message NAME="FLOW_AP_OTF" ID="179">
        <field TYPE="uint32" NAME="counter"/>
        <field UNIT="cm/s" TYPE="int16" NAME="velocity" ALT_UNIT="m/s"/>
        <field UNIT="centideg" TYPE="int16" NAME="a_attack" ALT_UNIT="deg"/>
        <field UNIT="centideg" TYPE="int16" NAME="a_sidesl" ALT_UNIT="deg"/>
        <field UNIT="cm" TYPE="int32" NAME="altitude" ALT_UNIT="m"/>
        <field TYPE="uint8" NAME="checksum"/>
      </message>
      <message NAME="FMS_TIME" ID="180">
        <field TYPE="uint32" NAME="tv_sec"/>
        <field TYPE="uint32" NAME="tv_nsec"/>
        <field TYPE="uint32" NAME="delay_ns"/>
      </message>
      <message NAME="LOADCELL" ID="181">
        <field TYPE="int32" NAME="load"/>
      </message>
      <message NAME="FLA_DEBUG" ID="182">
        <field TYPE="float" NAME="past_input"/>
        <field TYPE="float" NAME="imu_rate"/>
        <field TYPE="float" NAME="desired_accel"/>
        <field TYPE="float" NAME="motor_command"/>
      </message>
      <message NAME="BLMC_FAULT_STATUS" ID="183">
        <field TYPE="uint16[]" NAME="raw_fault"/>
      </message>
      <message NAME="BLMC_SPEEDS" ID="184">
        <field TYPE="int16[]" NAME="speeds"/>
      </message>
      <message NAME="AHRS_DEBUG_QUAT" ID="185">
        <field TYPE="float" NAME="jqi"/>
        <field TYPE="float" NAME="jqx"/>
        <field TYPE="float" NAME="jqy"/>
        <field TYPE="float" NAME="jqz"/>
        <field TYPE="float" NAME="xqi"/>
        <field TYPE="float" NAME="xqx"/>
        <field TYPE="float" NAME="xqy"/>
        <field TYPE="float" NAME="xqz"/>
        <field TYPE="float" NAME="mqi"/>
        <field TYPE="float" NAME="mqx"/>
        <field TYPE="float" NAME="mqy"/>
        <field TYPE="float" NAME="mqz"/>
      </message>
      <message NAME="BLMC_BUSVOLTS" ID="186">
        <field TYPE="uint16[]" NAME="busvolts"/>
      </message>
      <message NAME="SYSTEM_STATUS" ID="187">
        <field TYPE="uint32" NAME="csc1_loop_count"/>
        <field TYPE="uint32" NAME="csc1_msg_count"/>
        <field TYPE="uint32" NAME="csc2_loop_count"/>
        <field TYPE="uint32" NAME="csc2_msg_count"/>
        <field TYPE="uint32" NAME="can_rx_err"/>
        <field TYPE="uint32" NAME="can_tx_err"/>
        <field TYPE="uint32" NAME="rc_parser_err"/>
        <field TYPE="uint8" NAME="system_fault"/>
      </message>
      <message NAME="DYNAMIXEL" ID="188">
        <field TYPE="uint16" NAME="left_wing"/>
        <field TYPE="uint16" NAME="right_wing"/>
        <field TYPE="uint8" NAME="left_wing_flag"/>
        <field TYPE="uint8" NAME="right_wing_flag"/>
        <field TYPE="uint32" NAME="invalid_position"/>
        <field TYPE="uint32" NAME="timeout_events"/>
        <field TYPE="uint32" NAME="checksum_errors"/>
        <field TYPE="float" NAME="fuse_rotation_angle"/>
        <field TYPE="float" NAME="fuse_rotation_rate"/>
      </message>
      <message NAME="RMAT_DEBUG" ID="189">
        <field TYPE="float" NAME="a"/>
        <field TYPE="float" NAME="b"/>
        <field TYPE="float" NAME="c"/>
        <field TYPE="float" NAME="d"/>
        <field TYPE="float" NAME="e"/>
        <field TYPE="float" NAME="f"/>
        <field TYPE="float" NAME="g"/>
        <field TYPE="float" NAME="h"/>
        <field TYPE="float" NAME="i"/>
      </message>
      <message NAME="SIMPLE_COMMANDS" ID="190">
        <field TYPE="int16" NAME="roll"/>
        <field TYPE="int16" NAME="pitch"/>
        <field TYPE="int16" NAME="yaw"/>
      </message>
      <message NAME="VANE_SENSOR" ID="191">
        <field UNIT="rad" TYPE="float" NAME="alpha" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="alpha_filtered" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="alpha_target" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="alpha_vane_error" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="alpha2" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="beta" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="beta_filtered" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="beta_target" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="beta_vane_error" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="beta2" ALT_UNIT_COEF="57.3" ALT_UNIT="deg"/>
      </message>
      <message NAME="CONTROLLER_GAINS" ID="192">
        <field TYPE="float" NAME="roll_gamma_p"/>
        <field TYPE="float" NAME="roll_gamma_d"/>
        <field TYPE="float" NAME="roll_gamma_i"/>
        <field TYPE="float" NAME="pitch_gamma_p"/>
        <field TYPE="float" NAME="pitch_gamma_d"/>
        <field TYPE="float" NAME="pitch_gamma_i"/>
        <field TYPE="float" NAME="yaw_gamma_p"/>
        <field TYPE="float" NAME="yaw_gamma_d"/>
        <field TYPE="float" NAME="yaw_gamma_i"/>
      </message>
      <message NAME="AHRS_LKF" ID="193">
        <field UNIT="rad" TYPE="float" NAME="phi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="theta" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="psi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="qi"/>
        <field TYPE="float" NAME="qx"/>
        <field TYPE="float" NAME="qy"/>
        <field TYPE="float" NAME="qz"/>
        <field UNIT="rad/s" TYPE="float" NAME="p" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field UNIT="rad/s" TYPE="float" NAME="q" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field UNIT="rad/s" TYPE="float" NAME="r" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="ax"/>
        <field TYPE="float" NAME="ay"/>
        <field TYPE="float" NAME="az"/>
        <field TYPE="float" NAME="mx"/>
        <field TYPE="float" NAME="my"/>
        <field TYPE="float" NAME="mz"/>
      </message>
      <message NAME="AHRS_LKF_DEBUG" ID="194">
        <field UNIT="rad" TYPE="float" NAME="phi_err" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="theta_err" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="psi_err" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad/s" TYPE="float" NAME="bp" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field UNIT="rad/s" TYPE="float" NAME="bq" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field UNIT="rad/s" TYPE="float" NAME="br" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="float" NAME="quat_norm"/>
        <field UNIT="rad" TYPE="float" NAME="phi_accel" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="theta_accel" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="float" NAME="phi_cov"/>
        <field TYPE="float" NAME="theta_cov"/>
        <field TYPE="float" NAME="psi_cov"/>
        <field TYPE="float" NAME="bp_cov"/>
        <field TYPE="float" NAME="bq_cov"/>
        <field TYPE="float" NAME="br_cov"/>
      </message>
      <message NAME="AHRS_LKF_ACC_DBG" ID="195">
        <field TYPE="float" NAME="qi_err"/>
        <field TYPE="float" NAME="qx_err"/>
        <field TYPE="float" NAME="qy_err"/>
        <field TYPE="float" NAME="qz_err"/>
        <field UNIT="rad/s" TYPE="float" NAME="bp_err" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field UNIT="rad/s" TYPE="float" NAME="bq_err" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field UNIT="rad/s" TYPE="float" NAME="br_err" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
      </message>
      <message NAME="AHRS_LKF_MAG_DBG" ID="196">
        <field TYPE="float" NAME="qi_err"/>
        <field TYPE="float" NAME="qx_err"/>
        <field TYPE="float" NAME="qy_err"/>
        <field TYPE="float" NAME="qz_err"/>
        <field UNIT="rad/s" TYPE="float" NAME="bp_err" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field UNIT="rad/s" TYPE="float" NAME="bq_err" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field UNIT="rad/s" TYPE="float" NAME="br_err" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
      </message>
      <message NAME="NPS_SENSORS_SCALED" ID="197">
        <field TYPE="float" NAME="acc_x"/>
        <field TYPE="float" NAME="acc_y"/>
        <field TYPE="float" NAME="acc_z"/>
        <field TYPE="float" NAME="mag_x"/>
        <field TYPE="float" NAME="mag_y"/>
        <field TYPE="float" NAME="mag_z"/>
      </message>
      <message NAME="INS" ID="198">
        <field TYPE="int32" NAME="ins_x" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ins_y" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ins_z" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ins_xd" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="ins_yd" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="ins_zd" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
        <field TYPE="int32" NAME="ins_xdd" ALT_UNIT_COEF="0.0009766" ALT_UNIT="m/s2"/>
        <field TYPE="int32" NAME="ins_ydd" ALT_UNIT_COEF="0.0009766" ALT_UNIT="m/s2"/>
        <field TYPE="int32" NAME="ins_zdd" ALT_UNIT_COEF="0.0009766" ALT_UNIT="m/s2"/>
      </message>
      <message NAME="GPS_ERROR" ID="199">
        <field UNIT="m" TYPE="float" NAME="x_position"/>
        <field UNIT="m" TYPE="float" NAME="y_position"/>
        <field UNIT="m" TYPE="float" NAME="z_position"/>
        <field UNIT="m" TYPE="float" NAME="x_velocity"/>
        <field UNIT="m" TYPE="float" NAME="y_velocity"/>
        <field UNIT="m" TYPE="float" NAME="z_velocity"/>
      </message>
      <message NAME="IMU_GYRO" ID="200">
        <field UNIT="rad/s" TYPE="float" NAME="gp" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field UNIT="rad/s" TYPE="float" NAME="gq" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field UNIT="rad/s" TYPE="float" NAME="gr" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
      </message>
      <message NAME="IMU_MAG" ID="201">
        <field TYPE="float" NAME="mx"/>
        <field TYPE="float" NAME="my"/>
        <field TYPE="float" NAME="mz"/>
      </message>
      <message NAME="IMU_ACCEL" ID="202">
        <field UNIT="m/s-2" TYPE="float" NAME="ax"/>
        <field UNIT="m/s-2" TYPE="float" NAME="ay"/>
        <field UNIT="m/s-2" TYPE="float" NAME="az"/>
      </message>
      <message NAME="IMU_GYRO_RAW" ID="203">
        <field UNIT="adc" TYPE="int32" NAME="gp"/>
        <field UNIT="adc" TYPE="int32" NAME="gq"/>
        <field UNIT="adc" TYPE="int32" NAME="gr"/>
      </message>
      <message NAME="IMU_ACCEL_RAW" ID="204">
        <field UNIT="adc" TYPE="int32" NAME="ax"/>
        <field UNIT="adc" TYPE="int32" NAME="ay"/>
        <field UNIT="adc" TYPE="int32" NAME="az"/>
      </message>
      <message NAME="IMU_MAG_RAW" ID="205">
        <field UNIT="adc" TYPE="int32" NAME="mx"/>
        <field UNIT="adc" TYPE="int32" NAME="my"/>
        <field UNIT="adc" TYPE="int32" NAME="mz"/>
      </message>
      <message NAME="IMU_MAG_SETTINGS" ID="206">
        <field TYPE="float" NAME="inclination"/>
        <field TYPE="float" NAME="declination"/>
        <field TYPE="float" NAME="hardiron_x"/>
        <field TYPE="float" NAME="hardiron_y"/>
        <field TYPE="float" NAME="hardiron_z"/>
      </message>
      <message NAME="IMU_MAG_CURRENT_CALIBRATION" ID="207">
        <field UNIT="adc" TYPE="int32" NAME="mx"/>
        <field UNIT="adc" TYPE="int32" NAME="my"/>
        <field UNIT="adc" TYPE="int32" NAME="mz"/>
        <field UNIT="mA" TYPE="int32" NAME="electrical_current"/>
      </message>
      <message NAME="UART_ERRORS" ID="208">
        <field TYPE="uint16" NAME="overrun_cnt"/>
        <field TYPE="uint16" NAME="noise_err_cnt"/>
        <field TYPE="uint16" NAME="framing_err_cnt"/>
        <field TYPE="uint8" NAME="bus_number"/>
      </message>
      <message NAME="IMU_GYRO_LP" ID="209">
        <field UNIT="rad/s" TYPE="float" NAME="gp"/>
        <field UNIT="rad/s" TYPE="float" NAME="gq"/>
        <field UNIT="rad/s" TYPE="float" NAME="gr"/>
      </message>
      <message NAME="IMU_PRESSURE" ID="210">
        <field UNIT="pascal" TYPE="float" NAME="p"/>
      </message>
      <message NAME="IMU_HS_GYRO" ID="211">
        <field TYPE="uint8" NAME="axis"/>
        <field TYPE="uint32[]" NAME="samples"/>
      </message>
      <message NAME="TEST_PASSTHROUGH_STATUS" ID="212">
        <field TYPE="uint32" NAME="io_proc_msg_cnt"/>
        <field TYPE="uint32" NAME="io_proc_err_cnt"/>
        <field TYPE="uint32" NAME="io_link_msg_cnt"/>
        <field TYPE="uint32" NAME="io_link_err_cnt"/>
        <field VALUES="OK|LOST|REALLY_LOST" TYPE="uint8" NAME="rc_status"/>
      </message>
      <message NAME="TUNE_VERT" ID="213">
        <field TYPE="int32" NAME="z_sp" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="est_z" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ref_z" ALT_UNIT_COEF="0.0039063" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="ref_zd" ALT_UNIT_COEF="0.0000019" ALT_UNIT="m/s"/>
      </message>
      <message NAME="MF_DAQ_STATE" ID="214">
        <field UNIT="s" TYPE="uint16" NAME="flight_time"/>
        <field TYPE="float" NAME="p"/>
        <field TYPE="float" NAME="q"/>
        <field TYPE="float" NAME="r"/>
        <field TYPE="float" NAME="phi"/>
        <field TYPE="float" NAME="theta"/>
        <field TYPE="float" NAME="psi"/>
        <field TYPE="float" NAME="ax"/>
        <field TYPE="float" NAME="ay"/>
        <field TYPE="float" NAME="az"/>
        <field TYPE="float" NAME="ve"/>
        <field TYPE="float" NAME="vn"/>
        <field TYPE="float" NAME="vu"/>
        <field TYPE="float" NAME="lat"/>
        <field TYPE="float" NAME="lon"/>
        <field TYPE="float" NAME="alt"/>
        <field TYPE="float" NAME="we"/>
        <field TYPE="float" NAME="wn"/>
      </message>
      <message NAME="WEATHER" ID="219">
        <field UNIT="Pa" TYPE="float" NAME="p_amb" ALT_UNIT_COEF="0.01" ALT_UNIT="mBar"/>
        <field UNIT="deg C" TYPE="float" NAME="t_amb"/>
        <field UNIT="m/s" TYPE="float" NAME="windspeed"/>
        <field UNIT="deg" TYPE="float" NAME="wind_from"/>
        <field UNIT="%" TYPE="float" NAME="humidity"/>
      </message>
      <message NAME="IMU_TURNTABLE" ID="220">
        <field UNIT="rad/s" TYPE="float" NAME="omega" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
      </message>
      <message NAME="BARO_RAW" ID="221">
        <field TYPE="float" NAME="abs"/>
        <field TYPE="float" NAME="diff"/>
      </message>
      <message NAME="PERIODIC_TELEMETRY_ERR" ID="226">
        <field TYPE="uint8" NAME="process"/>
        <field TYPE="uint8" NAME="mode"/>
        <field TYPE="uint8" NAME="id"/>
      </message>
      <message NAME="TIME" ID="227">
        <field TYPE="uint32" NAME="t"/>
      </message>
      <message NAME="AHRS_ARDRONE2" ID="230">
        <field TYPE="uint32" NAME="state"/>
        <field VALUES="DEFAULT|INIT|LANDING|FLYING|HOVERING|TEST|TRANS_TAKEOFF|TRANS_GOTOFIX|TRANS_LANDING|TRANS_LOOPING" TYPE="uint32" NAME="control_state"/>
        <field UNIT="mdeg" TYPE="float" NAME="phi"/>
        <field UNIT="mdeg" TYPE="float" NAME="theta"/>
        <field UNIT="mdeg" TYPE="float" NAME="psi"/>
        <field UNIT="m/s" TYPE="float" NAME="speed_x"/>
        <field UNIT="m/s" TYPE="float" NAME="speed_y"/>
        <field UNIT="m/s" TYPE="float" NAME="speed_z"/>
        <field UNIT="m/s^2" TYPE="float" NAME="accel_x"/>
        <field UNIT="m/s^2" TYPE="float" NAME="accel_y"/>
        <field UNIT="m/s^2" TYPE="float" NAME="accel_z"/>
        <field UNIT="cm" TYPE="int32" NAME="altitude"/>
        <field UNIT="%" TYPE="uint32" NAME="battery"/>
      </message>
      <message NAME="ROTORCRAFT_STATUS" ID="231">
        <field TYPE="uint32" NAME="link_imu_nb_err"/>
        <field TYPE="uint8" NAME="motor_nb_err"/>
        <field VALUES="OK|LOST|REALLY_LOST" TYPE="uint8" NAME="rc_status"/>
        <field UNIT="Hz" TYPE="uint8" NAME="frame_rate"/>
        <field VALUES="NO_FIX|NA|NA|3Dfix" TYPE="uint8" NAME="gps_status"/>
        <field VALUES="KILL|FAILSAFE|HOME|RATE_DIRECT|ATTITUDE_DIRECT|RATE_RC_CLIMB|ATTITUDE_RC_CLIMB|ATTITUDE_CLIMB|RATE_Z_HOLD|ATTITUDE_Z_HOLD|HOVER_DIRECT|HOVER_CLIMB|HOVER_Z_HOLD|NAV|RC_DIRECT|CARE_FREE|FORWARD" TYPE="uint8" NAME="ap_mode"/>
        <field VALUES="ON_GROUND|IN_FLIGHT" TYPE="uint8" NAME="ap_in_flight"/>
        <field VALUES="MOTORS_OFF|MOTORS_ON" TYPE="uint8" NAME="ap_motors_on"/>
        <field VALUES="KILL|RATE|ATTITUDE|HOVER|NAV|CF" TYPE="uint8" NAME="ap_h_mode"/>
        <field VALUES="KILL|RC_DIRECT|RC_CLIMB|CLIMB|HOVER|NAV" TYPE="uint8" NAME="ap_v_mode"/>
        <field UNIT="decivolt" TYPE="uint16" NAME="vsupply"/>
        <field UNIT="s" TYPE="uint16" NAME="cpu_time"/>
      </message>
      <message NAME="STATE_FILTER_STATUS" ID="232">
        <field VALUES="UNKNOWN|INIT|ALIGN|OK|GPS_LOST|IMU_LOST|COV_ERR|IR_CONTRAST|ERROR" TYPE="uint8" NAME="state_filter_mode"/>
        <field TYPE="uint16" NAME="value"/>
      </message>
      <message NAME="PX4FLOW" ID="233">
        <field TYPE="uint8" NAME="sensor_id"/>
        <field TYPE="int16" NAME="flow_x"/>
        <field TYPE="int16" NAME="flow_y"/>
        <field UNIT="m" TYPE="float" NAME="flow_comp_m_x"/>
        <field UNIT="m" TYPE="float" NAME="flow_comp_m_y"/>
        <field TYPE="uint8" NAME="quality"/>
        <field UNIT="m" TYPE="float" NAME="ground_distance"/>
      </message>
      <message NAME="OPTICFLOW" ID="234">
        <field TYPE="uint16" NAME="flow"/>
        <field TYPE="float" NAME="ref_alt"/>
      </message>
      <message NAME="VISUALTARGET" ID="235">
        <field TYPE="uint16" NAME="x"/>
        <field TYPE="uint16" NAME="y"/>
      </message>
      <message NAME="SONAR" ID="236">
        <field TYPE="uint16" NAME="sonar_meas"/>
        <field UNIT="m" TYPE="float" NAME="sonar_distance"/>
      </message>
      <message NAME="PAYLOAD_FLOAT" ID="237">
        <field TYPE="float[]" NAME="values"/>
      </message>
      <message NAME="NPS_POS_LLH" ID="238">
        <field UNIT="rad" TYPE="float" NAME="pprz_lat" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="lat_geod" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="lat_geoc" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="pprz_lon" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="lon" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="m" TYPE="float" NAME="pprz_alt"/>
        <field UNIT="m" TYPE="float" NAME="alt_geod"/>
        <field UNIT="m" TYPE="float" NAME="agl"/>
        <field UNIT="m" TYPE="float" NAME="asl"/>
      </message>
      <message NAME="NPS_RPMS" ID="239">
        <field UNIT="RPM" TYPE="float" NAME="front"/>
        <field UNIT="RPM" TYPE="float" NAME="back"/>
        <field UNIT="RPM" TYPE="float" NAME="right"/>
        <field UNIT="RPM" TYPE="float" NAME="left"/>
      </message>
      <message NAME="NPS_SPEED_POS" ID="240">
        <field UNIT="m/s2" TYPE="float" NAME="ltpp_xdd"/>
        <field UNIT="m/s2" TYPE="float" NAME="ltpp_ydd"/>
        <field UNIT="m/s2" TYPE="float" NAME="ltpp_zdd"/>
        <field UNIT="m/s" TYPE="float" NAME="ltpp_xd"/>
        <field UNIT="m/s" TYPE="float" NAME="ltpp_yd"/>
        <field UNIT="m/s" TYPE="float" NAME="ltpp_zd"/>
        <field UNIT="m" TYPE="float" NAME="ltpp_x"/>
        <field UNIT="m" TYPE="float" NAME="ltpp_y"/>
        <field UNIT="m" TYPE="float" NAME="ltpp_z"/>
      </message>
      <message NAME="NPS_RATE_ATTITUDE" ID="241">
        <field UNIT="deg/s" TYPE="float" NAME="p"/>
        <field UNIT="deg/s" TYPE="float" NAME="q"/>
        <field UNIT="deg/s" TYPE="float" NAME="r"/>
        <field UNIT="deg" TYPE="float" NAME="phi"/>
        <field UNIT="deg" TYPE="float" NAME="theta"/>
        <field UNIT="deg" TYPE="float" NAME="psi"/>
      </message>
      <message NAME="NPS_GYRO_BIAS" ID="242">
        <field UNIT="deg/s" TYPE="float" NAME="bp"/>
        <field UNIT="deg/s" TYPE="float" NAME="bq"/>
        <field UNIT="deg/s" TYPE="float" NAME="br"/>
      </message>
      <message NAME="NPS_RANGE_METER" ID="243">
        <field UNIT="adc" TYPE="float" NAME="dist"/>
      </message>
      <message NAME="NPS_WIND" ID="244">
        <field UNIT="m/s" TYPE="float" NAME="vx"/>
        <field UNIT="m/s" TYPE="float" NAME="vy"/>
        <field UNIT="m/s" TYPE="float" NAME="vz"/>
      </message>
      <message NAME="PPRZ_DEBUG" ID="247">
        <field TYPE="uint8" NAME="module"/>
        <field TYPE="uint8" NAME="errno"/>
      </message>
      <message NAME="NPS_ACCEL_LTP" ID="248">
        <field UNIT="m/s2" TYPE="float" NAME="xdd"/>
        <field UNIT="m/s2" TYPE="float" NAME="ydd"/>
        <field UNIT="m/s2" TYPE="float" NAME="zdd"/>
      </message>
      <message NAME="LOOSE_INS_GPS" ID="249">
        <field VALUES="UNINITIALIZED|STARTUP_TRANSIENTS|LOWPASSING|GPS_LOST|NOMINAL" TYPE="uint8" NAME="status"/>
        <field TYPE="double" NAME="time_running" ALT_UNIT_COEF="0.016666666666667" ALT_UNIT="minutes"/>
        <field TYPE="double" NAME="q0"/>
        <field TYPE="double" NAME="q1"/>
        <field TYPE="double" NAME="q2"/>
        <field TYPE="double" NAME="q3"/>
        <field TYPE="double" NAME="phi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="double" NAME="theta" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="double" NAME="psi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="m" TYPE="double" NAME="north"/>
        <field UNIT="m" TYPE="double" NAME="east"/>
        <field UNIT="m" TYPE="double" NAME="down"/>
        <field UNIT="m/s" TYPE="double" NAME="v_north"/>
        <field UNIT="m/s" TYPE="double" NAME="v_east"/>
        <field UNIT="m/s" TYPE="double" NAME="v_down"/>
        <field TYPE="double" NAME="est_p" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="double" NAME="est_q" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="double" NAME="est_r" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="double" NAME="gyroBias_x" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="double" NAME="gyroBias_y" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="double" NAME="gyroBias_z" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg/s"/>
        <field TYPE="uint32" NAME="imuCallbacks"/>
        <field TYPE="uint32" NAME="gpsCallbacks"/>
        <field TYPE="uint32" NAME="baroCallbacks"/>
      </message>
      <message NAME="AFL_COEFFS" ID="250">
        <field TYPE="float" NAME="roll_a"/>
        <field TYPE="float" NAME="roll_b"/>
        <field TYPE="float" NAME="roll_c"/>
        <field TYPE="float" NAME="pitch_a"/>
        <field TYPE="float" NAME="pitch_b"/>
        <field TYPE="float" NAME="pitch_c"/>
        <field TYPE="float" NAME="yaw_a"/>
        <field TYPE="float" NAME="yaw_b"/>
        <field TYPE="float" NAME="yaw_c"/>
      </message>
      <message NAME="I2C_ERRORS" ID="253">
        <field TYPE="uint16" NAME="queue_full_cnt"/>
        <field TYPE="uint16" NAME="acknowledge_failure_cnt"/>
        <field TYPE="uint16" NAME="misplaced_start_or_stop_cnt"/>
        <field TYPE="uint16" NAME="arbitration_lost_cnt"/>
        <field TYPE="uint16" NAME="overrun_or_underrun_cnt"/>
        <field TYPE="uint16" NAME="pec_error_in_reception_cnt"/>
        <field TYPE="uint16" NAME="timeout_or_tlow_error_cnt"/>
        <field TYPE="uint16" NAME="smbus_alert_cnt"/>
        <field TYPE="uint16" NAME="unexpected_event_cnt"/>
        <field TYPE="uint32" NAME="last_unexpected_event"/>
        <field TYPE="uint8" NAME="bus_number"/>
      </message>
      <message NAME="RDYB_TRAJECTORY" ID="254">
        <field UNIT="rad" TYPE="float" NAME="commanded_phi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="commanded_theta" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="float" NAME="commanded_psi" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="m N" TYPE="float" NAME="setpoint_x"/>
        <field UNIT="m E" TYPE="float" NAME="setpoint_y"/>
        <field UNIT="m D" TYPE="float" NAME="setpoint_z"/>
      </message>
      <message NAME="HENRY_GNSS" ID="255">
        <field TYPE="uint32" NAME="last_imu_update"/>
        <field TYPE="double" NAME="GPS_time"/>
        <field TYPE="uint8" NAME="GPS_solution_valid"/>
        <field UNIT="rad" TYPE="double" NAME="latitude" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field UNIT="rad" TYPE="double" NAME="longitude" ALT_UNIT_COEF="57.29578" ALT_UNIT="deg"/>
        <field TYPE="double" NAME="altitude"/>
        <field TYPE="double" NAME="North"/>
        <field TYPE="double" NAME="East"/>
        <field TYPE="double" NAME="Down"/>
        <field TYPE="uint8" NAME="SVs_Tracked"/>
        <field TYPE="uint8" NAME="SVs_PVT"/>
        <field TYPE="double" NAME="V_North"/>
        <field TYPE="double" NAME="V_East"/>
        <field TYPE="double" NAME="V_Down"/>
      </message>
    </class>
    <class NAME="datalink">
      <message NAME="ACINFO" LINK="broadcasted" ID="1">
        <field UNIT="decideg" TYPE="int16" NAME="course"/>
        <field UNIT="cm" TYPE="int32" NAME="utm_east"/>
        <field UNIT="cm" TYPE="int32" NAME="utm_north"/>
        <field UNIT="cm" TYPE="int32" NAME="alt"/>
        <field UNIT="ms" TYPE="uint32" NAME="itow"/>
        <field UNIT="cm/s" TYPE="uint16" NAME="speed"/>
        <field UNIT="cm/s" TYPE="int16" NAME="climb"/>
        <field TYPE="uint8" NAME="ac_id"/>
      </message>
      <message NAME="MOVE_WP" LINK="forwarded" ID="2">
        <field TYPE="uint8" NAME="wp_id"/>
        <field TYPE="uint8" NAME="ac_id"/>
        <field UNIT="e-7deg" TYPE="int32" NAME="lat"/>
        <field UNIT="e-7deg" TYPE="int32" NAME="lon"/>
        <field UNIT="cm" TYPE="int32" NAME="alt"/>
      </message>
      <message NAME="WIND_INFO" LINK="forwarded" ID="3">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8" NAME="pad0"/>
        <field UNIT="m/s" TYPE="float" NAME="east"/>
        <field UNIT="m/s" TYPE="float" NAME="north"/>
        <field UNIT="m/s" TYPE="float" NAME="airspeed"/>
      </message>
      <message NAME="SETTING" LINK="forwarded" ID="4">
        <field TYPE="uint8" NAME="index"/>
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="float" NAME="value"/>
      </message>
      <message NAME="BLOCK" LINK="forwarded" ID="5">
        <field TYPE="uint8" NAME="block_id"/>
        <field TYPE="uint8" NAME="ac_id"/>
      </message>
      <message NAME="HITL_UBX" LINK="forwarded" ID="6">
        <field TYPE="uint8" NAME="class"/>
        <field TYPE="uint8" NAME="id"/>
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8[]" NAME="ubx_payload"/>
      </message>
      <message NAME="HITL_INFRARED" LINK="forwarded" ID="7">
        <field TYPE="int16" NAME="roll"/>
        <field TYPE="int16" NAME="pitch"/>
        <field TYPE="int16" NAME="top"/>
        <field TYPE="uint8" NAME="ac_id"/>
      </message>
      <message NAME="PING" ID="8"/>
      <message NAME="FORMATION_SLOT" LINK="broadcasted" ID="9">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8" NAME="mode"/>
        <field UNIT="m" TYPE="float" NAME="slot_east" FORMAT="%.1f"/>
        <field UNIT="m" TYPE="float" NAME="slot_north" FORMAT="%.1f"/>
        <field UNIT="m" TYPE="float" NAME="slot_alt" FORMAT="%.1f"/>
      </message>
      <message NAME="FORMATION_STATUS" LINK="broadcasted" ID="10">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8" NAME="leader_id"/>
        <field TYPE="uint8" NAME="status"/>
      </message>
      <message NAME="JOYSTICK_RAW" LINK="forwarded" ID="11">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="int8" NAME="roll"/>
        <field TYPE="int8" NAME="pitch"/>
        <field TYPE="int8" NAME="throttle"/>
      </message>
      <message NAME="COMMANDS_RAW" LINK="forwarded" ID="12">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="int8[]" NAME="commands"/>
      </message>
      <message NAME="DGPS_RAW" LINK="forwarded" ID="13">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8" NAME="length"/>
        <field TYPE="uint8[]" NAME="rtcm"/>
      </message>
      <message NAME="GET_SETTING" LINK="forwarded" ID="16">
        <field TYPE="uint8" NAME="index"/>
        <field TYPE="uint8" NAME="ac_id"/>
      </message>
      <message NAME="TCAS_RESOLVE" LINK="forwarded" ID="17">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8" NAME="ac_id_conflict"/>
        <field VALUES="NONE|LEVEL|CLIMB|DESCEND" TYPE="uint8" NAME="resolve"/>
      </message>
      <message NAME="MISSION_GOTO_WP" LINK="forwarded" ID="20">
        <field TYPE="uint8" NAME="ac_id"/>
        <field VALUES="APPEND|PREPEND|REPLACE_CURRENT|REPLACE_ALL" TYPE="uint8" NAME="insert"/>
        <field UNIT="m" TYPE="float" NAME="wp_east"/>
        <field UNIT="m" TYPE="float" NAME="wp_north"/>
        <field UNIT="m" TYPE="float" NAME="wp_alt"/>
        <field UNIT="s" TYPE="float" NAME="duration"/>
      </message>
      <message NAME="MISSION_GOTO_WP_LLA" LINK="forwarded" ID="21">
        <field TYPE="uint8" NAME="ac_id"/>
        <field VALUES="APPEND|PREPEND|REPLACE_CURRENT|REPLACE_ALL" TYPE="uint8" NAME="insert"/>
        <field UNIT="deg" TYPE="float" NAME="wp_lat"/>
        <field UNIT="deg" TYPE="float" NAME="wp_lon"/>
        <field UNIT="m" TYPE="float" NAME="wp_alt"/>
        <field UNIT="s" TYPE="float" NAME="duration"/>
      </message>
      <message NAME="MISSION_CIRCLE" LINK="forwarded" ID="22">
        <field TYPE="uint8" NAME="ac_id"/>
        <field VALUES="APPEND|PREPEND|REPLACE_CURRENT|REPLACE_ALL" TYPE="uint8" NAME="insert"/>
        <field UNIT="m" TYPE="float" NAME="center_east"/>
        <field UNIT="m" TYPE="float" NAME="center_north"/>
        <field UNIT="m" TYPE="float" NAME="center_alt"/>
        <field UNIT="m" TYPE="float" NAME="radius"/>
        <field UNIT="s" TYPE="float" NAME="duration"/>
      </message>
      <message NAME="MISSION_CIRCLE_LLA" LINK="forwarded" ID="23">
        <field TYPE="uint8" NAME="ac_id"/>
        <field VALUES="APPEND|PREPEND|REPLACE_CURRENT|REPLACE_ALL" TYPE="uint8" NAME="insert"/>
        <field UNIT="deg" TYPE="float" NAME="center_lat"/>
        <field UNIT="deg" TYPE="float" NAME="center_lon"/>
        <field UNIT="m" TYPE="float" NAME="center_alt"/>
        <field UNIT="m" TYPE="float" NAME="radius"/>
        <field UNIT="s" TYPE="float" NAME="duration"/>
      </message>
      <message NAME="MISSION_SEGMENT" LINK="forwarded" ID="24">
        <field TYPE="uint8" NAME="ac_id"/>
        <field VALUES="APPEND|PREPEND|REPLACE_CURRENT|REPLACE_ALL" TYPE="uint8" NAME="insert"/>
        <field UNIT="m" TYPE="float" NAME="segment_east_1"/>
        <field UNIT="m" TYPE="float" NAME="segment_north_1"/>
        <field UNIT="m" TYPE="float" NAME="segment_east_2"/>
        <field UNIT="m" TYPE="float" NAME="segment_north_2"/>
        <field UNIT="m" TYPE="float" NAME="segment_alt"/>
        <field UNIT="s" TYPE="float" NAME="duration"/>
      </message>
      <message NAME="MISSION_SEGMENT_LLA" LINK="forwarded" ID="25">
        <field TYPE="uint8" NAME="ac_id"/>
        <field VALUES="APPEND|PREPEND|REPLACE_CURRENT|REPLACE_ALL" TYPE="uint8" NAME="insert"/>
        <field UNIT="deg" TYPE="float" NAME="segment_lat_1"/>
        <field UNIT="deg" TYPE="float" NAME="segment_lon_1"/>
        <field UNIT="deg" TYPE="float" NAME="segment_lat_2"/>
        <field UNIT="deg" TYPE="float" NAME="segment_lon_2"/>
        <field UNIT="m" TYPE="float" NAME="segment_alt"/>
        <field UNIT="s" TYPE="float" NAME="duration"/>
      </message>
      <message NAME="MISSION_PATH" LINK="forwarded" ID="26">
        <field TYPE="uint8" NAME="ac_id"/>
        <field VALUES="APPEND|PREPEND|REPLACE_CURRENT|REPLACE_ALL" TYPE="uint8" NAME="insert"/>
        <field UNIT="m" TYPE="float" NAME="point_east_1"/>
        <field UNIT="m" TYPE="float" NAME="point_north_1"/>
        <field UNIT="m" TYPE="float" NAME="point_east_2"/>
        <field UNIT="m" TYPE="float" NAME="point_north_2"/>
        <field UNIT="m" TYPE="float" NAME="point_east_3"/>
        <field UNIT="m" TYPE="float" NAME="point_north_3"/>
        <field UNIT="m" TYPE="float" NAME="point_east_4"/>
        <field UNIT="m" TYPE="float" NAME="point_north_4"/>
        <field UNIT="m" TYPE="float" NAME="point_east_5"/>
        <field UNIT="m" TYPE="float" NAME="point_north_5"/>
        <field UNIT="m" TYPE="float" NAME="path_alt"/>
        <field UNIT="s" TYPE="float" NAME="duration"/>
        <field TYPE="uint8" NAME="nb"/>
      </message>
      <message NAME="MISSION_PATH_LLA" LINK="forwarded" ID="27">
        <field TYPE="uint8" NAME="ac_id"/>
        <field VALUES="APPEND|PREPEND|REPLACE_CURRENT|REPLACE_ALL" TYPE="uint8" NAME="insert"/>
        <field UNIT="deg" TYPE="float" NAME="point_lat_1"/>
        <field UNIT="deg" TYPE="float" NAME="point_lon_1"/>
        <field UNIT="deg" TYPE="float" NAME="point_lat_2"/>
        <field UNIT="deg" TYPE="float" NAME="point_lon_2"/>
        <field UNIT="deg" TYPE="float" NAME="point_lat_3"/>
        <field UNIT="deg" TYPE="float" NAME="point_lon_3"/>
        <field UNIT="deg" TYPE="float" NAME="point_lat_4"/>
        <field UNIT="deg" TYPE="float" NAME="point_lon_4"/>
        <field UNIT="deg" TYPE="float" NAME="point_lat_5"/>
        <field UNIT="deg" TYPE="float" NAME="point_lon_5"/>
        <field UNIT="m" TYPE="float" NAME="path_alt"/>
        <field UNIT="s" TYPE="float" NAME="duration"/>
        <field TYPE="uint8" NAME="nb"/>
      </message>
      <message NAME="MISSION_SURVEY" LINK="forwarded" ID="28">
        <field TYPE="uint8" NAME="ac_id"/>
        <field VALUES="APPEND|PREPEND|REPLACE_CURRENT|REPLACE_ALL" TYPE="uint8" NAME="insert"/>
        <field UNIT="m" TYPE="float" NAME="survey_east_1"/>
        <field UNIT="m" TYPE="float" NAME="survey_north_1"/>
        <field UNIT="m" TYPE="float" NAME="survey_east_2"/>
        <field UNIT="m" TYPE="float" NAME="survey_north_2"/>
        <field UNIT="m" TYPE="float" NAME="survey_alt"/>
        <field UNIT="s" TYPE="float" NAME="duration"/>
      </message>
      <message NAME="MISSION_SURVEY_LLA" LINK="forwarded" ID="29">
        <field TYPE="uint8" NAME="ac_id"/>
        <field VALUES="APPEND|PREPEND|REPLACE_CURRENT|REPLACE_ALL" TYPE="uint8" NAME="insert"/>
        <field UNIT="deg" TYPE="float" NAME="survey_lat_1"/>
        <field UNIT="deg" TYPE="float" NAME="survey_lon_1"/>
        <field UNIT="deg" TYPE="float" NAME="survey_lat_2"/>
        <field UNIT="deg" TYPE="float" NAME="survey_lon_2"/>
        <field UNIT="m" TYPE="float" NAME="survey_alt"/>
        <field UNIT="s" TYPE="float" NAME="duration"/>
      </message>
      <message NAME="GOTO_MISSION" LINK="forwarded" ID="30">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8" NAME="mission_id"/>
      </message>
      <message NAME="NEXT_MISSION" LINK="forwarded" ID="31">
        <field TYPE="uint8" NAME="ac_id"/>
      </message>
      <message NAME="END_MISSION" LINK="forwarded" ID="32">
        <field TYPE="uint8" NAME="ac_id"/>
      </message>
      <message NAME="WINDTURBINE_STATUS" LINK="broadcasted" ID="50">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8" NAME="tb_id"/>
        <field UNIT="ms" TYPE="uint32" NAME="sync_itow"/>
        <field UNIT="ms" TYPE="uint32" NAME="cycle_time"/>
      </message>
      <message NAME="RC_3CH" LINK="broadcasted" ID="51">
        <field UNIT="byte_mask" TYPE="uint8" NAME="throttle_mode"/>
        <field TYPE="int8" NAME="roll"/>
        <field TYPE="int8" NAME="pitch"/>
      </message>
      <message NAME="RC_4CH" LINK="broadcasted" ID="52">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8" NAME="mode"/>
        <field TYPE="uint8" NAME="throttle"/>
        <field TYPE="int8" NAME="roll"/>
        <field TYPE="int8" NAME="pitch"/>
        <field TYPE="int8" NAME="yaw"/>
      </message>
      <message NAME="REMOTE_GPS" LINK="broadcasted" ID="55">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8" NAME="numsv"/>
        <field UNIT="cm" TYPE="int32" NAME="ecef_x" ALT_UNIT="m"/>
        <field UNIT="cm" TYPE="int32" NAME="ecef_y" ALT_UNIT="m"/>
        <field UNIT="cm" TYPE="int32" NAME="ecef_z" ALT_UNIT="m"/>
        <field TYPE="int32" NAME="lat" ALT_UNIT_COEF="0.0000057296" ALT_UNIT="deg"/>
        <field TYPE="int32" NAME="lon" ALT_UNIT_COEF="0.0000057296" ALT_UNIT="deg"/>
        <field UNIT="mm" TYPE="int32" NAME="alt" ALT_UNIT="m"/>
        <field UNIT="mm" TYPE="int32" NAME="hmsl" ALT_UNIT="m"/>
        <field UNIT="cm/s" TYPE="int32" NAME="ecef_xd" ALT_UNIT="m/s"/>
        <field UNIT="cm/s" TYPE="int32" NAME="ecef_yd" ALT_UNIT="m/s"/>
        <field UNIT="cm/s" TYPE="int32" NAME="ecef_zd" ALT_UNIT="m/s"/>
        <field TYPE="uint32" NAME="tow"/>
        <field TYPE="int32" NAME="course" ALT_UNIT_COEF="0.0000057296" ALT_UNIT="deg"/>
      </message>
      <message NAME="KITE_COMMAND" ID="96">
        <field TYPE="uint16" NAME="POWER"/>
        <field TYPE="uint16" NAME="TURN"/>
      </message>
      <message NAME="PAYLOAD_COMMAND" LINK="forwarded" ID="97">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8[]" NAME="command"/>
      </message>
      <message NAME="SET_ACTUATOR" LINK="forwarded" ID="100">
        <field TYPE="uint16" NAME="value"/>
        <field TYPE="uint8" NAME="no"/>
        <field TYPE="uint8" NAME="ac_id"/>
      </message>
      <message NAME="CSC_SERVO_CMD" ID="101">
        <field TYPE="uint16" NAME="servo_1"/>
        <field TYPE="uint16" NAME="servo_2"/>
        <field TYPE="uint16" NAME="servo_3"/>
        <field TYPE="uint16" NAME="servo_4"/>
      </message>
      <message NAME="BOOZ2_FMS_COMMAND" LINK="forwarded" ID="149">
        <field VALUES="KILL|RATE|ATTITUDE|HOVER|NAV" TYPE="uint8" NAME="h_mode"/>
        <field VALUES="KILL|DIRECT|CLIMB_RC|CLIMB|ALT|NAV" TYPE="uint8" NAME="v_mode"/>
        <field TYPE="int32" NAME="v_sp"/>
        <field TYPE="int32" NAME="h_sp_1"/>
        <field TYPE="int32" NAME="h_sp_2"/>
        <field TYPE="int32" NAME="h_sp_3"/>
        <field TYPE="uint8" NAME="ac_id"/>
      </message>
      <message NAME="BOOZ_NAV_STICK" LINK="forwarded" ID="150">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="int8" NAME="vx_sp"/>
        <field TYPE="int8" NAME="vy_sp"/>
        <field TYPE="int8" NAME="vz_sp"/>
        <field TYPE="int8" NAME="r_sp"/>
      </message>
      <message NAME="EXTERNAL_FILTER_SOLUTION" LINK="forwarded" ID="151">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="uint8" NAME="status"/>
        <field UNIT="m" TYPE="float" NAME="x"/>
        <field UNIT="m" TYPE="float" NAME="xd"/>
        <field UNIT="m" TYPE="float" NAME="y"/>
        <field UNIT="m" TYPE="float" NAME="yd"/>
      </message>
      <message NAME="ROTORCRAFT_CAM_STICK" LINK="forwarded" ID="152">
        <field TYPE="uint8" NAME="ac_id"/>
        <field TYPE="int8" NAME="tilt"/>
        <field TYPE="int8" NAME="pan"/>
      </message>
    </class>
    <class NAME="ground">
      <message NAME="NEW_AIRCRAFT" ID="1">
        <field TYPE="string" NAME="ac_id"/>
      </message>
      <message NAME="AIRCRAFT_DIE" ID="2">
        <field TYPE="string" NAME="ac_id"/>
      </message>
      <message NAME="AIRCRAFTS" ID="3">
        <field TYPE="string" NAME="ac_list" FORMAT="csv"/>
      </message>
      <message NAME="AIRCRAFTS_REQ" ID="4"/>
      <message NAME="SELECTED" ID="5">
        <field TYPE="string" NAME="aircraft_id"/>
      </message>
      <message NAME="SELECTED_REQ" ID="6"/>
      <message NAME="WIND_CLEAR" ID="7">
        <field TYPE="string" NAME="ac_id"/>
      </message>
      <message NAME="WIND" ID="8">
        <field TYPE="string" NAME="ac_id"/>
        <field UNIT="deg_wind" TYPE="float" NAME="dir"/>
        <field UNIT="m/s" TYPE="float" NAME="wspeed"/>
        <field UNIT="m/s" TYPE="float" NAME="mean_aspeed"/>
        <field UNIT="m/s" TYPE="float" NAME="stddev"/>
      </message>
      <message NAME="CONFIG_REQ" ID="9">
        <field TYPE="string" NAME="ac_id"/>
      </message>
      <message NAME="CONFIG" ID="10">
        <field TYPE="string" NAME="ac_id"/>
        <field UNIT="url" TYPE="string" NAME="flight_plan"/>
        <field UNIT="url" TYPE="string" NAME="airframe"/>
        <field UNIT="url" TYPE="string" NAME="radio"/>
        <field UNIT="url" TYPE="string" NAME="settings"/>
        <field TYPE="string" NAME="default_gui_color"/>
        <field TYPE="string" NAME="ac_name"/>
      </message>
      <message NAME="FLIGHT_PARAM" ID="11">
        <field TYPE="string" NAME="ac_id"/>
        <field UNIT="deg" TYPE="float" NAME="roll"/>
        <field UNIT="deg" TYPE="float" NAME="pitch"/>
        <field UNIT="deg" TYPE="float" NAME="heading"/>
        <field UNIT="deg" TYPE="float" NAME="lat"/>
        <field UNIT="deg" TYPE="float" NAME="long"/>
        <field UNIT="m/s" TYPE="float" NAME="speed"/>
        <field UNIT="deg" TYPE="float" NAME="course" FORMAT="%.1f"/>
        <field UNIT="m" TYPE="float" NAME="alt"/>
        <field UNIT="m/s" TYPE="float" NAME="climb"/>
        <field UNIT="m" TYPE="float" NAME="agl"/>
        <field UNIT="s (Unix time)" TYPE="float" NAME="unix_time"/>
        <field UNIT="ms" TYPE="uint32" NAME="itow"/>
        <field UNIT="m/s" TYPE="float" NAME="airspeed"/>
      </message>
      <message NAME="AP_STATUS" ID="12">
        <field TYPE="string" NAME="ac_id"/>
        <field VALUES="MANUAL|AUTO1|AUTO2|HOME|FAILSAFE" TYPE="string" NAME="ap_mode"/>
        <field VALUES="MANUAL|ROLL_RATE|ROLL|COURSE" TYPE="string" NAME="lat_mode"/>
        <field VALUES="WAYPOINT|ROUTE|CIRCLE" TYPE="string" NAME="horiz_mode"/>
        <field VALUES="MANUAL|THROTTLE|CLIMB|ALT" TYPE="string" NAME="gaz_mode"/>
        <field VALUES="NOFIX|DRO|2D|3D|GPSDRO" TYPE="string" NAME="gps_mode"/>
        <field VALUES="OFF|ON" TYPE="string" NAME="kill_mode"/>
        <field TYPE="uint32" NAME="flight_time"/>
        <field VALUES="UNKNOWN|INIT|ALIGN|OK|GPS_LOST|IMU_LOST|COV_ERR|IR_CONTRAST|ERROR" TYPE="string" NAME="state_filter_mode"/>
      </message>
      <message NAME="NAV_STATUS" ID="13">
        <field TYPE="string" NAME="ac_id"/>
        <field TYPE="uint8" NAME="cur_block"/>
        <field TYPE="uint8" NAME="cur_stage"/>
        <field TYPE="uint32" NAME="block_time"/>
        <field TYPE="uint32" NAME="stage_time"/>
        <field UNIT="deg" TYPE="float" NAME="target_lat"/>
        <field UNIT="deg" TYPE="float" NAME="target_long"/>
        <field UNIT="m/s" TYPE="float" NAME="target_climb"/>
        <field UNIT="m" TYPE="float" NAME="target_alt"/>
        <field UNIT="deg" TYPE="float" NAME="target_course"/>
        <field UNIT="m" TYPE="float" NAME="dist_to_wp"/>
      </message>
      <message NAME="CAM_STATUS" ID="14">
        <field TYPE="string" NAME="ac_id"/>
        <field UNIT="deg" TYPE="float" NAME="cam_lat"/>
        <field UNIT="deg" TYPE="float" NAME="cam_long"/>
        <field UNIT="deg" TYPE="float" NAME="cam_target_lat"/>
        <field UNIT="deg" TYPE="float" NAME="cam_target_long"/>
      </message>
      <message NAME="ENGINE_STATUS" ID="15">
        <field TYPE="string" NAME="ac_id"/>
        <field UNIT="%" TYPE="float" NAME="throttle" FORMAT="%.1f"/>
        <field TYPE="float" NAME="throttle_accu" FORMAT="%.1f"/>
        <field UNIT="rpm" TYPE="float" NAME="rpm" FORMAT="%.1f"/>
        <field UNIT="celcius" TYPE="float" NAME="temp"/>
        <field UNIT="V" TYPE="float" NAME="bat"/>
        <field UNIT="A" TYPE="float" NAME="amp"/>
        <field UNIT="Wh" TYPE="uint16" NAME="energy"/>
      </message>
      <message NAME="SVSINFO" ID="16">
        <field TYPE="string" NAME="ac_id"/>
        <field UNIT="cm" TYPE="uint16" NAME="pacc"/>
        <field TYPE="string" NAME="svid" FORMAT="csv"/>
        <field TYPE="string" NAME="flags" FORMAT="csv"/>
        <field VALUES="IDLE|SEARCH|SEARCH|UNUSABLE|CODELOCK|CARRIERLOCK|CARRIERLOCK|RECEIVING" TYPE="string" NAME="qi" FORMAT="csv"/>
        <field UNIT="dbHz" TYPE="string" NAME="cno" FORMAT="csv"/>
        <field UNIT="deg" TYPE="string" NAME="elev" FORMAT="csv"/>
        <field UNIT="deg" TYPE="string" NAME="azim" FORMAT="csv"/>
        <field UNIT="s" TYPE="string" NAME="msg_age" FORMAT="csv"/>
      </message>
      <message NAME="FLY_BY_WIRE" ID="17">
        <field TYPE="string" NAME="ac_id"/>
        <field VALUES="OK|LOST|REALLY_LOST" TYPE="string" NAME="rc_status"/>
        <field VALUES="MANUAL|AUTO|FAILSAFE" TYPE="string" NAME="rc_mode"/>
        <field UNIT="Hz" TYPE="uint8" NAME="rc_rate"/>
      </message>
      <message NAME="INFLIGH_CALIB" ID="19">
        <field TYPE="string" NAME="ac_id"/>
        <field VALUES="OFF|DOWN|UP" TYPE="string" NAME="if_mode"/>
        <field TYPE="float" NAME="if_value1"/>
        <field TYPE="float" NAME="if_value2"/>
      </message>
      <message NAME="WORLD_ENV" ID="20">
        <field UNIT="m/s" TYPE="float" NAME="wind_east" FORMAT="%.1f"/>
        <field UNIT="m/s" TYPE="float" NAME="wind_north" FORMAT="%.1f"/>
        <field UNIT="m/s" TYPE="float" NAME="wind_up" FORMAT="%.1f"/>
        <field TYPE="float" NAME="ir_contrast"/>
        <field TYPE="float" NAME="time_scale"/>
        <field VALUES="OFF|ON" TYPE="uint8" NAME="gps_availability"/>
      </message>
      <message NAME="WORLD_ENV_REQ" ID="21">
        <field UNIT="deg" TYPE="float" NAME="lat"/>
        <field UNIT="deg" TYPE="float" NAME="long"/>
        <field UNIT="m" TYPE="float" NAME="alt"/>
        <field UNIT="m" TYPE="float" NAME="east"/>
        <field UNIT="m" TYPE="float" NAME="north"/>
        <field UNIT="m" TYPE="float" NAME="up"/>
      </message>
      <message NAME="CIRCLE_STATUS" ID="22">
        <field TYPE="string" NAME="ac_id"/>
        <field UNIT="deg" TYPE="float" NAME="circle_lat"/>
        <field UNIT="deg" TYPE="float" NAME="circle_long"/>
        <field UNIT="m" TYPE="int16" NAME="radius"/>
      </message>
      <message NAME="SEGMENT_STATUS" ID="23">
        <field TYPE="string" NAME="ac_id"/>
        <field UNIT="deg" TYPE="float" NAME="segment1_lat"/>
        <field UNIT="deg" TYPE="float" NAME="segment1_long"/>
        <field UNIT="deg" TYPE="float" NAME="segment2_lat"/>
        <field UNIT="deg" TYPE="float" NAME="segment2_long"/>
      </message>
      <message NAME="MOVE_WAYPOINT" ID="24">
        <field TYPE="string" NAME="ac_id"/>
        <field TYPE="uint8" NAME="wp_id"/>
        <field UNIT="deg" TYPE="float" NAME="lat"/>
        <field UNIT="deg" TYPE="float" NAME="long"/>
        <field UNIT="m" TYPE="float" NAME="alt"/>
      </message>
      <message NAME="GET_DL_SETTING" ID="25">
        <field TYPE="string" NAME="ac_id"/>
        <field TYPE="uint8" NAME="index"/>
      </message>
      <message NAME="DL_SETTING" ID="26">
        <field TYPE="string" NAME="ac_id"/>
        <field TYPE="uint8" NAME="index"/>
        <field TYPE="float" NAME="value"/>
      </message>
      <message NAME="JUMP_TO_BLOCK" ID="27">
        <field TYPE="string" NAME="ac_id"/>
        <field TYPE="uint8" NAME="block_id"/>
      </message>
      <message NAME="DL_VALUES" ID="28">
        <field TYPE="string" NAME="ac_id"/>
        <field TYPE="string" NAME="values" FORMAT="csv"/>
      </message>
      <message NAME="RAW_DATALINK" ID="29">
        <field TYPE="string" NAME="ac_id"/>
        <field TYPE="string" NAME="message" FORMAT=";sv"/>
      </message>
      <message NAME="WAYPOINT_MOVED" ID="30">
        <field TYPE="string" NAME="ac_id"/>
        <field TYPE="uint8" NAME="wp_id"/>
        <field UNIT="deg" TYPE="float" NAME="lat"/>
        <field UNIT="deg" TYPE="float" NAME="long"/>
        <field UNIT="m" TYPE="float" NAME="alt"/>
        <field UNIT="m" TYPE="float" NAME="ground_alt"/>
      </message>
      <message NAME="SURVEY_STATUS" ID="31">
        <field TYPE="string" NAME="ac_id"/>
        <field UNIT="deg" TYPE="float" NAME="east_long"/>
        <field UNIT="deg" TYPE="float" NAME="north_lat"/>
        <field UNIT="deg" TYPE="float" NAME="west_long"/>
        <field UNIT="deg" TYPE="float" NAME="south_lat"/>
      </message>
      <message NAME="TELEMETRY_STATUS" ID="32">
        <field TYPE="string" NAME="ac_id"/>
        <field UNIT="s" TYPE="float" NAME="time_since_last_msg"/>
      </message>
      <message NAME="TELEMETRY_ERROR" ID="33">
        <field TYPE="string" NAME="ac_id"/>
        <field TYPE="string" NAME="message"/>
      </message>
      <message NAME="TELEMETRY_MESSAGE" ID="34">
        <field TYPE="string" NAME="ac_id"/>
        <field TYPE="string" NAME="link_id"/>
        <field TYPE="string" NAME="message" FORMAT=";sv"/>
      </message>
      <message NAME="DATALINK_MESSAGE" ID="35">
        <field TYPE="string" NAME="ac_id"/>
        <field TYPE="string" NAME="link_id"/>
        <field TYPE="string" NAME="message" FORMAT=";sv"/>
      </message>
      <message NAME="PLUMES" ID="100">
        <field TYPE="string" NAME="ids" FORMAT="csv"/>
        <field TYPE="string" NAME="lats" FORMAT="csv"/>
        <field TYPE="string" NAME="longs" FORMAT="csv"/>
        <field TYPE="string" NAME="values" FORMAT="csv"/>
      </message>
    </class>
    <class NAME="alert">
      <message NAME="BAT_LOW" ID="1">
        <field TYPE="string" NAME="ac_id"/>
        <field VALUES="CATASTROPHIC|CRITIC|WARNING" TYPE="string" NAME="level"/>
        <field TYPE="float" NAME="value"/>
      </message>
      <message NAME="AIR_PROX" ID="2">
        <field TYPE="string" NAME="ac_id"/>
        <field VALUES="CATASTROPHIC|CRITIC|WARNING" TYPE="string" NAME="level"/>
      </message>
    </class>
    <class NAME="DIA">
      <message NAME="NAV_INFO" ID="1">
        <field TYPE="float" NAME="unix_time"/>
        <field UNIT="deg" TYPE="float" NAME="lat"/>
        <field UNIT="deg" TYPE="float" NAME="long"/>
        <field UNIT="m" TYPE="uint16" NAME="alt"/>
        <field UNIT="deg" TYPE="uint16" NAME="course"/>
        <field UNIT="cm/s" TYPE="uint16" NAME="speed"/>
        <field UNIT="deg" TYPE="int16" NAME="cam_roll"/>
        <field UNIT="deg" TYPE="int16" NAME="cam_pitch"/>
      </message>
    </class>
  </protocol>
</configuration>